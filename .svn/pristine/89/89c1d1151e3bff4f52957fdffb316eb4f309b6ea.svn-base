/*
 * JSP generated by Resin Professional 4.0.36 (built Fri, 26 Apr 2013 03:33:09 PDT)
 */

package _jsp;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import java.sql.*;
import java.io.*;
import java.text.DateFormat;
import java.util.*;
import java.util.Date;
import java.util.Calendar;
import java.text.*;
import java.lang.String;
import CP_Classes.vo.*;
import CP_Classes.vo.votblJobPosition;
import CP_Classes.vo.voJobCategory;
import CP_Classes.vo.voCompetency;

public class _surveydetail__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  private boolean _caucho_isNotModified;
  private com.caucho.jsp.PageManager _jsp_pageManager;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    com.caucho.jsp.PageContextImpl pageContext = _jsp_pageManager.allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);

    TagState _jsp_state = null;

    try {
      _jspService(request, response, pageContext, _jsp_application, session, _jsp_state);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_pageManager.freePageContext(pageContext);
    }
  }
  
  private void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response,
              com.caucho.jsp.PageContextImpl pageContext,
              javax.servlet.ServletContext application,
              javax.servlet.http.HttpSession session,
              TagState _jsp_state)
    throws Throwable
  {
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    javax.servlet.jsp.tagext.JspTag _jsp_parent_tag = null;
    com.caucho.jsp.PageContextImpl _jsp_parentContext = pageContext;
    response.setContentType("text/html");
    response.setCharacterEncoding("utf-8");

    out.write(_jsp_string0, 0, _jsp_string0.length);
    CP_Classes.Login logchk;
    synchronized (pageContext.getSession()) {
      logchk = (CP_Classes.Login) pageContext.getSession().getAttribute("logchk");
      if (logchk == null) {
        logchk = new CP_Classes.Login();
        pageContext.getSession().setAttribute("logchk", logchk);
      }
    }
    out.write(_jsp_string1, 0, _jsp_string1.length);
    CP_Classes.Create_Edit_Survey CE_Survey;
    synchronized (pageContext.getSession()) {
      CE_Survey = (CP_Classes.Create_Edit_Survey) pageContext.getSession().getAttribute("CE_Survey");
      if (CE_Survey == null) {
        CE_Survey = new CP_Classes.Create_Edit_Survey();
        pageContext.getSession().setAttribute("CE_Survey", CE_Survey);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.GlobalFunc global;
    synchronized (pageContext.getSession()) {
      global = (CP_Classes.GlobalFunc) pageContext.getSession().getAttribute("global");
      if (global == null) {
        global = new CP_Classes.GlobalFunc();
        pageContext.getSession().setAttribute("global", global);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.Translate trans;
    synchronized (pageContext.getSession()) {
      trans = (CP_Classes.Translate) pageContext.getSession().getAttribute("trans");
      if (trans == null) {
        trans = new CP_Classes.Translate();
        pageContext.getSession().setAttribute("trans", trans);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.JobCategoryDetail JobDetail;
    synchronized (pageContext.getSession()) {
      JobDetail = (CP_Classes.JobCategoryDetail) pageContext.getSession().getAttribute("JobDetail");
      if (JobDetail == null) {
        JobDetail = new CP_Classes.JobCategoryDetail();
        pageContext.getSession().setAttribute("JobDetail", JobDetail);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.JobCategory JobCat;
    synchronized (pageContext.getSession()) {
      JobCat = (CP_Classes.JobCategory) pageContext.getSession().getAttribute("JobCat");
      if (JobCat == null) {
        JobCat = new CP_Classes.JobCategory();
        pageContext.getSession().setAttribute("JobCat", JobCat);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.JobPosition JP;
    JP = (CP_Classes.JobPosition) pageContext.getAttribute("JP");
    if (JP == null) {
      JP = new CP_Classes.JobPosition();
      pageContext.setAttribute("JP", JP);
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.Organization ORG;
    ORG = (CP_Classes.Organization) pageContext.getAttribute("ORG");
    if (ORG == null) {
      ORG = new CP_Classes.Organization();
      pageContext.setAttribute("ORG", ORG);
    }
    out.write(_jsp_string3, 0, _jsp_string3.length);
    // by lydia Date 05/09/2008 Fix jsp file to support Thai language 
    out.write(_jsp_string4, 0, _jsp_string4.length);
    out.print((trans.tslt("Please note changing the survey from not using cluster to using cluster will remove all the Competencies and Key Behaviors previously assigned. Do you want to proceed?")));
    out.write(_jsp_string5, 0, _jsp_string5.length);
    out.print((trans.tslt("Please enter Survey Name")));
    out.write(_jsp_string6, 0, _jsp_string6.length);
    out.print((trans.tslt("There is currently no job position in the organization. Please create a job position before creating a survey.")));
    out.write(_jsp_string7, 0, _jsp_string7.length);
    out.print((trans.tslt("Do you wish to change the survey level? Note that the survey status will be switched to Not Commissioned")));
    out.write(_jsp_string8, 0, _jsp_string8.length);
    out.print((trans.tslt("Please note that changing from Key Behaviour level to Competency level will remove all Key Behaviours assigned to the Survey. Do you want to proceed")));
    out.write(_jsp_string9, 0, _jsp_string9.length);
    out.print((trans.tslt("Save changes")));
    out.write(_jsp_string10, 0, _jsp_string10.length);
    out.print((trans.tslt("Please note that no more rater can be added once the survey is closed. Do you want to proceed?")));
    out.write(_jsp_string11, 0, _jsp_string11.length);
    out.print((trans.tslt("Save changes")));
    out.write(_jsp_string12, 0, _jsp_string12.length);
    out.print((trans.tslt("Save changes")));
    out.write(_jsp_string13, 0, _jsp_string13.length);
    out.print((trans.tslt("Save changes")));
    out.write(_jsp_string14, 0, _jsp_string14.length);
    out.print((trans.tslt("Save changes")));
    out.write(_jsp_string15, 0, _jsp_string15.length);
    out.print((trans.tslt("Save changes")));
    out.write(_jsp_string16, 0, _jsp_string16.length);
    out.print((trans.tslt("Save changes")));
    out.write(_jsp_string17, 0, _jsp_string17.length);
    out.print((trans.tslt("Please note that no more rater can be added once the survey is closed. Do you want to proceed?")));
    out.write(_jsp_string18, 0, _jsp_string18.length);
    out.print((trans.tslt("That date is invalid. Please try again")));
    out.write(_jsp_string19, 0, _jsp_string19.length);
    out.print((trans.tslt("That date is invalid. Please try again")));
    out.write(_jsp_string20, 0, _jsp_string20.length);
    out.print((trans.tslt("Deadline must be later than today date")));
    out.write(_jsp_string21, 0, _jsp_string21.length);
    out.print((trans.tslt("Both dates must be entered")));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    out.print((trans.tslt("Opened date must be earlier than Deadline date")));
    out.write(_jsp_string23, 0, _jsp_string23.length);
    
String username=(String)session.getAttribute("username");

  if (!logchk.isUsable(username)) 
  {
    out.write(_jsp_string24, 0, _jsp_string24.length);
      } 


SimpleDateFormat formatter_db1 = new SimpleDateFormat ("dd/MM/yyyy");
SimpleDateFormat formatter_db2= new SimpleDateFormat ("yyyy/MM/dd");
SimpleDateFormat day_view= new SimpleDateFormat ("dd/MM/yyyy");
// Remove minGap and maxGap check 
// Mark Oei 16 April 2010
if(request.getParameter("delAll") != null || request.getParameter("setting") != null || request.getParameter("Save") != null || request.getParameter("proceed") != null || request.getParameter("level") != null || request.getParameter("comp") != null || request.getParameter("behav") != null || request.getParameter("demos") != null || request.getParameter("rata") != null)
{	
	Date hari_ini;
	hari_ini = new Date();
	
	int NA_Included = 0;
	int HideNAOption = 0;  //Denise 14/12/2009 to store the hideNAOption value
	int SplitOthersOption = 0;  //Qiao Li 17/12/2009 to store the splitOthersOption value
	int useCluster = 0; //Albert 15/06/2012 to store the useCluster value
	int breakCPR = 0; //Albert 09/07/2012 to store the breakCPR value
	int hideKBDesc = 0; //Albert 05/01/2013 to store the hideKB description value
	int	XComment_Included = 0;
	int JobFutureID = 0;
	int TimeFrameID = 0;
	int SurveyID = CE_Survey.getSurvey_ID();
	String month = "NA";
	String DeadlineDate = request.getParameter("DeadlineDate");
	int selStatus = 0;
	String selStatus_str = request.getParameter("selStatus");	
	
	String DateOpened = request.getParameter("DateOpened");
	
	String AnalysisDate =" ";
	//To insert some default value of MinGap and MaxGap
	//Mark Oei 16 April 2010
	String MinGap = "";
	String MaxGap = "";
	int FKCompanyID = logchk.getCompany(); 
	//commented off as this is not needed
	//Mark Oei 29 April 2010
	//MinGap = request.getParameter("txtMinGap");
	//MaxGap = request.getParameter("txtMaxGap");

	String SurveyName = "";
	int JobPosID1 = 0;
	int Reliability = 0;
	String str_NA_Included = "";
	int LevelofSurvey = 0;
	String db_Comment_Included = "";
	String str_HideNAOption = "" ; //Denise 14/12/2009 to check if hideOption is clicked
	String str_SplitOthersOption = "" ; //Qiao Li 17/12/2009 to check if splitOthersOption is clicked
	String str_useCluster = "" ; //Albert 15/06/2012 to check if useCluster is clicked
	String str_breakCPR = "" ; //Albert 09/07/2012 to check if breakCPR is clicked
	String str_hideKBDesc = "" ; //Albert 05/01/2013 to check if hideKBDesc is clicked
	
	
	if(selStatus_str != null)
	{
		selStatus = new Integer(selStatus_str).intValue();		
	}
	else
		selStatus = 2;
	
		/****************************************
        *UPDATED  by Thant Thura Myo
        *date 17 Jan 2008

        ******************************************/
       Date dToday=new Date();
       dToday=new Date(day_view.format(dToday));
       Date dDeadlineDate=new Date(DeadlineDate);
       String selOriginalVal=request.getParameter("selOriginalVal");

		
	str_HideNAOption = request.getParameter("HideNAOption"); //Denise 14/12/2009. Get hideNAOption value
	str_SplitOthersOption = request.getParameter("SplitOthersOption"); //Qiao Li 17/12/2009. Get SplitOthersOption value
	str_useCluster = request.getParameter("useCluster"); //Albert 15/06/2012 . Get useCluster value
	str_breakCPR = request.getParameter("breakCPR"); //Albert 09/07/2012 . Get breakCPR value
	str_hideKBDesc = request.getParameter("hideKBDesc");
					
	if(CE_Survey.getSurveyStatus() != 2) // Survey is not Closed
	{
		
		if(CE_Survey.Allow_SurvChange(SurveyID))
		{ 
			SurveyName = request.getParameter("txtSurvey");
			JobPosID1 = new Integer(request.getParameter("selJob2")).intValue();
			Reliability = new Integer(request.getParameter("Reliability")).intValue();
			str_NA_Included = request.getParameter("NA_Included");
			LevelofSurvey = new Integer(request.getParameter("SurveyLevel")).intValue();
			db_Comment_Included = request.getParameter("Comment_Included");		
			
			CE_Survey.setCompetencyLevel(LevelofSurvey);
			
			Date d1a = formatter_db1.parse(DateOpened);
			DateOpened = formatter_db2.format(d1a);
			
			Date d1b = formatter_db1.parse(DeadlineDate);
			DeadlineDate = formatter_db2.format(d1b);
		}
	}
		
	if(str_NA_Included != null)
	{
		NA_Included = 1;
	}
	
	if(db_Comment_Included != null)
	{
		XComment_Included = 1;
	}
	
	if(str_HideNAOption != null && !str_HideNAOption.equals("")) //Densie 14/12/2009 check if hideNAOption is chosen
	{
		HideNAOption = 1; 
	}
	if(str_SplitOthersOption != null && !str_SplitOthersOption.equals("")) //Qiao Li 17/12/2009 check if splitOthersOption is chosen
	{
		SplitOthersOption = 1; 
	}
	if(str_useCluster != null && !str_useCluster.equals("")) //Albert 15/06/2012 check if useCluster is chosen
	{
		useCluster = 1; 
	}
	if(str_breakCPR != null && !str_breakCPR.equals("")) //Albert 09/07/2012 check if breakCPR is chosen
	{
		breakCPR = 1; 
	}
	if(str_hideKBDesc != null && !str_hideKBDesc.equals(""))
	{
		hideKBDesc = 1; 
	}
//del if selStatus==1...

//Changed by Ha 29/05/08 to set open date correctly accroding to the type of the survey.
//Fix the bug when the date appears in the interface not saved but still saved in database
//Fix the bug when the information appears to change in interface but does not change in database
//Change the date passed to method CE_Survey.updateRecord_AfterRaterComplete, change type of Date passed to the query from dd/mm/yyyy to mm/dd/yyyy 
	
	
				
				
	if(CE_Survey.getSurveyStatus() !=2)	// If survey is not "Closed" yet
	{		
            // if the survey status is open, the open date must be today or later.
            if(selStatus != 3) // If the survey status is Open
            {
                //add another check for Date if it is first time adding
                //updated by thant thura myo
                //date 20 Feb 2008
                 
                 boolean bExist =  false;
                 int surveyLevel ;
                 //Changed by HA 09/06/08 
                 /*If the survey is in Competency Level, check whether it has Competency*/
                 /* If the Survey is in the KB level, check whether  for each competency, it*/
                 /*  has at least 1 KB or not */
                 if (request.getParameter("SurveyLevel")!=null)
                    surveyLevel = Integer.parseInt(request.getParameter("SurveyLevel"));
                 else
                	surveyLevel = CE_Survey.getSurveyLevel(SurveyID);
                 if (surveyLevel ==0)
                	bExist = CE_Survey.checkCompetencyExist(SurveyID);
                 else
                	 bExist = CE_Survey.checkSurveyCompetency(SurveyID);
                
                 if (bExist)
                 {                	 
	                 Date tempToday=new Date();                
	                 SimpleDateFormat day_view1= new SimpleDateFormat ("yyyy/MM/dd");
	                 String DateToday = day_view1.format(tempToday);
	                 Date dDateOpen = null;
	                 if (DateOpened != null)
	                 {	                	
	                	 dDateOpen=new Date(DateOpened);	
	                 }                
	                	 tempToday=new Date(DateToday);
	               		 Date dToday1=tempToday;
	                 
	           			 if(dDateOpen==null||dToday1.before(dDateOpen)|| dToday1.equals(dDateOpen))
	           			 {		            
	           				
		                	 if(SurveyID == 0)
						   {	
		                	 /*
	                         * Add new function for Survey name checking
	                         *    @author thant thura myo
	                         *  @date 20 feb 2008	             
	                        */
	                     	//check for survey name for new record.
		                     boolean bNameExist=CE_Survey.checkSurveyName(SurveyName);
		                     System.out.println(">>>>>>>>>>>");
		                     System.out.println("a. Check exist or not "+bNameExist); //added 'a' for aiding debugging, Mark Oei 29 April 2010
		                     if(!bNameExist)
		                     {//if not exist, save as new, if exist, error                        
	                     	 	try
	                         	{
	                         	
		                         	/**********************************************************
		                         	* Added by junwei on March 04 2008
		                         	* to checking for competency, key behaviour and rating added
		                         	***********************************************************/
		                         	int selectedSurveyLevel = Integer.parseInt(request.getParameter("SurveyLevel"));
		                         	if(selectedSurveyLevel == 0)
		                         	{
		                         		
	                         			boolean checkedResult = CE_Survey.checkRating(SurveyID);	
	                         			if(checkedResult == true)
	                         			{                       			
	                         		 		CE_Survey.addRecord(SurveyName,JobPosID1,month,DateOpened,LevelofSurvey,DeadlineDate,selStatus,AnalysisDate,Reliability,JobFutureID,TimeFrameID,NA_Included,CE_Survey.get_survOrg(),FKCompanyID,MinGap,MaxGap,XComment_Included, logchk.getPKUser(), useCluster, breakCPR, hideKBDesc);
	                         			}
	                         			else
	                         			{
	                         			
    out.write(_jsp_string25, 0, _jsp_string25.length);
    
	                         			}
	                         		}
	                         		else
	                         		{
	                         			
	                         			boolean checkedResult = CE_Survey.checkBehaviourRating(SurveyID);
	                         			if(checkedResult == true)
	                         			{	                          			
	                         			 CE_Survey.addRecord(SurveyName,JobPosID1,month,DateOpened,LevelofSurvey,DeadlineDate,selStatus,AnalysisDate,Reliability,JobFutureID,TimeFrameID,NA_Included,CE_Survey.get_survOrg(),FKCompanyID,MinGap,MaxGap,XComment_Included, logchk.getPKUser(), useCluster, breakCPR, hideKBDesc); 
	                         			}
	                         			else
	                         			{
	                         			
    out.write(_jsp_string26, 0, _jsp_string26.length);
    
	                         			}
	                         		}
	                         	
	                             	if(CE_Survey.getJobCat() != 0) 
	                             	{
	                                     Vector vComp = JobDetail.getCompetencyAssigned(CE_Survey.getJobCat(), CE_Survey.get_survOrg());
	
	                                     for(int i=0; i<vComp.size(); i++)
	                                     {
	                                          voCompetency vo = (voCompetency)vComp.elementAt(i);	
	                                          int FKComp = vo.getCompetencyID();
	                                          SurveyID = CE_Survey.getSurvey_ID();
	                                          CE_Survey.addCompetency(FKComp,SurveyID,1);
		                                  }	
	                                      CE_Survey.setJobCat(0);	
	                          		 }
	                         	}
	                        	catch(SQLException sqle)
	                        	{	
    out.write(_jsp_string27, 0, _jsp_string27.length);
    out.print((trans.tslt("Survey name exists")));
    out.write(_jsp_string28, 0, _jsp_string28.length);
    	
	                     		}	                         
	                         }//end if(bNameExist)
	                         else
	                         {
	                         
    out.write(_jsp_string27, 0, _jsp_string27.length);
    out.print((trans.tslt("Survey name exists")));
    out.write(_jsp_string29, 0, _jsp_string29.length);
    
	                     	  }
	     				 } //end SurveyId ==0
                         else
	  					 {
	    				   	if(CE_Survey.Allow_SurvChange(SurveyID))
						 	{ 
	    				   		  CE_Survey.changeHideNAOption( HideNAOption, CE_Survey.getSurvey_ID()); //change the Hide NA Option 
								  CE_Survey.changeSplitOthersOption( SplitOthersOption, CE_Survey.getSurvey_ID()); //change the SplitOthersOption (Qiao Li 17 Dec 2009)
								  CE_Survey.changeUseClusterOption( useCluster, CE_Survey.getSurvey_ID()); //change the useCluster option (Albert 15 June 2012)
								  CE_Survey.changeBreakCPR( breakCPR, CE_Survey.getSurvey_ID()); //change the breakCPR option (Albert 09 July 2012)
								  CE_Survey.changeHideKBDesc( hideKBDesc, CE_Survey.getSurvey_ID());
	               			 	  boolean bNameExist=CE_Survey.checkSurveyName(SurveyName,SurveyID);
			                      System.out.println(">>>>>>>>>>>");
			                      System.out.println("b. Check exist or not "+bNameExist);//added 'b' for aiding debugging, Mark Oei 29 April 2010
			                      if(!bNameExist)
			                      {//if not exist, save as new, if exist, error              
                      		 		 try
                      		  		 {
				                      /**********************************************************
				                      * Added by junwei on March 04 2008
				                      * to checking for competency, key behaviour and rating added
				                      ***********************************************************/
					                      int selectedSurveyLevel = Integer.parseInt(request.getParameter("SurveyLevel"));
			                      		  if(selectedSurveyLevel == 0)
	                      				  {
			                      			   
			                      				boolean checkedResult = CE_Survey.checkRating(SurveyID);	
			                      				if(checkedResult == true)
	                      						{
	                                            	//get values from database to display
	                                            	//Mark Oei 29 April 2010
	                                            	votblSurvey vo = CE_Survey.getSurveyDetail(CE_Survey.getSurvey_ID());
	                                        		MinGap = Float.toString(vo.getMIN_Gap()); //get values from database
	                                        		MaxGap = Float.toString(vo.getMAX_Gap());

	                      							CE_Survey.updateRecord(SurveyName,JobPosID1,month,DateOpened,LevelofSurvey,DeadlineDate,selStatus,AnalysisDate,Reliability,NA_Included,SurveyID,CE_Survey.get_survOrg(),FKCompanyID,MinGap,MaxGap,XComment_Included, logchk.getPKUser(), useCluster, CE_Survey.getHideCompDesc(), breakCPR,hideKBDesc, CE_Survey.getMergeRelation());

			                      				}
	                      						else
	                      						{
			                      					
    out.write(_jsp_string30, 0, _jsp_string30.length);
    
	                      						}
	                      			 	   }
	                      				   else
	                      		     	   {
	                      						boolean checkedResult = CE_Survey.checkBehaviourRating(SurveyID);
	                      						if(checkedResult == true)
	                      						{
	                                            	//get values from database to display
	                                            	//Mark Oei 29 April 2010
	                                            	votblSurvey vo = CE_Survey.getSurveyDetail(CE_Survey.getSurvey_ID());
	                                        		MinGap = Float.toString(vo.getMIN_Gap()); //get values from database
	                                        		MaxGap = Float.toString(vo.getMAX_Gap());

	                      					 		CE_Survey.updateRecord(SurveyName,JobPosID1,month,DateOpened,LevelofSurvey,DeadlineDate,selStatus,AnalysisDate,Reliability,NA_Included,SurveyID,CE_Survey.get_survOrg(),FKCompanyID,MinGap,MaxGap,XComment_Included, logchk.getPKUser(), useCluster, CE_Survey.getHideCompDesc(), breakCPR,hideKBDesc, CE_Survey.getMergeRelation());

	                      						}
	                      						else
	                      						{
			                      					
    out.write(_jsp_string30, 0, _jsp_string30.length);
    
	                      						}
	                      			 		}                                  
                     		  			}//End of try
                        			 	catch(SQLException sqle)
                      					{	
    out.write(_jsp_string31, 0, _jsp_string31.length);
    out.print((trans.tslt("Survey name exists")));
    out.write(_jsp_string32, 0, _jsp_string32.length);
    	}                      
                      				}
	                   			 	else
                      				{
				                          
    out.write(_jsp_string33, 0, _jsp_string33.length);
    out.print((trans.tslt("Survey name exists")));
    out.write(_jsp_string34, 0, _jsp_string34.length);
    
                        			}
								}
								else
								{
									try 
									{
										
										String tempDay = DeadlineDate.substring(0,2);
										String tempMonth = DeadlineDate.substring(3,5);
										String newDeadlineDate = DeadlineDate.substring(6,10);
									    newDeadlineDate = tempMonth +"/" + tempDay + "/" +newDeadlineDate;									    
										CE_Survey.updateRecord_AfterRaterComplete(month, newDeadlineDate, selStatus, AnalysisDate, SurveyID, logchk.getPKUser());
									}
									catch(SQLException sqle) 
									{
										System.out.println(sqle);
									}
								}
	    					}
                 		}
	           		 	else
	           		 	{         
                              
    out.write(_jsp_string35, 0, _jsp_string35.length);
    out.print((trans.tslt("Opened Date must not be earlier than today")));
    out.write(_jsp_string36, 0, _jsp_string36.length);
         
                         }//end of  if((dToday.before(dDateOpen)){
                         // end of openedDate !=null
           		}//end of if (bExist)
           		else
           		{
           			
           			
    out.write(_jsp_string37, 0, _jsp_string37.length);
    	
           		}
           	}
           	else if (selStatus == 3)
           	{//if(CE_Survey.getSurveyStatus() == 3))
				if(SurveyID == 0)
				{	
                      //check for survey name for new record.
                            boolean bNameExist=CE_Survey.checkSurveyName(SurveyName);
                            System.out.println(">>>>>>>>>>>");
                            System.out.println("c. Check exist or not "+bNameExist); //added 'c' for aiding debugging, Mark Oei 29 April 2010
                            if(!bNameExist){
                                
                                //add another check for Date if it is first time adding
                                //updated by thant thura myo
                                //date 20 Feb 2008
                                 /*Date tempToday=new Date();
                                 SimpleDateFormat day_view1= new SimpleDateFormat ("yyyy/MM/dd");
                                 String DateToday = day_view1.format(tempToday);
                                 Date dDateOpen=new Date(DateOpened);
                                 tempToday=new Date(DateToday);
                                 Date dToday1=tempToday;*/
                                 //dToday is today date  
          
                                    try
                                    {
                                                    CE_Survey.addRecord(SurveyName,JobPosID1,month,DateOpened,LevelofSurvey,DeadlineDate,selStatus,AnalysisDate,Reliability,JobFutureID,TimeFrameID,NA_Included,CE_Survey.get_survOrg(),FKCompanyID,MinGap,MaxGap,XComment_Included, logchk.getPKUser(), useCluster, breakCPR, hideKBDesc);    

                                        if(CE_Survey.getJobCat() != 0) {
                                                    Vector vComp = JobDetail.getCompetencyAssigned(CE_Survey.getJobCat(), CE_Survey.get_survOrg());

                                                            for(int i=0; i<vComp.size(); i++) {
                                                                    voCompetency vo = (voCompetency)vComp.elementAt(i);

                                                                    int FKComp = vo.getCompetencyID();
                                                                    SurveyID = CE_Survey.getSurvey_ID();
                                                                    CE_Survey.addCompetency(FKComp,SurveyID,1);


                                                            }

                                                CE_Survey.setJobCat(0);

                                                    }
                                    }
                                    catch(SQLException sqle)
                                    {	
    out.write(_jsp_string38, 0, _jsp_string38.length);
    out.print((trans.tslt("Survey name exists")));
    out.write(_jsp_string39, 0, _jsp_string39.length);
    	}
                            // }else{
                                
    out.write(_jsp_string40, 0, _jsp_string40.length);
    out.print((trans.tslt("Opened Date must be earlier than today")));
    out.write(_jsp_string41, 0, _jsp_string41.length);
     //Edited by Roger 17 June 2008
											if (request.getParameter("Save") != null) {
    out.write(_jsp_string42, 0, _jsp_string42.length);
     } 
    out.write(_jsp_string43, 0, _jsp_string43.length);
         
                             //}
                        }else{
                              
    out.write(_jsp_string44, 0, _jsp_string44.length);
    out.print((trans.tslt("Survey name exists")));
    out.write(_jsp_string45, 0, _jsp_string45.length);
      
                        }
	    } else
	    {
	    	if(CE_Survey.Allow_SurvChange(SurveyID))
			{ 
						 CE_Survey.changeHideNAOption( HideNAOption, CE_Survey.getSurvey_ID()); //Densie 14/12/2009 Change the hide NA option
						 CE_Survey.changeSplitOthersOption( SplitOthersOption, CE_Survey.getSurvey_ID()); //change the SplitOthersOption (Qiao Li 17 Dec 2009)
						 CE_Survey.changeUseClusterOption( useCluster, CE_Survey.getSurvey_ID()); //change the useCluster option (Albert 15 June 2012)
						 CE_Survey.changeBreakCPR( breakCPR, CE_Survey.getSurvey_ID()); //change the breakCPR option (Albert 09 July 2012)
						 CE_Survey.changeBreakCPR( hideKBDesc, CE_Survey.getSurvey_ID());
                          boolean bNameExist=CE_Survey.checkSurveyName(SurveyName,SurveyID);
                          System.out.println(">>>>>>>>>>>");
                          System.out.println("d. Check exist or not "+bNameExist); //added 'd' for aiding debugging, Mark Oei 29 April 2010
                          if(!bNameExist){//if not exist, save as new, if exist, error
                            
                                try
                                {
                                	//get values from database to display
                                	//Mark Oei 29 April 2010
                                	votblSurvey vo = CE_Survey.getSurveyDetail(CE_Survey.getSurvey_ID());
                            		MinGap = Float.toString(vo.getMIN_Gap()); //get values from database
                            		MaxGap = Float.toString(vo.getMAX_Gap());

                                        CE_Survey.updateRecord(SurveyName,JobPosID1,month,DateOpened,LevelofSurvey,DeadlineDate,selStatus,AnalysisDate,Reliability,NA_Included,SurveyID,CE_Survey.get_survOrg(),FKCompanyID,MinGap,MaxGap,XComment_Included, logchk.getPKUser(), useCluster, CE_Survey.getHideCompDesc(), breakCPR,hideKBDesc, CE_Survey.getMergeRelation());    

                                }
                                catch(SQLException sqle)
                                {	
    out.write(_jsp_string46, 0, _jsp_string46.length);
    out.print((trans.tslt("Survey name exists")));
    out.write(_jsp_string47, 0, _jsp_string47.length);
    	} 
                           }
                          else{
                              
    out.write(_jsp_string46, 0, _jsp_string46.length);
    out.print((trans.tslt("Survey name exists")));
    out.write(_jsp_string48, 0, _jsp_string48.length);
    
                          }
			}
			else
			{
				//Changed by Ha 29/05/08 change the date passed to method CE_Survey.updateRecord_AfterRaterComplete, change type of Date passed to the query from dd/mm/yyyy to mm/dd/yyyy 
			   
			    String tempDay = DeadlineDate.substring(0,2);
				String tempMonth = DeadlineDate.substring(3,5);
				String newDeadlineDate = DeadlineDate.substring(6,10);
			    newDeadlineDate = tempMonth +"/" + tempDay + "/" +newDeadlineDate;									    
				CE_Survey.updateRecord_AfterRaterComplete(month, newDeadlineDate, selStatus, AnalysisDate, SurveyID, logchk.getPKUser());
			}
	    }
          }// end of else of if(CE_Survey.getSurveyStatus() == 3)
	}//if(CE_Survey.getSurveyStatus() != 2)
	else	// Survey has been closed
	{	
		//Changed by Ha 29/05/08 change the date passed to method CE_Survey.updateRecord_AfterRaterComplete, change type of Date passed to the query from dd/mm/yyyy to mm/dd/yyyy 
		String tempDay = DeadlineDate.substring(0,2);
		String tempMonth = DeadlineDate.substring(3,5);
		String newDeadlineDate = DeadlineDate.substring(6,10);
	    newDeadlineDate = tempMonth +"/" + tempDay + "/" +newDeadlineDate;									    
		CE_Survey.updateRecord_AfterRaterComplete(month,newDeadlineDate, selStatus , AnalysisDate, SurveyID, logchk.getPKUser());
		
	}
	
	//Changed by Denise 14/12 to fix the null pointer exception
   	if ((selOriginalVal.equals("2"))&&((dToday.before(dDeadlineDate)||dToday.equals(dDeadlineDate)))&&selStatus!=2)
       {
         CE_Survey.setSurveyStatus(1);
         selStatus=1;        
       }
	if(CE_Survey.getSurveyStatus() != 2 && selStatus == 2)
	{
		AnalysisDate = day_view.format(hari_ini);
		CE_Survey.setSurveyStatus(2);
	}
	else if(CE_Survey.getSurveyStatus() == 2 && selStatus == 2)
	{
		AnalysisDate = day_view.format(hari_ini);
		CE_Survey.setSurveyStatus(2);
	}		


    out.write(_jsp_string49, 0, _jsp_string49.length);
    	// }
	
	if(request.getParameter("proceed") != null)
{
	
    out.write(_jsp_string50, 0, _jsp_string50.length);
     	}
	else if(request.getParameter("comp") != null)
	{

    out.write(_jsp_string51, 0, _jsp_string51.length);
     	}
	
	else if(request.getParameter("level") != null)
	{
		if(CE_Survey.getSurvey_ID() != 0)
			CE_Survey.del_Survey_KeyBehaviour(CE_Survey.getSurvey_ID());
   	}
   	else if(request.getParameter("delAll") != null)
	{
		if(CE_Survey.getSurvey_ID() != 0){
			CE_Survey.del_Survey_Competency(CE_Survey.getSurvey_ID());
			CE_Survey.del_Survey_KeyBehaviour(CE_Survey.getSurvey_ID());
		}
   	}
   	else if(request.getParameter("behav") != null)
	{

    out.write(_jsp_string52, 0, _jsp_string52.length);
    	}
	else if(request.getParameter("demos") != null)
	{

    out.write(_jsp_string53, 0, _jsp_string53.length);
    	}
   	else if(request.getParameter("rata") != null)
	{

    out.write(_jsp_string54, 0, _jsp_string54.length);
    	}
	else if(request.getParameter("setting") != null)
	{

    out.write(_jsp_string55, 0, _jsp_string55.length);
    	}
	else if(request.getParameter("Save") != null)
	{

    out.write(_jsp_string56, 0, _jsp_string56.length);
    out.print((trans.tslt("Saved successfully")));
    out.write(_jsp_string57, 0, _jsp_string57.length);
    	}
}


    out.write(_jsp_string58, 0, _jsp_string58.length);
    out.print((trans.tslt("Survey Detail")));
    out.write(_jsp_string59, 0, _jsp_string59.length);
    out.print((trans.tslt("Cluster")));
    out.write(_jsp_string60, 0, _jsp_string60.length);
    out.print((trans.tslt("Competency")));
    out.write(_jsp_string61, 0, _jsp_string61.length);
    out.print((trans.tslt("Key Behaviour")));
    out.write(_jsp_string62, 0, _jsp_string62.length);
    out.print((trans.tslt("Demographics")));
    out.write(_jsp_string63, 0, _jsp_string63.length);
    out.print((trans.tslt("Rating Task")));
    out.write(_jsp_string64, 0, _jsp_string64.length);
    out.print((trans.tslt("Advanced Settings")));
    out.write(_jsp_string65, 0, _jsp_string65.length);
    out.print(( trans.tslt("Preliminary Questions") ));
    out.write(_jsp_string66, 0, _jsp_string66.length);
    out.print(( trans.tslt("Additional Questions") ));
    out.write(_jsp_string67, 0, _jsp_string67.length);
    out.print((trans.tslt("Survey Detail")));
    out.write(_jsp_string68, 0, _jsp_string68.length);
    out.print((trans.tslt("Survey Name")));
    out.write(_jsp_string69, 0, _jsp_string69.length);
    
		SimpleDateFormat month_view= new SimpleDateFormat ("MM/yyyy");
		//SimpleDateFormat day_view= new SimpleDateFormat ("dd/MM/yyyy");
		
		Date today;
		Date next2Week;
		today = new Date();
		next2Week = global.addDay(today, 14);
		
		int Survey_ID=0;
		int JobPosID1=0;
		int NA_Included=0;
		int useCluster =0;
		int breakCPR = 0;
		int hideKBDesc = 0;
		String Survey_Name="";
		String month = "";
		String DateOpened = day_view.format(today);
		String DeadlineDate = day_view.format(next2Week);
		String AnalysisDate = " ";
		int db_SurveyStatus=0;
		int ReliabilityCheck =0;
		String SurveyStatus = "";
		int LevelofSurvey =0;
		int KBLevel=0;
		String JobPosition_Desc1;
		String JobPosition_Desc2;
		String TimeFrame;
		int FKOrg=0;
		float MinGap=-1f; 	// used to insert an initial default value, Mark Oei 16 April 2010
		float MaxGap=1f;	// used to insert an initial default value, Mark Oei 16 April 2010
		int Comment_Included = 0;
				
	/********************
	* Edited by James 02 Nov 2007
	************************/
	if(CE_Survey.getSurvey_ID() != 0 && request.getParameter("new") == null) {
		
		votblSurvey vo = CE_Survey.getSurveyDetail(CE_Survey.getSurvey_ID());
		
		
		Survey_ID = vo.getSurveyID();
		Survey_Name = vo.getSurveyName();
		JobPosID1 = vo.getJobPositionID();
		DateOpened = vo.getDateOpened();
		LevelofSurvey = vo.getLevelOfSurvey();
		DeadlineDate = vo.getDeadlineSubmission();
		db_SurveyStatus = vo.getSurveyStatus();
		AnalysisDate = vo.getAnalysisDate();	
		ReliabilityCheck = vo.getReliabilityCheck();
		NA_Included = vo.getNA_Included();
		useCluster = vo.getUseCluster();
		breakCPR = vo.getBreakCPR();
		hideKBDesc = vo.getHideKBDesc();
		FKOrg = vo.getFKOrganization();
		MinGap = vo.getMIN_Gap(); //get values from database
		MaxGap = vo.getMAX_Gap();	
		Comment_Included = vo.getComment_Included();
		
		CE_Survey.setCompetencyLevel(LevelofSurvey);
		CE_Survey.setSurveyStatus(db_SurveyStatus);
		CE_Survey.set_survOrg(FKOrg);
	//Changed by Ha 04/06/08
	} else {
//By Hemilda 23 Sept 2008 to add parameter org from previous page , so there will be job position based on org for new survey.
		String Org =request.getParameter("Org");
		
		//by Hemilda  09012009 to add condition only copy Survey by job need to send parameter then var Org will have value. copy survey by category already being set in front then var Org will be null.
		if (Org != null)
		{
			CE_Survey.set_survOrg(Integer.parseInt(Org));
		}
		//System.out.println("Org "+Org);
		CE_Survey.setSurvey_ID(0);
		CE_Survey.setSurveyStatus(0);
	}
		
	if(CE_Survey.getSurveyStatus() != 2)
	{	
		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string70, 0, _jsp_string70.length);
    out.print((Survey_Name));
    out.write(_jsp_string71, 0, _jsp_string71.length);
    	}	
		else
		{	
    out.write(_jsp_string72, 0, _jsp_string72.length);
    out.print((Survey_Name));
    out.write(_jsp_string73, 0, _jsp_string73.length);
    	}	
	}	
	else
	{	
    out.write(_jsp_string72, 0, _jsp_string72.length);
    out.print((Survey_Name));
    out.write(_jsp_string74, 0, _jsp_string74.length);
    	}	
    out.write(_jsp_string75, 0, _jsp_string75.length);
    out.print((trans.tslt("100 chars max")));
    out.write(_jsp_string76, 0, _jsp_string76.length);
    out.print((trans.tslt("Job Position")));
    out.write(_jsp_string77, 0, _jsp_string77.length);
    	if(CE_Survey.getSurveyStatus() !=2)
	{
       
		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string78, 0, _jsp_string78.length);
    	}	
		else
		{	
    out.write(_jsp_string79, 0, _jsp_string79.length);
    		}	
	}
	else
	{	
    out.write(_jsp_string80, 0, _jsp_string80.length);
    	}

	Vector vJobPos = JP.getAllJobPositions(CE_Survey.get_survOrg());
	
	for(int i=0; i<vJobPos.size(); i++)
	{
		votblJobPosition voJob = (votblJobPosition)vJobPos.elementAt(i);
		int JobPosition_ID1 = voJob.getJobPositionID();
		JobPosition_Desc1 = voJob.getJobPosition();

		if(JobPosID1 == JobPosition_ID1)
		{

    out.write(_jsp_string81, 0, _jsp_string81.length);
    out.print((JobPosition_ID1));
    out.write(_jsp_string82, 0, _jsp_string82.length);
    out.print((JobPosition_Desc1));
    out.write(_jsp_string83, 0, _jsp_string83.length);
    		}
		else
		{

    out.write(_jsp_string81, 0, _jsp_string81.length);
    out.print((JobPosition_ID1));
    out.write('>');
    out.print((JobPosition_Desc1));
    out.write(_jsp_string83, 0, _jsp_string83.length);
    		}	
		
	}

    out.write(_jsp_string84, 0, _jsp_string84.length);
    out.print((trans.tslt("Status")));
    out.write(_jsp_string85, 0, _jsp_string85.length);
    	if(logchk.getUserType() == 1)
	{	
    out.write(_jsp_string86, 0, _jsp_string86.length);
    	}
	else
	{	
	
		if(CE_Survey.getSurveyStatus() != 2)
		{	
    out.write(_jsp_string87, 0, _jsp_string87.length);
    	}	
		else
		{	
    out.write(_jsp_string88, 0, _jsp_string88.length);
    	}	
	}
    out.write(_jsp_string89, 0, _jsp_string89.length);
    out.print((trans.tslt("Open")));
    out.write(_jsp_string90, 0, _jsp_string90.length);
    out.print((trans.tslt("Closed")));
    out.write(_jsp_string91, 0, _jsp_string91.length);
    out.print((trans.tslt("Not Commissioned")));
    out.write(_jsp_string92, 0, _jsp_string92.length);
    out.print((db_SurveyStatus));
    out.write(_jsp_string93, 0, _jsp_string93.length);
    out.print((db_SurveyStatus-1));
    out.write(_jsp_string94, 0, _jsp_string94.length);
    out.print((db_SurveyStatus));
    out.write(_jsp_string95, 0, _jsp_string95.length);
    out.print((trans.tslt("Reliability")));
    out.write(_jsp_string96, 0, _jsp_string96.length);
    	
	if(CE_Survey.getSurveyStatus() != 2)
	{
		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string97, 0, _jsp_string97.length);
    	}
		else
		{
    out.write(_jsp_string98, 0, _jsp_string98.length);
    	}	
	}
	else
	{
		
    out.write(_jsp_string99, 0, _jsp_string99.length);
    	}	
    out.write(_jsp_string100, 0, _jsp_string100.length);
     //Updated by Hoa 04/12/2008 - Remove Trimmed Mean Option 
    out.write(_jsp_string101, 0, _jsp_string101.length);
    out.print((ReliabilityCheck));
    out.write(_jsp_string102, 0, _jsp_string102.length);
    out.print((trans.tslt("Opened Date")));
    out.write(_jsp_string103, 0, _jsp_string103.length);
    	
	if(CE_Survey.getSurveyStatus() != 2)
	{
		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string104, 0, _jsp_string104.length);
    out.print((DateOpened));
    out.write(_jsp_string105, 0, _jsp_string105.length);
    	}
		else
		{
    out.write(_jsp_string106, 0, _jsp_string106.length);
    out.print((DateOpened));
    out.write(_jsp_string107, 0, _jsp_string107.length);
    	}	
	}
	else
	{
		
    out.write(_jsp_string108, 0, _jsp_string108.length);
    out.print((DateOpened));
    out.write(_jsp_string109, 0, _jsp_string109.length);
    	}	
    out.write(_jsp_string110, 0, _jsp_string110.length);
    out.print((trans.tslt("Include NA into calculation")));
    out.write(_jsp_string111, 0, _jsp_string111.length);
    	
	if(CE_Survey.getSurveyStatus() != 2)
	{

		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string112, 0, _jsp_string112.length);
    out.print((NA_Included));
    out.write(_jsp_string113, 0, _jsp_string113.length);
    	}
		else				
		{
    out.write(_jsp_string112, 0, _jsp_string112.length);
    out.print((NA_Included));
    out.write(_jsp_string114, 0, _jsp_string114.length);
    	}
	}
	else				
	{
    out.write(_jsp_string112, 0, _jsp_string112.length);
    out.print((NA_Included));
    out.write(_jsp_string115, 0, _jsp_string115.length);
    	}
			if(NA_Included == 1)
				{	
    out.write(_jsp_string116, 0, _jsp_string116.length);
    		}	
    out.write(_jsp_string117, 0, _jsp_string117.length);
    out.print((trans.tslt("Tick to include")));
    out.write(_jsp_string118, 0, _jsp_string118.length);
    out.print((trans.tslt("Deadline")));
    out.write(_jsp_string119, 0, _jsp_string119.length);
    out.print((DeadlineDate));
    out.write(_jsp_string120, 0, _jsp_string120.length);
    out.print((trans.tslt("Survey Level")));
    out.write(_jsp_string121, 0, _jsp_string121.length);
    	if(CE_Survey.getSurveyStatus() != 2)
	{

		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string122, 0, _jsp_string122.length);
    	}
		else				
		{
    out.write(_jsp_string123, 0, _jsp_string123.length);
    	}	
	}
	else				
	{
    out.write(_jsp_string124, 0, _jsp_string124.length);
    	}	
    out.write(_jsp_string125, 0, _jsp_string125.length);
    out.print((LevelofSurvey));
    out.write(_jsp_string126, 0, _jsp_string126.length);
    out.print((trans.tslt("Organisation")));
    out.write(_jsp_string127, 0, _jsp_string127.length);
    
	String OrgName=ORG.getOrganisationName(CE_Survey.get_survOrg());


    out.write(_jsp_string128, 0, _jsp_string128.length);
    out.print((OrgName));
    out.write(_jsp_string129, 0, _jsp_string129.length);
    out.print((trans.tslt("Include Comments")));
    out.write(_jsp_string130, 0, _jsp_string130.length);
    	
	if(CE_Survey.getSurveyStatus() != 2)
	{
		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string131, 0, _jsp_string131.length);
    out.print((Comment_Included));
    out.write(_jsp_string132, 0, _jsp_string132.length);
    	}
		else	
		{
    out.write(_jsp_string133, 0, _jsp_string133.length);
    out.print((Comment_Included));
    out.write(_jsp_string134, 0, _jsp_string134.length);
    	}
	}
	else	
	{
    out.write(_jsp_string135, 0, _jsp_string135.length);
    out.print((Comment_Included));
    out.write(_jsp_string136, 0, _jsp_string136.length);
    	}

				if(Comment_Included == 1)
				{	
    out.write(_jsp_string137, 0, _jsp_string137.length);
    		}	
    out.write(_jsp_string138, 0, _jsp_string138.length);
    out.print((trans.tslt("Tick to include")));
    out.write(_jsp_string139, 0, _jsp_string139.length);
    	
				if(AnalysisDate.length() <= 3)
				{	
    out.write(_jsp_string140, 0, _jsp_string140.length);
    		}
				else
				{	
    out.write(_jsp_string141, 0, _jsp_string141.length);
    out.print((trans.tslt("Closed Date")));
    out.write(_jsp_string142, 0, _jsp_string142.length);
    
				
				if(AnalysisDate == null || AnalysisDate.length() == 0)
				{				
					AnalysisDate =" ";
				}
				
    out.write(_jsp_string143, 0, _jsp_string143.length);
    out.print((AnalysisDate));
    out.write(_jsp_string144, 0, _jsp_string144.length);
    		}	
    out.write(_jsp_string145, 0, _jsp_string145.length);
     //Denise 14/12/2009 add Hide NA Option row 
    out.write(_jsp_string146, 0, _jsp_string146.length);
    out.print((trans.tslt("Hide N/A Option")));
    out.write(_jsp_string147, 0, _jsp_string147.length);
    		
	if (CE_Survey.getSurveyStatus() != 2)
	{
		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string148, 0, _jsp_string148.length);
    	}else
		{
    out.write(_jsp_string149, 0, _jsp_string149.length);
    	}}
	else {
    out.write(_jsp_string149, 0, _jsp_string149.length);
    	
	}
	if(CE_Survey.getHideNAOption(CE_Survey.getSurvey_ID()) == 1)
				{	
    out.write(_jsp_string150, 0, _jsp_string150.length);
    		}	
    out.write(_jsp_string117, 0, _jsp_string117.length);
    out.print((trans.tslt("Tick to Hide")));
    out.write(_jsp_string139, 0, _jsp_string139.length);
     //added in the option to split the rater "others" to "subordinates" and "peers"
		   //(Qiao Li 17 Dec 2009)
		
    out.write(_jsp_string151, 0, _jsp_string151.length);
    out.print((trans.tslt("Split Others Option")));
    out.write(_jsp_string152, 0, _jsp_string152.length);
    		
	if (CE_Survey.getSurveyStatus() != 2)
	{
		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string153, 0, _jsp_string153.length);
    	}else
		{
    out.write(_jsp_string154, 0, _jsp_string154.length);
    	}}
	else {
    out.write(_jsp_string154, 0, _jsp_string154.length);
    	
	}
	if(CE_Survey.getSplitOthersOption(CE_Survey.getSurvey_ID()) == 1)
				{	
    out.write(_jsp_string155, 0, _jsp_string155.length);
    		}	
    out.write(_jsp_string117, 0, _jsp_string117.length);
    out.print((trans.tslt("Tick to Split")));
    out.write(_jsp_string156, 0, _jsp_string156.length);
    out.print((trans.tslt("Use Competency Cluster")));
    out.write(_jsp_string130, 0, _jsp_string130.length);
    	
	if (CE_Survey.getSurveyStatus() != 2)
	{
		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string157, 0, _jsp_string157.length);
    	}else
		{
    out.write(_jsp_string158, 0, _jsp_string158.length);
    	}}
	else {
    out.write(_jsp_string158, 0, _jsp_string158.length);
    	
	}
	if(CE_Survey.getUseClusterOption(CE_Survey.getSurvey_ID()) == 1)
				{	
    out.write(_jsp_string159, 0, _jsp_string159.length);
    		}	
    out.write(_jsp_string117, 0, _jsp_string117.length);
    out.print((trans.tslt("Tick to use")));
    out.write(_jsp_string160, 0, _jsp_string160.length);
     
					//competency level survey
					if(request.getParameter("hideCD") != null){
						int value = Integer.parseInt(request.getParameter("hideCD"));
						CE_Survey.setHideCompDesc(value);
					}
					if(CE_Survey.getCompetencyLevel() == 0){
					
    out.write(_jsp_string161, 0, _jsp_string161.length);
    
					}
					//keybehavior level survey
					else{
						
					//do not hide competency description
                          if(CE_Survey.getHideCompDesc() ==0){
                        	  
    out.write(_jsp_string162, 0, _jsp_string162.length);
     	  
                          }
					//hide competency description
                          else{
                        	  
    out.write(_jsp_string163, 0, _jsp_string163.length);
     
                          }
					}
					
					
    out.write(_jsp_string164, 0, _jsp_string164.length);
    out.print((trans.tslt("Tick to use")));
    out.write(_jsp_string165, 0, _jsp_string165.length);
    out.print((trans.tslt("Breakdown CPR")));
    out.write(_jsp_string130, 0, _jsp_string130.length);
    	
	if (CE_Survey.getSurveyStatus() != 2)
	{
		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
		{ 
    out.write(_jsp_string166, 0, _jsp_string166.length);
    	}else
		{
    out.write(_jsp_string167, 0, _jsp_string167.length);
    	}}
	else {
    out.write(_jsp_string167, 0, _jsp_string167.length);
    	
	}
	if(CE_Survey.getBreakCPR(CE_Survey.getSurvey_ID()) == 1)
				{	
    out.write(_jsp_string168, 0, _jsp_string168.length);
    		}	
    out.write(_jsp_string117, 0, _jsp_string117.length);
    out.print((trans.tslt("Tick to break")));
    out.write(_jsp_string169, 0, _jsp_string169.length);
     
					//KB level survey
					if(CE_Survey.getCompetencyLevel() != 0){
					
    out.write(_jsp_string170, 0, _jsp_string170.length);
    
					}
					//Competency level survey
					else{
						
					//do not hide KB description
                          if(CE_Survey.getHideKBDesc(CE_Survey.getSurvey_ID()) ==0){
                        	  
    out.write(_jsp_string171, 0, _jsp_string171.length);
     	  
                          }
					//hide KB description
                          else{
                        	  
    out.write(_jsp_string172, 0, _jsp_string172.length);
     
                          }
					}
					
					
    out.write(_jsp_string164, 0, _jsp_string164.length);
    out.print((trans.tslt("Tick to hide")));
    out.write(_jsp_string173, 0, _jsp_string173.length);
     //Commented off as Gap Defintion is shifted
			 	//except for 2 input box to insert default MinGap and MaxGap values
				// Mark Oei 16 April 2010 
    out.write(_jsp_string174, 0, _jsp_string174.length);
     /* <table border="1" width="100%" bordercolor="#3399FF">
			<tr>
				<font size="2">
   				<td style="border-left-style: solid; border-left-width: 1px; border-right-style: solid; border-right-width: 1px; border-bottom-style: none; border-bottom-width: medium; " bordercolor="#3399FF" colspan="4" bgcolor="#FFFFCC">&nbsp;
				</td>
			</tr>
			<tr>
   				<td width="20%" style="border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-bottom-style: none; border-bottom-width: medium; border-top-style:none; border-top-width:medium" rowspan="3" bordercolor="#3399FF" bgcolor="#FFFFCC">
				<font size="2">
   				<p align="center">
   				<b>
				<font face="Arial" size="2"><%=trans.tslt("Gap Definition")
    out.write(_jsp_string175, 0, _jsp_string175.length);
    out.print((trans.tslt("Meet Expectation is when")));
    out.write(_jsp_string176, 0, _jsp_string176.length);
    /*
               if(CE_Survey.getSurveyStatus() != 2)
               {
         			if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()))
                    {                
         */
    out.write(_jsp_string177, 0, _jsp_string177.length);
     /*
                <!-- Edit by Roger 17 June 2008 -->
                <!-- back up (onchange ="minGap(this.form, this.form.txtMinGap)") -->                
				<!-- <font face="Arial" style="font-size: 11pt" size="2"> --> */ 
    out.write(_jsp_string178, 0, _jsp_string178.length);
    out.print((MinGap));
    out.write(_jsp_string179, 0, _jsp_string179.length);
     /*   <!--<font face="Arial" size="2">&nbsp;	&lt;&nbsp; <%=trans.tslt("Gap")
    out.write(_jsp_string180, 0, _jsp_string180.length);
    out.print((MaxGap));
    out.write(_jsp_string181, 0, _jsp_string181.length);
    /*	
               } else {*/
           
    out.write(_jsp_string174, 0, _jsp_string174.length);
     /*		<!-- <font face="Arial" style="font-size: 11pt" size="2"> <input type="text" name="txtMinGap" size="2" value ="<%//=MinGap
    out.write(_jsp_string182, 0, _jsp_string182.length);
    out.print((trans.tslt("Gap")));
    out.write(_jsp_string183, 0, _jsp_string183.length);
    //=MaxGap
    out.write(_jsp_string184, 0, _jsp_string184.length);
    /* 
             	} 
          }	else	{
		*/ 
    out.write(_jsp_string185, 0, _jsp_string185.length);
    //=MinGap
    out.write(_jsp_string186, 0, _jsp_string186.length);
    out.print((trans.tslt("Gap")));
    out.write(_jsp_string187, 0, _jsp_string187.length);
    //=MaxGap
    out.write(_jsp_string188, 0, _jsp_string188.length);
     // } 
    out.write(_jsp_string174, 0, _jsp_string174.length);
     /*		<!--
				</td>
				<td style="border-left-style:none; border-left-width:medium; border-right-style:solid; border-right-width:1px; border-bottom-style:none; border-bottom-width:medium; border-top-style:none; border-top-width:medium" bordercolor="#3399FF" rowspan="3" bgcolor="#FFFFCC">&nbsp;
				</td>
			</tr>
			<tr>
				<td style="border-style: none; border-width: medium" width="216" bgcolor="#FFCCCC" bordercolor="#3399FF">
				<font face="Arial" size="2"><=trans.tslt("Strength is when")> </font></td>
				<td style="border-style:none; border-width:medium; " bgcolor="#FFCCCC" bordercolor="#3399FF">
				<font size="2">
   
				<font face="Arial" size="2"><=trans.tslt("Gap")>&nbsp; &gt;&nbsp;
				<//=MaxGap></font></td>
			</tr>
			<tr>
				<td style="border-style: none; border-width: medium" width="216" bgcolor="#CCFFCC" bordercolor="#3399FF">
				<font face="Arial" size="2">
				<=trans.tslt("Developmental Area is when")> </font></td>
				<td style="border-style:none; border-width:medium; " bgcolor="#CCFFCC" bordercolor="#3399FF">
				<font size="2">
   
				<font face="Arial" size="2"><=trans.tslt("Gap")>&nbsp; &lt;=&nbsp; 
				<//=MinGap>&nbsp;</font></td>
			</tr>
			<tr>
				<td style="border-left-style: solid; border-left-width: 1px; border-right-style: solid; border-right-width: 1px; border-bottom-style: solid; border-bottom-width: 1px; border-top-style:none; border-top-width:medium" bordercolor="#3399FF" colspan="4" bgcolor="#FFFFCC">&nbsp;
				</td>
			</tr>
		</table> --> */
    out.write(_jsp_string189, 0, _jsp_string189.length);
    
		if(CE_Survey.Allow_SurvChange(CE_Survey.getSurvey_ID()) == false)
		{ 
    out.write(_jsp_string190, 0, _jsp_string190.length);
    out.print((trans.tslt("Re-Opening Request of Survey")));
    out.write(_jsp_string191, 0, _jsp_string191.length);
    	}	
    out.write(_jsp_string192, 0, _jsp_string192.length);
    out.print((trans.tslt("Save")));
    out.write(_jsp_string193, 0, _jsp_string193.length);
    out.print((trans.tslt("Proceed")));
    out.write(_jsp_string194, 0, _jsp_string194.length);
    // by lydia Date 05/09/2008 Fix jsp file to support Thai language 
    out.write(_jsp_string195, 0, _jsp_string195.length);
    
	Calendar c = Calendar.getInstance();
	int year = c.get(Calendar.YEAR);

    out.write(_jsp_string196, 0, _jsp_string196.length);
     // Denise 05/01/2010 update new email address 
    out.write(_jsp_string197, 0, _jsp_string197.length);
    out.print((year));
    out.write(_jsp_string198, 0, _jsp_string198.length);
  }

  private com.caucho.make.DependencyContainer _caucho_depends
    = new com.caucho.make.DependencyContainer();

  public java.util.ArrayList<com.caucho.vfs.Dependency> _caucho_getDependList()
  {
    return _caucho_depends.getDependencies();
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    _caucho_depends.add(depend);
  }

  protected void _caucho_setNeverModified(boolean isNotModified)
  {
    _caucho_isNotModified = true;
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;

    if (_caucho_isNotModified)
      return false;

    if (com.caucho.server.util.CauchoSystem.getVersionId() != -7791540776389363938L)
      return true;

    return _caucho_depends.isModified();
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
    TagState tagState;
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("SurveyDetail.jsp"), 7101407188113855858L, false);
    _caucho_depends.add(depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("Footer.jsp"), -6500873733011061252L, false);
    _caucho_depends.add(depend);
  }

  final static class TagState {

    void release()
    {
    }
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void caucho_init(ServletConfig config)
  {
    try {
      com.caucho.server.webapp.WebApp webApp
        = (com.caucho.server.webapp.WebApp) config.getServletContext();
      init(config);
      if (com.caucho.jsp.JspManager.getCheckInterval() >= 0)
        _caucho_depends.setCheckInterval(com.caucho.jsp.JspManager.getCheckInterval());
      _jsp_pageManager = webApp.getJspApplicationContext().getPageManager();
      com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
      com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.InitPageContextImpl(webApp, this);
    } catch (Exception e) {
      throw com.caucho.config.ConfigException.create(e);
    }
  }

  private final static char []_jsp_string42;
  private final static char []_jsp_string144;
  private final static char []_jsp_string80;
  private final static char []_jsp_string68;
  private final static char []_jsp_string45;
  private final static char []_jsp_string52;
  private final static char []_jsp_string159;
  private final static char []_jsp_string119;
  private final static char []_jsp_string114;
  private final static char []_jsp_string121;
  private final static char []_jsp_string143;
  private final static char []_jsp_string129;
  private final static char []_jsp_string78;
  private final static char []_jsp_string100;
  private final static char []_jsp_string191;
  private final static char []_jsp_string93;
  private final static char []_jsp_string184;
  private final static char []_jsp_string92;
  private final static char []_jsp_string26;
  private final static char []_jsp_string76;
  private final static char []_jsp_string62;
  private final static char []_jsp_string176;
  private final static char []_jsp_string113;
  private final static char []_jsp_string37;
  private final static char []_jsp_string136;
  private final static char []_jsp_string181;
  private final static char []_jsp_string43;
  private final static char []_jsp_string172;
  private final static char []_jsp_string190;
  private final static char []_jsp_string146;
  private final static char []_jsp_string168;
  private final static char []_jsp_string155;
  private final static char []_jsp_string112;
  private final static char []_jsp_string74;
  private final static char []_jsp_string98;
  private final static char []_jsp_string66;
  private final static char []_jsp_string88;
  private final static char []_jsp_string130;
  private final static char []_jsp_string101;
  private final static char []_jsp_string35;
  private final static char []_jsp_string10;
  private final static char []_jsp_string28;
  private final static char []_jsp_string54;
  private final static char []_jsp_string48;
  private final static char []_jsp_string188;
  private final static char []_jsp_string137;
  private final static char []_jsp_string158;
  private final static char []_jsp_string135;
  private final static char []_jsp_string53;
  private final static char []_jsp_string96;
  private final static char []_jsp_string194;
  private final static char []_jsp_string32;
  private final static char []_jsp_string57;
  private final static char []_jsp_string3;
  private final static char []_jsp_string152;
  private final static char []_jsp_string51;
  private final static char []_jsp_string156;
  private final static char []_jsp_string108;
  private final static char []_jsp_string97;
  private final static char []_jsp_string59;
  private final static char []_jsp_string9;
  private final static char []_jsp_string110;
  private final static char []_jsp_string20;
  private final static char []_jsp_string177;
  private final static char []_jsp_string145;
  private final static char []_jsp_string140;
  private final static char []_jsp_string36;
  private final static char []_jsp_string122;
  private final static char []_jsp_string65;
  private final static char []_jsp_string179;
  private final static char []_jsp_string86;
  private final static char []_jsp_string27;
  private final static char []_jsp_string126;
  private final static char []_jsp_string15;
  private final static char []_jsp_string31;
  private final static char []_jsp_string106;
  private final static char []_jsp_string63;
  private final static char []_jsp_string14;
  private final static char []_jsp_string104;
  private final static char []_jsp_string75;
  private final static char []_jsp_string142;
  private final static char []_jsp_string82;
  private final static char []_jsp_string46;
  private final static char []_jsp_string91;
  private final static char []_jsp_string72;
  private final static char []_jsp_string4;
  private final static char []_jsp_string157;
  private final static char []_jsp_string163;
  private final static char []_jsp_string198;
  private final static char []_jsp_string118;
  private final static char []_jsp_string117;
  private final static char []_jsp_string150;
  private final static char []_jsp_string164;
  private final static char []_jsp_string29;
  private final static char []_jsp_string71;
  private final static char []_jsp_string197;
  private final static char []_jsp_string49;
  private final static char []_jsp_string171;
  private final static char []_jsp_string55;
  private final static char []_jsp_string39;
  private final static char []_jsp_string127;
  private final static char []_jsp_string132;
  private final static char []_jsp_string178;
  private final static char []_jsp_string102;
  private final static char []_jsp_string25;
  private final static char []_jsp_string90;
  private final static char []_jsp_string116;
  private final static char []_jsp_string160;
  private final static char []_jsp_string111;
  private final static char []_jsp_string70;
  private final static char []_jsp_string33;
  private final static char []_jsp_string22;
  private final static char []_jsp_string107;
  private final static char []_jsp_string21;
  private final static char []_jsp_string196;
  private final static char []_jsp_string73;
  private final static char []_jsp_string165;
  private final static char []_jsp_string151;
  private final static char []_jsp_string147;
  private final static char []_jsp_string186;
  private final static char []_jsp_string7;
  private final static char []_jsp_string173;
  private final static char []_jsp_string123;
  private final static char []_jsp_string60;
  private final static char []_jsp_string16;
  private final static char []_jsp_string170;
  private final static char []_jsp_string99;
  private final static char []_jsp_string64;
  private final static char []_jsp_string19;
  private final static char []_jsp_string183;
  private final static char []_jsp_string81;
  private final static char []_jsp_string125;
  private final static char []_jsp_string77;
  private final static char []_jsp_string87;
  private final static char []_jsp_string12;
  private final static char []_jsp_string187;
  private final static char []_jsp_string133;
  private final static char []_jsp_string94;
  private final static char []_jsp_string153;
  private final static char []_jsp_string182;
  private final static char []_jsp_string58;
  private final static char []_jsp_string138;
  private final static char []_jsp_string8;
  private final static char []_jsp_string161;
  private final static char []_jsp_string103;
  private final static char []_jsp_string174;
  private final static char []_jsp_string180;
  private final static char []_jsp_string169;
  private final static char []_jsp_string18;
  private final static char []_jsp_string192;
  private final static char []_jsp_string47;
  private final static char []_jsp_string148;
  private final static char []_jsp_string193;
  private final static char []_jsp_string30;
  private final static char []_jsp_string11;
  private final static char []_jsp_string2;
  private final static char []_jsp_string56;
  private final static char []_jsp_string85;
  private final static char []_jsp_string6;
  private final static char []_jsp_string189;
  private final static char []_jsp_string5;
  private final static char []_jsp_string34;
  private final static char []_jsp_string134;
  private final static char []_jsp_string131;
  private final static char []_jsp_string115;
  private final static char []_jsp_string95;
  private final static char []_jsp_string141;
  private final static char []_jsp_string83;
  private final static char []_jsp_string105;
  private final static char []_jsp_string41;
  private final static char []_jsp_string69;
  private final static char []_jsp_string79;
  private final static char []_jsp_string24;
  private final static char []_jsp_string1;
  private final static char []_jsp_string23;
  private final static char []_jsp_string139;
  private final static char []_jsp_string89;
  private final static char []_jsp_string124;
  private final static char []_jsp_string40;
  private final static char []_jsp_string175;
  private final static char []_jsp_string166;
  private final static char []_jsp_string149;
  private final static char []_jsp_string128;
  private final static char []_jsp_string120;
  private final static char []_jsp_string185;
  private final static char []_jsp_string50;
  private final static char []_jsp_string44;
  private final static char []_jsp_string38;
  private final static char []_jsp_string109;
  private final static char []_jsp_string154;
  private final static char []_jsp_string61;
  private final static char []_jsp_string13;
  private final static char []_jsp_string67;
  private final static char []_jsp_string162;
  private final static char []_jsp_string84;
  private final static char []_jsp_string17;
  private final static char []_jsp_string195;
  private final static char []_jsp_string0;
  private final static char []_jsp_string167;
  static {
    _jsp_string42 = "\r\n                                            //Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n                                            //location.href('SurveyDetail.jsp');\r\n                                            location.href='SurveyDetail.jsp';\r\n											".toCharArray();
    _jsp_string144 = "\" disabled></span><font size=\"2\">\r\n				</font></font></td>\r\n		".toCharArray();
    _jsp_string80 = "\r\n				<select size=\"1\" name=\"selJob2\" disabled>\r\n".toCharArray();
    _jsp_string68 = "</font></td>\r\n			</tr>\r\n		\r\n		<tr>\r\n				<td bgcolor=\"#FFFFCC\"><font face=\"Arial\" size=\"2\">\r\n				".toCharArray();
    _jsp_string45 = "\");\r\n                                            //Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n                                            //location.href('SurveyDetail.jsp');\r\n                                            location.href='SurveyDetail.jsp';\r\n                                    </script>\r\n                        ".toCharArray();
    _jsp_string52 = "		<script>\r\n    		//location.href('SurveyKeyBehaviour.jsp');\r\n    		location.href='SurveyKeyBehaviour.jsp';\r\n    	</script>\r\n".toCharArray();
    _jsp_string159 = "\r\n					<script>\r\n					window.document.SurveyDetail.useCluster.checked=true;\r\n					</script>\r\n		".toCharArray();
    _jsp_string119 = ":</font></td>\r\n				<td width=\"29%\" bgcolor=\"#FFFFCC\"><font face=\"Arial\">\r\n				<span style=\"font-size: 11pt\">\r\n								\r\n				<input type=\"text\" name=\"DeadlineDate\" size=\"10\" value='".toCharArray();
    _jsp_string114 = " disabled><font size=\"2\">\r\n	".toCharArray();
    _jsp_string121 = ":</font></td>\r\n				<td style=\"border-left-style: solid; border-left-width: 1px; border-right-style: solid; border-right-width: 1px; \" bgcolor=\"#FFFFCC\">\r\n<font size=\"2\">\r\n".toCharArray();
    _jsp_string143 = "\r\n				</font>\r\n				<span style=\"font-size: 11pt\">\r\n				<input type=\"text\" name=\"AnalysisDate\" size=\"10\" value=\"".toCharArray();
    _jsp_string129 = " </font>\r\n				</td>		\r\n				\r\n			</tr>\r\n			<tr>\r\n				<td width=\"24%\" style=\"border-style:solid; border-width:1px; \" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string78 = "\r\n					</font>\r\n					<span style=\"font-size: 11pt\">\r\n					<select size=\"1\" name=\"selJob2\">\r\n	".toCharArray();
    _jsp_string100 = "\r\n			".toCharArray();
    _jsp_string191 = "</a>\r\n		".toCharArray();
    _jsp_string93 = " != 0)\r\n					{\r\n						window.document.SurveyDetail.selStatus.selectedIndex=".toCharArray();
    _jsp_string184 = "\" onchange =\"maxGap(this.form, this.form.txtMaxGap)\" disabled></font>\r\n                --> */ %>            \r\n        ".toCharArray();
    _jsp_string92 = "</option>\r\n\r\n					<script>\r\n					if(".toCharArray();
    _jsp_string26 = "\r\n	                         			<script>\r\n	                         				alert(sMsg);\r\n	                         				//Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n	                         				//location.href('SurveyDetail.jsp');\r\n	                         				location.href='SurveyDetail.jsp';\r\n	                         			</script>\r\n	                         			".toCharArray();
    _jsp_string76 = ".)</font></td>\r\n			</tr>\r\n		\r\n			<tr>\r\n				<td style=\"border-style:solid; border-width:1px; \" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string62 = "</a></u></font></b></td>\r\n		\r\n		<td width=\"24\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\"><b>\r\n		<font size=\"2\">\r\n		<img border=\"0\" src=\"images/gray_arrow.gif\" width=\"19\" height=\"26\"></font></b></td>\r\n		\r\n		<td width=\"109\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\"><b><font face=\"Arial\" style=\"font-size: 10pt; font-weight: 700\" color=blue><u>\r\n		<a href=\"#\" onClick=\"Demos()\" style=\"cursor:pointer\">".toCharArray();
    _jsp_string176 = "&nbsp; </font></td>\r\n				<td style=\"border-style:none; border-width:medium; \" bgcolor=\"#CCCCFF\" bordercolor=\"#3399FF\">\r\n				<font size=\"2\">\r\n		-->*/ %>\r\n        ".toCharArray();
    _jsp_string113 = "><font size=\"2\">\r\n	".toCharArray();
    _jsp_string37 = "	\r\n        			<script>\r\n        				alert(sMsg);\r\n        				//Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n        				//location.href('SurveyDetail.jsp');\r\n        				location.href='SurveyDetail.jsp';\r\n        			</script>\r\n        		".toCharArray();
    _jsp_string136 = " disabled>\r\n".toCharArray();
    _jsp_string181 = "\" ><!-- </font>--> \r\n        ".toCharArray();
    _jsp_string43 = "\r\n                                   //\\\\ </script>\r\n                            ".toCharArray();
    _jsp_string172 = "\r\n                        	  <input type=\"checkbox\" name=\"hideKBDesc\" value= \"hideKBDesc\" checked onClick =\"hideKBDesc(0)\">\r\n                        	  ".toCharArray();
    _jsp_string190 = " \r\n		<a href=\"mailto:3SixtyProfiler@pcc.com.sg?subject=Regarding: &body=Please provide us with the following information:%0A%0A\r\n		1. Admin Name:%0A\r\n		2. Organisation:%0A\r\n		3. Survey Name:%0A\r\n		4. Reason for Re-opening of Survey:%0A\r\n		5. Re-opening Date of Survey:%0A\r\n		6. Deadline of Survey:\">".toCharArray();
    _jsp_string146 = "  		\r\n			</tr>\r\n			\r\n				<tr>\r\n<td style=\"border-right-style: solid; border-right-width: 1px; \" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">\r\n				".toCharArray();
    _jsp_string168 = "\r\n					<script>\r\n					window.document.SurveyDetail.breakCPR.checked=true;\r\n					</script>\r\n		".toCharArray();
    _jsp_string155 = "\r\n					<script>\r\n					window.document.SurveyDetail.SplitOthersOption.checked=true;\r\n					</script>\r\n		".toCharArray();
    _jsp_string112 = "\r\n				</font>\r\n				<input type=\"checkbox\" name=\"NA_Included\" value=".toCharArray();
    _jsp_string74 = "\" disabled><font size=\"2\">\r\n".toCharArray();
    _jsp_string98 = "				\r\n				<select size=\"1\" name=\"Reliability\" disabled>\r\n	".toCharArray();
    _jsp_string66 = "</a></font></b></td>\r\n	</tr>\r\n	<tr height=\"30\">\r\n		<td width=\"114\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"28\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"101\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"20\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"101\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"20\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"113\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"24\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"109\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"23\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"135\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\"><b><font face=\"Arial\" size=\"2\">\r\n		<a href=\"AdditionalQuestions.jsp?entry=1\" style=\"cursor:pointer\">".toCharArray();
    _jsp_string88 = "\r\n				<select size=\"1\" name=\"selStatus\" disabled>\r\n	".toCharArray();
    _jsp_string130 = "?</font></td>\r\n				<td style=\"border-style:solid; border-width:1px; \" bgcolor=\"#FFFFCC\">\r\n				<font size=\"2\">\r\n".toCharArray();
    _jsp_string101 = "\r\n			<!-- 				 \r\n				<option value=\"0\">Trimmed Mean</option> \r\n			 -->\r\n				<option value=\"1\">Reliability Index</option>\r\n\r\n					<script>\r\n					window.document.SurveyDetail.Reliability.selectedIndex=".toCharArray();
    _jsp_string35 = "\r\n                              <script>\r\n                              alert(\"".toCharArray();
    _jsp_string10 = "?\"))\r\n	{\r\n		var flag1 = validate();\r\n		if(flag1)\r\n		{\r\n		//always here\r\n			if(field1.value == 2)\r\n			{\r\n				if(confirm(\"".toCharArray();
    _jsp_string28 = "\");\r\n	                                         //Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n	                                         //location.href('SurveyDetail.jsp');\r\n	                                         location.href='SurveyDetail.jsp';\r\n	                                 </script>\r\n	                     		".toCharArray();
    _jsp_string54 = "		<script>\r\n		    //location.href('SurveyRating.jsp');\r\n		    location.href='SurveyRating.jsp';\r\n	    </script>			\r\n".toCharArray();
    _jsp_string48 = "\");\r\n                                                //location.href('SurveyDetail.jsp');\r\n                                                location.href='SurveyDetail.jsp';\r\n                                        </script>\r\n                            ".toCharArray();
    _jsp_string188 = "\" onchange =\"maxGap(this.form, this.form.txtMaxGap)\" disabled></font>\r\n                 -->          \r\n        ".toCharArray();
    _jsp_string137 = "\r\n					<script>\r\n					window.document.SurveyDetail.Comment_Included.checked=true;\r\n					</script>\r\n		".toCharArray();
    _jsp_string158 = "\r\n				</font>\r\n				<input type=\"checkbox\" name=\"useCluster\" value= \"useCluster\" disabled onClick =\"changeClusterOption(this.form, this.form.useCluster)\"><font size=\"2\">\r\n	".toCharArray();
    _jsp_string135 = "				\r\n			<input type=\"checkbox\" name=\"Comment_Included\" value=".toCharArray();
    _jsp_string53 = "		<script>\r\n    		//location.href('SurveyDemos.jsp');\r\n    		location.href='SurveyDemos.jsp';\r\n    	</script>		\r\n".toCharArray();
    _jsp_string96 = ":</font></td>\r\n				<td width=\"22%\" style=\"border-right-style: solid; border-right-width: 1px\" bgcolor=\"#FFFFCC\"><font face=\"Arial\">\r\n				<font size=\"2\">\r\n\r\n	".toCharArray();
    _jsp_string194 = "\" name=\"btnNextttt\" style=\"float: right\" onClick=\"Next(this.form.selStatus)\"></td>\r\n	</tr>\r\n</table>\r\n</form>\r\n<p></p>\r\n\r\n\r\n".toCharArray();
    _jsp_string32 = "\");\r\n		                                      //Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n		                                      //location.href('SurveyDetail.jsp');\r\n		                                      location.href='SurveyDetail.jsp';\r\n		                              		</script>\r\n                  					".toCharArray();
    _jsp_string57 = "\");\r\n    	</script>		\r\n".toCharArray();
    _jsp_string3 = "\r\n\r\n\r\n\r\n\r\n<html>\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html\">\r\n\r\n".toCharArray();
    _jsp_string152 = "?</font></td>\r\n				<td width=\"29%\" height=\"38\" bgcolor=\"#FFFFCC\">\r\n				<font size=\"2\">	\r\n	".toCharArray();
    _jsp_string51 = "\r\n		<script>\r\n	    	//location.href('SurveyCompetency.jsp');\r\n	    	location.href='SurveyCompetency.jsp';\r\n	    </script>\r\n".toCharArray();
    _jsp_string156 = ")</font></td>\r\n				\r\n			</tr>\r\n	<!-- Added by Albert (15 June 2012) to add new option whether to use comptency clustering -->	\r\n		<tr>\r\n				<td width=\"24%\" style=\"border-style:solid; border-width:1px; \" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string108 = "\r\n				<input type=\"text\" name=\"DateOpened\" size=\"10\" value='".toCharArray();
    _jsp_string97 = "	\r\n					</font>\r\n					<span style=\"font-size: 11pt\">\r\n					<select size=\"1\" name=\"Reliability\">\r\n	".toCharArray();
    _jsp_string59 = "</font></td>\r\n		\r\n		<td width=\"28\" style=\"border-style: none; border-width: medium\"><b>\r\n		<font size=\"2\">\r\n		<img border=\"0\" src=\"images/gray_arrow.gif\" width=\"19\" height=\"26\"></font></b></td>\r\n		\r\n		<td width=\"101\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\">\r\n		<font face=\"Arial\" style=\"font-size: 10pt; font-weight: 700\" color=blue><u>\r\n		<a href=\"#\" onClick=\"Cluster()\" style=\"cursor:pointer\">".toCharArray();
    _jsp_string9 = "?\"))\r\n				{\r\n					form.action=\"SurveyDetail.jsp?level=0\";\r\n					form.method=\"post\";\r\n					form.submit();\r\n				}\r\n				else\r\n				{\r\n					form.action=\"SurveyDetail.jsp\";\r\n					form.method=\"post\";\r\n					form.submit();\r\n				}\r\n			}\r\n			else if(level == 1)\r\n			{\r\n                                // Added by DeZ, 30.06.08, fix problem with survey status not switched \r\n                                //   to Not Commissioned when survey level switched from Competency to Key Behaviour\r\n                                form.selStatus.selectedIndex = 2;\r\n                                \r\n				form.action=\"SurveyDetail.jsp?level=1\";\r\n				form.method=\"post\";\r\n				form.submit();\r\n				\r\n			}\r\n		}\r\n	}\r\n}\r\n\r\nfunction Next(field1)\r\n{\r\n	if(confirm(\"".toCharArray();
    _jsp_string110 = "\r\n				</span><font size=\"2\">\r\n				<img border=\"0\" src=\"images/CAL-icon.gif\" style=\"cursor:pointer\" width=\"16\" height=\"16\" onClick=\"c2.popup('DateOpened')\">\r\n				</font></font></td>\r\n				\r\n			</tr>\r\n			<tr>\r\n				<td style=\"border-bottom-style: solid; border-bottom-width: 1px\" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string20 = ".\");\r\n		//datefield.focus();\r\n		return false;\r\n	} else {\r\n		closedate = objName2;\r\n	}\r\n\r\n	var correct;   \r\n	if(doDateCheck(opendate,closedate))\r\n	{\r\n		correct = true;\r\n	} else {\r\n	   	correct = false;\r\n	}\r\n	return correct;\r\n}\r\n\r\nfunction doCloseDateCheck(closedate){\r\n    \r\n    var today=new Date();\r\n    var strMonthArray = new Array(12);\r\n	strMonthArray[0] = \"Jan\";\r\n	strMonthArray[1] = \"Feb\";\r\n	strMonthArray[2] = \"Mar\";\r\n	strMonthArray[3] = \"Apr\";\r\n	strMonthArray[4] = \"May\";\r\n	strMonthArray[5] = \"Jun\";\r\n	strMonthArray[6] = \"Jul\";\r\n	strMonthArray[7] = \"Aug\";\r\n	strMonthArray[8] = \"Sep\";\r\n	strMonthArray[9] = \"Oct\";\r\n	strMonthArray[10] = \"Nov\";\r\n	strMonthArray[11] = \"Dec\";\r\n         \r\n    // var tmptoday=today.getDate() + \" \" + strMonthArray[today.getMonth()]+\" \" + (today.getYear());\r\n	//Edited by Roger 16 June 2008\r\n	var daystr;\r\n	if (today.getDate() < 10) {\r\n		daystr = \"0\"+today.getDate();\r\n	} else {\r\n		daystr = today.getDate();\r\n	}\r\n	\r\n	var monthstr;\r\n	if ((today.getMonth()+1) < 10) {\r\n		monthstr = \"0\"+(today.getMonth()+1);\r\n	} else {\r\n		monthstr = today.getMonth()+1;\r\n	}\r\n	\r\n//Edited By Roger\r\n//Fix date validation bug	\r\n	var tmptoday= monthstr +\"/\" +daystr + \"/\" +today.getYear();\r\n	var tmpclosedate = closedate.value.substring(3,5) +\"/\" + closedate.value.substring(0,2) + \"/\" + closedate.value.substring(6,10);\r\n	\r\n    if(Date.parse(tmptoday)<=Date.parse(tmpclosedate)){\r\n	\r\n        \r\n       \r\n        return true;\r\n     } else {\r\n        return false;\r\n     }\r\n    \r\n}\r\nfunction doDateCheck(opendate, closedate) \r\n{\r\n\r\n//Edited By Roger\r\n//Fix date validation bug\r\nvar tmpopendate = opendate.value.substring(3,5) +\"/\" + opendate.value.substring(0,2) + \"/\" + opendate.value.substring(6,10);\r\nvar tmpclosedate = closedate.value.substring(3,5) +\"/\" + closedate.value.substring(0,2) + \"/\" + closedate.value.substring(6,10);\r\n\r\n	if (Date.parse(tmpopendate) <= Date.parse(tmpclosedate)) {\r\n		if(doCloseDateCheck(closedate)){\r\n                     return true;   \r\n                     }\r\n                else{\r\n                    alert(\"".toCharArray();
    _jsp_string177 = "\r\n        ".toCharArray();
    _jsp_string145 = "		\r\n		".toCharArray();
    _jsp_string140 = "\r\n					<td width=\"16%\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">\r\n					<font face=\"Arial\" size=\"2\">&nbsp;</font></td>\r\n					<td width=\"29%\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">&nbsp;\r\n					</td>\r\n		".toCharArray();
    _jsp_string36 = "\");\r\n                              //Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n                              //location.href('SurveyDetail.jsp');\r\n                              location.href='SurveyDetail.jsp';\r\n                              </script>\r\n                            	".toCharArray();
    _jsp_string122 = "				\r\n				</font>				\r\n				<select size=\"1\" name=\"SurveyLevel\" onChange=\"ChangeLevel(this.form,this.form.SurveyLevel)\">\r\n	".toCharArray();
    _jsp_string65 = "</a></u></font></span></td>\r\n	</tr>\r\n	<tr height=\"30\">\r\n		<td width=\"114\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"28\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"101\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"20\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"101\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"20\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"113\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"24\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"109\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"23\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"135\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\"><b><font face=\"Arial\" size=\"2\">\r\n		<a href=\"SurveyPrelimQ.jsp?entry=1\" style=\"cursor:pointer\">".toCharArray();
    _jsp_string179 = "\"/><!--</font>-->\r\n       ".toCharArray();
    _jsp_string86 = "\r\n		<select size=\"1\" name=\"selStatus\">\r\n".toCharArray();
    _jsp_string27 = "\r\n	                                 <script>\r\n	                                         alert(\"".toCharArray();
    _jsp_string126 = ";\r\n				</script>\r\n\r\n				</font>\r\n\r\n				</td>\r\n				\r\n				<td width=\"16%\" height=\"38\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string15 = "?\"))\r\n	{\r\n		var flag1 = validate();\r\n		if(flag1)\r\n		{\r\n			document.SurveyDetail.action=\"SurveyDetail.jsp?demos=1\";\r\n			document.SurveyDetail.method=\"post\";\r\n			document.SurveyDetail.submit();\r\n		}\r\n	}\r\n	else\r\n	{\r\n		document.SurveyDetail.action=\"SurveyDemos.jsp\";\r\n		document.SurveyDetail.submit();\r\n	}\r\n}\r\n\r\nfunction Rating()\r\n{\r\n	if(confirm(\"".toCharArray();
    _jsp_string31 = "\r\n		                              		<script>\r\n		                                      alert(\"".toCharArray();
    _jsp_string106 = "				\r\n				<input type=\"text\" name=\"DateOpened\" size=\"10\" value='".toCharArray();
    _jsp_string63 = "</a></u></font></b></td>\r\n		\r\n		<td width=\"23\" style=\"border-style: none; border-width: medium\"><b>\r\n		<font size=\"2\">\r\n		<img border=\"0\" src=\"images/gray_arrow.gif\" width=\"19\" height=\"26\"></font></b></td>\r\n		\r\n		<td width=\"134\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\"><b><font face=\"Arial\" style=\"font-size: 10pt; font-weight: 700\" color=blue><u>\r\n		<a href=\"#\" onClick=\"Rating()\" style=\"cursor:pointer\">".toCharArray();
    _jsp_string14 = "?\"))\r\n	{\r\n		var flag1 = validate();\r\n		if(flag1)\r\n		{\r\n			document.SurveyDetail.action=\"SurveyDetail.jsp?behav=1\";\r\n			document.SurveyDetail.method=\"post\";\r\n			document.SurveyDetail.submit();\r\n		}\r\n	}\r\n	else\r\n	{\r\n		document.SurveyDetail.action=\"SurveyKeyBehaviour.jsp\";\r\n		document.SurveyDetail.submit();\r\n	}\r\n}\r\n\r\nfunction Demos()\r\n{\r\n	if(confirm(\"".toCharArray();
    _jsp_string104 = "	\r\n					<input type=\"text\" name=\"DateOpened\" size=\"10\" value='".toCharArray();
    _jsp_string75 = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n		\r\n		</font>\r\n		\r\n		</span><font size=\"1\">(".toCharArray();
    _jsp_string142 = ":</font></td>\r\n				<td width=\"29%\" bgcolor=\"#FFFFCC\"><font face=\"Arial\">\r\n				<font size=\"2\">\r\n				".toCharArray();
    _jsp_string82 = " selected>".toCharArray();
    _jsp_string46 = "\r\n                                        <script>\r\n                                                alert(\"".toCharArray();
    _jsp_string91 = "</option>\r\n				<option value=\"3\" selected>".toCharArray();
    _jsp_string72 = "\r\n			</font>\r\n				<span style=\"font-size: 11pt\">\r\n			<input type=\"text\" name=\"txtSurvey\" size=\"60\" value=\"".toCharArray();
    _jsp_string4 = "\r\n</head>\r\n<script language=\"javascript\" src=\"script/codethatcalendarstd.js\"></script>\r\n<script language=\"javascript\" src=\"script/dt_ex.js\"></script>\r\n<SCRIPT LANGUAGE=JAVASCRIPT>\r\n\r\nvar sMsg = \"The survey has not been assigned with Rating task, Competency and/or Key Behaviour. You are not allowed to open the Survey\";\r\n\r\nfunction changeClusterOption(form, field){\r\n	var flag1 = validate();\r\n	\r\n	if(flag1){\r\n		if(field.checked==true){\r\n			alert(\"Note that the survey status will be switched to Not Commissioned\");\r\n			if(confirm(\"".toCharArray();
    _jsp_string157 = "\r\n				</font>\r\n				<input type=\"checkbox\" name=\"useCluster\" value= \"useCluster\" onClick=\"changeClusterOption(this.form, this.form.useCluster)\"><font size=\"2\">\r\n	".toCharArray();
    _jsp_string163 = "\r\n                        	  <input type=\"checkbox\" name=\"hidCD\" value= \"hidCD\" checked onClick =\"hideCD(0)\">\r\n                        	  ".toCharArray();
    _jsp_string198 = " Pacific Century Consulting Pte Ltd. All Rights Reserved.\r\n		</font>\r\n		</td>\r\n		\r\n	</tr>\r\n		\r\n</table>\r\n\r\n</body>\r\n</html>		".toCharArray();
    _jsp_string118 = ")</font></td>\r\n				\r\n				\r\n				<td width=\"16%\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">\r\n				".toCharArray();
    _jsp_string117 = "\r\n				</font>\r\n				<font face=\"Arial\" size=\"2\">&nbsp; </font>\r\n				<font face=\"Arial\" size=\"1\">(".toCharArray();
    _jsp_string150 = "\r\n					<script>\r\n					window.document.SurveyDetail.HideNAOption.checked=true;\r\n					window.document.SurveyDetail.NA_Included.disabled = true;\r\n					</script>\r\n		".toCharArray();
    _jsp_string164 = "\r\n					<font size=\"2\"></font>\r\n					<font face=\"Arial\" size=\"2\">&nbsp; </font>\r\n				<font face=\"Arial\" size=\"1\">(".toCharArray();
    _jsp_string29 = "\");\r\n	                                         //Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n	                                         //location.href('SurveyDetail.jsp');\r\n	                                         location.href='SurveyDetail.jsp';\r\n	                                 </script>\r\n	                     	".toCharArray();
    _jsp_string71 = "\"></span><font size=\"2\">\r\n	".toCharArray();
    _jsp_string197 = "\r\n		<td align=\"center\" height=\"5\" valign=\"top\"><font size=\"1\" color=\"navy\" face=\"Arial\">&nbsp;&nbsp;<a style=\"TEXT-DECORATION: none; color:navy;\" href=\"Login.jsp\">Home</a>&nbsp;| <a color=\"navy\" face=\"Arial\">&nbsp;<a style=\"TEXT-DECORATION: none; color:navy;\" href=\"mailto:3SixtyAdmin@pcc.com.sg?subject=Regarding:\">Contact \r\n		Us</a><a color=\"navy\" face=\"Arial\" href=\"termofuse.jsp\" target=\"_blank\"><span style=\"color: #000080; text-decoration: none\"> | Terms of Use </span></a>| <span style=\"color: #000080; text-decoration: none\"><a style=\"TEXT-DECORATION: none; color:navy;\" href=\"http://www.pcc.com.sg/\" target=\"_blank\">PCC Website</a></span></font></td></tr><tr>\r\n		<font size=\"2\" face=\"Arial\" style=\"font-size: 14pt\" color=\"#000080\">\r\n   \r\n		<td align=\"center\" height=\"5\" valign=\"top\">\r\n		<font size=\"1\" color=\"navy\" face=\"Arial\">&nbsp;Copyright &copy; ".toCharArray();
    _jsp_string49 = "	<!--    <script>\r\n		    //location.href('SurveyDetail.jsp');\r\n		    location.href='SurveyDetail.jsp';\r\n	    </script> -->\r\n".toCharArray();
    _jsp_string171 = "\r\n                          \r\n                        	  <input type=\"checkbox\" name=\"hideKBDesc\" value= \"hideKBDesc\" onClick =\"hideKBDesc(1)\">\r\n                        	  ".toCharArray();
    _jsp_string55 = "		<script>\r\n		    //location.href('AdvanceSettings.jsp');\r\n		    location.href='AdvanceSettings.jsp';\r\n	    </script>			\r\n".toCharArray();
    _jsp_string39 = "\");\r\n                                                    //Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n                                                    //location.href('SurveyDetail.jsp');\r\n                                                    location.href='SurveyDetail.jsp';\r\n                                            </script>\r\n                                ".toCharArray();
    _jsp_string127 = ":</font></td>\r\n				<td width=\"29%\" height=\"38\" bgcolor=\"#FFFFCC\">\r\n<font size=\"2\">		\r\n".toCharArray();
    _jsp_string132 = ">\r\n	".toCharArray();
    _jsp_string178 = "\r\n				 	<input type=\"hidden\" name=\"txtMinGap\" size=\"2\" value =\"".toCharArray();
    _jsp_string102 = ";\r\n					</script>\r\n				\r\n				</select></span></font></td>\r\n				\r\n				<td width=\"16%\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">\r\n			<font size=\"2\">\r\n   \r\n			<font face=\"Arial\">\r\n				".toCharArray();
    _jsp_string25 = "\r\n	                         			<script>\r\n	                         				 alert(sMsg);\r\n	                                         //Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n	                                         //location.href('SurveyDetail.jsp');\r\n	                                         location.href='SurveyDetail.jsp';\r\n	                         			</script>\r\n	                         			".toCharArray();
    _jsp_string90 = "</option>\r\n				<option value=\"2\">".toCharArray();
    _jsp_string116 = "\r\n					<script>\r\n					window.document.SurveyDetail.NA_Included.checked=true;\r\n					</script>\r\n		".toCharArray();
    _jsp_string160 = ")</font></td>\r\n\r\n					<td width=\"16%\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">\r\n					<font face=\"Arial\" size=\"2\">Hide Competency Description?</font></td>\r\n					<td width=\"29%\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">\r\n					".toCharArray();
    _jsp_string111 = "?</font></td>\r\n				<td width=\"22%\" height=\"38\" style=\"border-bottom-style: solid; border-bottom-width: 1px; border-right-style:solid; border-right-width:1px\" bgcolor=\"#FFFFCC\">\r\n				<p align=\"left\">\r\n<font size=\"2\">\r\n".toCharArray();
    _jsp_string70 = "				\r\n			</font>\r\n				<span style=\"font-size: 11pt\">\r\n			<input type=\"text\" name=\"txtSurvey\" size=\"60\" value=\"".toCharArray();
    _jsp_string33 = "\r\n				                              <script>\r\n			                                   alert(\"".toCharArray();
    _jsp_string22 = ".\");\r\n		else \r\n			alert(\"".toCharArray();
    _jsp_string107 = "'disabled>\r\n	".toCharArray();
    _jsp_string21 = ".\");\r\n                    return false;\r\n                    }\r\n                     \r\n	} else {\r\n		if (opendate == \"\" || closedate == \"\") \r\n			alert(\"".toCharArray();
    _jsp_string196 = "\r\n\r\n<table border=\"0\" width=\"610\" height=\"26\" id=\"table1\">\r\n\r\n	<tr>\r\n		<font size=\"2\" face=\"Arial\" style=\"font-size: 14pt\" color=\"#000080\">\r\n		".toCharArray();
    _jsp_string73 = "\" disabled><font size=\"2\">\r\n	".toCharArray();
    _jsp_string165 = ")</font></td>\r\n				</tr>\r\n\r\n	<!-- Added by Albert (9 Jul 2012) add breakdown CPR all -->\r\n	<tr>\r\n				<td width=\"24%\" style=\"border-style:solid; border-width:1px; \" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string151 = "  		\r\n				<font face=\"Arial\" size=\"2\">&nbsp;</font></td>\r\n				<td width=\"16%\" height=\"38\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string147 = "?</font></td>\r\n				<td style=\"border-left-style: solid; border-left-width: 1px; border-right-style: solid; border-right-width: 1px; \" bgcolor=\"#FFFFCC\">\r\n<font size=\"2\">			\r\n	".toCharArray();
    _jsp_string186 = "\" onchange =\"minGap(this.form, this.form.txtMinGap)\" disabled></font>\r\n                <font face=\"Arial\" size=\"2\">&nbsp; &lt;&nbsp; ".toCharArray();
    _jsp_string7 = "\");\r\n		checkingFlag = false;\r\n	} \r\n	else if(checkdate(DateOpened, DeadlineDate) == false)\r\n	{\r\n		checkingFlag = false;\r\n	}\r\n\r\n 	return checkingFlag;\r\n}\r\n\r\nvar c1 = new CodeThatCalendar(caldef1);\r\nvar c2 = new CodeThatCalendar(caldef2);\r\nvar c3 = new CodeThatCalendar(caldef3);\r\nvar c4 = new CodeThatCalendar(caldef4);\r\n\r\nfunction ChangeLevel(form,field)\r\n{\r\n	if(confirm(\"".toCharArray();
    _jsp_string173 = ")</font></td>\r\n			</tr>\r\n			\r\n		</table>\r\n\r\n<table border=\"0\" width=\"610\" cellspacing=\"0\" cellpadding=\"0\">\r\n	\r\n	<tr>\r\n		<td colspan=\"3\">\r\n		<!-- ".toCharArray();
    _jsp_string123 = "		\r\n				<select size=\"1\" name=\"SurveyLevel\" onchange=\"ChangeLevel(this.form,this.form.SurveyLevel)\" disabled>\r\n	".toCharArray();
    _jsp_string60 = "</a></u></font></td>\r\n		\r\n		<td width=\"20\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\"><b>\r\n		<font size=\"2\">\r\n		<img border=\"0\" src=\"images/gray_arrow.gif\" width=\"19\" height=\"26\"></font></b></td>\r\n		\r\n		<td width=\"101\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\">\r\n		<font face=\"Arial\" style=\"font-size: 10pt; font-weight: 700\" color=blue><u>\r\n		<a href=\"#\" onClick=\"Comp()\" style=\"cursor:pointer\">".toCharArray();
    _jsp_string16 = "?\"))\r\n	{\r\n		var flag1 = validate();\r\n		if(flag1)\r\n		{\r\n			document.SurveyDetail.action=\"SurveyDetail.jsp?rata=1\";\r\n			document.SurveyDetail.method=\"post\";\r\n			document.SurveyDetail.submit();\r\n		}\r\n	}\r\n	else\r\n	{\r\n		document.SurveyDetail.action=\"SurveyRating.jsp\";\r\n		document.SurveyDetail.submit();\r\n	}\r\n}\r\n\r\nfunction setting()\r\n{\r\n	if(confirm(\"".toCharArray();
    _jsp_string170 = "\r\n					<input type=\"checkbox\" name=\"hideKBDesc\" value= \"hideKBDesc\" disabled onClick =\"hideKBDesc()\">\r\n					".toCharArray();
    _jsp_string99 = "\r\n				<select size=\"1\" name=\"Reliability\" disabled>\r\n".toCharArray();
    _jsp_string64 = "</a></u></font></b></td>\r\n		\r\n	</tr>\r\n	<tr>\r\n		<td width=\"114\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"28\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"101\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"20\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"101\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"20\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"113\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"24\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"109\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"23\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"134\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\">&nbsp; <font size=\"2\">\r\n   \r\n		<span style=\"font-weight: 700\">\r\n		<font face=\"Arial\" style=\"font-size: 10pt; font-weight: 700\" color=blue><u>\r\n		<a href=\"#\" onClick=\"setting()\" style=\"cursor:pointer\">".toCharArray();
    _jsp_string19 = ".\");\r\n		//datefield.focus();\r\n		return false;\r\n	} else {\r\n		opendate = objName1;\r\n	}\r\n   \r\n	if (isDate(objName2) == false) {\r\n		//datefield.select();\r\n		alert(\"".toCharArray();
    _jsp_string183 = "&nbsp; &lt;=&nbsp; </font>\r\n                     <font face=\"Arial\" style=\"font-size: 11pt\" size=\"2\">\r\n                     <input type=\"text\" name=\"txtMaxGap\" size=\"2\" value =\"".toCharArray();
    _jsp_string81 = "			<option value=".toCharArray();
    _jsp_string125 = "	\r\n	\r\n					<option value=\"0\" >Competency Level</option>\r\n						<option value=\"1\">Key Behaviour Level</option>\r\n				</select><font size=\"2\">\r\n				<script>\r\n				window.document.SurveyDetail.SurveyLevel.selectedIndex=".toCharArray();
    _jsp_string77 = ":</font></td>\r\n				<td width=\"22%\" style=\"border-style:solid; border-width:1px; \" bgcolor=\"#FFFFCC\"><font face=\"Arial\">\r\n				<font size=\"2\">\r\n".toCharArray();
    _jsp_string87 = "   		\r\n	    		<select size=\"1\" name=\"selStatus\">\r\n	".toCharArray();
    _jsp_string12 = "?\"))\r\n	{\r\n		var flag1 = validate();\r\n		if(flag1)\r\n		{\r\n			document.SurveyDetail.action=\"SurveyDetail.jsp?proceed=1\";\r\n			document.SurveyDetail.method=\"post\";\r\n			document.SurveyDetail.submit();\r\n		}\r\n	}\r\n	else\r\n	{\r\n		//location.href='SurveyCluster.jsp';\r\n		document.SurveyDetail.action=\"SurveyCluster.jsp\";\r\n		document.SurveyDetail.submit();\r\n	}\r\n}\r\n\r\nfunction Comp()\r\n{\r\n	if(confirm(\"".toCharArray();
    _jsp_string187 = "&nbsp; &lt;=&nbsp; </font>\r\n                <font face=\"Arial\" style=\"font-size: 11pt\" size=\"2\">   \r\n				<input type=\"text\" name=\"txtMaxGap\" size=\"2\" value =\"".toCharArray();
    _jsp_string133 = "				\r\n				<input type=\"checkbox\" name=\"Comment_Included\" value=".toCharArray();
    _jsp_string94 = ";\r\n					}\r\n					</script>\r\n															\r\n				</select>\r\n                                 <input type=\"hidden\" name=\"selOriginalVal\" value=".toCharArray();
    _jsp_string153 = "\r\n				</font>\r\n				<input type=\"checkbox\" name=\"SplitOthersOption\" value= \"SplitOthersOption\"><font size=\"2\">\r\n	".toCharArray();
    _jsp_string182 = "\" onchange =\"minGap(this.form, this.form.txtMinGap)\" disabled></font>\r\n                     <font face=\"Arial\" size=\"2\">&nbsp; %lt;&nbsp; ".toCharArray();
    _jsp_string58 = "\r\n<form name=\"SurveyDetail\" action=\"SurveyDetail.jsp\" method=\"post\">\r\n\r\n<table border=\"0\" width=\"81%\" cellspacing=\"0\" cellpadding=\"0\" bordercolor=\"#000000\" style=\"border-width: 0px\">\r\n	<tr>\r\n		<td width=\"114\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\">\r\n		<font face=\"Arial\" style=\"font-size: 10pt; font-weight: 700\" color=\"#CC0000\">\r\n		".toCharArray();
    _jsp_string138 = "\r\n				<font face=\"Arial\">&nbsp;</font></font><font size=\"1\" face=\"Arial\">\r\n				(".toCharArray();
    _jsp_string8 = "\"))\r\n	{\r\n		var flag1 = validate();\r\n\r\n		if(flag1)\r\n		{\r\n\r\n			level = check(field);\r\n			\r\n			if(level == 0)\r\n			{\r\n				if(confirm(\"".toCharArray();
    _jsp_string161 = "\r\n					<input type=\"checkbox\" name=\"hidCD\" value= \"hidCD\" disabled onClick =\"hideCD()\">\r\n					".toCharArray();
    _jsp_string103 = " :</font></td>\r\n				<td width=\"29%\" bgcolor=\"#FFFFCC\"><font face=\"Arial\">\r\n				<span style=\"font-size: 11pt\">\r\n				".toCharArray();
    _jsp_string174 = "\r\n		".toCharArray();
    _jsp_string180 = "&nbsp; &lt;=&nbsp;	</font>\r\n                     <font face=\"Arial\" style=\"font-size: 11pt\" size=\"2\"> -->   \r\n                <!-- Edit by Roger 17 June 2008 -->\r\n                <!-- back up (onchange =\"maxGap(this.form, this.form.txtMaxGap)\")--> */ %>\r\n                <input type=\"hidden\" name=\"txtMaxGap\" size=\"2\" value =\"".toCharArray();
    _jsp_string169 = ")</font></td>	\r\n\r\n				\r\n				<td width=\"16%\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">\r\n					<font face=\"Arial\" size=\"2\">Hide KB Description?</font></td>\r\n					<td width=\"29%\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">\r\n					".toCharArray();
    _jsp_string18 = "\"))\r\n			{\r\n				form.action=\"SurveyDetail.jsp?Save=1\";\r\n				form.method=\"post\";\r\n				form.submit();\r\n			}\r\n		}\r\n		else\r\n		{\r\n			form.action=\"SurveyDetail.jsp?Save=1\";\r\n			form.method=\"post\";\r\n			form.submit();\r\n		}\r\n	}\r\n}\r\n//Edited by Roger 16 June 2008\r\n//Change to regex date validation\r\nfunction checkdate(objName1, objName2) {\r\n	\r\n	if (isDate(objName1) == false) {\r\n		//datefield.select();\r\n		alert(\"".toCharArray();
    _jsp_string192 = "\r\n		</td>\r\n		\r\n		<td width=\"183\">\r\n		<font size=\"2\">\r\n   \r\n		<input type=\"button\" value=\"".toCharArray();
    _jsp_string47 = "\");\r\n                                                //Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n                                                //location.href('SurveyDetail.jsp');\r\n                                                location.href='SurveyDetail.jsp';\r\n                                        </script>\r\n                            ".toCharArray();
    _jsp_string148 = "\r\n				</font>\r\n				<input type=\"checkbox\" name=\"HideNAOption\" value= \"HideNAOption\" onclick = \"isHideNAOption()\"><font size=\"2\">\r\n	".toCharArray();
    _jsp_string193 = "\" name=\"btnSave\" style=\"float: right\" onClick=\"Save(this.form, this.form.selStatus)\"></td>\r\n		<td>\r\n		<font size=\"2\">\r\n   \r\n		<input type=\"button\" value=\"".toCharArray();
    _jsp_string30 = "\r\n			                      					<script>\r\n			                      					alert(sMsg);\r\n			                      					//Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n			                      					//location.href('SurveyDetail.jsp');\r\n			                      					location.href='SurveyDetail.jsp';\r\n			                      					</script>\r\n			                      					".toCharArray();
    _jsp_string11 = "\"))\r\n				{\r\n					document.SurveyDetail.action=\"SurveyDetail.jsp?proceed=1\";\r\n					document.SurveyDetail.method=\"post\";\r\n					document.SurveyDetail.submit();\r\n				}\r\n			}\r\n			else\r\n			{\r\n				document.SurveyDetail.action=\"SurveyDetail.jsp?proceed=1\";\r\n				document.SurveyDetail.method=\"post\";\r\n				document.SurveyDetail.submit();\r\n			}\r\n\r\n					\r\n		}\r\n\r\n	}\r\n	else\r\n	{\r\n		document.SurveyDetail.action=\"SurveyDetail.jsp\";\r\n		document.SurveyDetail.submit();\r\n	}\r\n}\r\n\r\nfunction Cluster()\r\n{\r\n	if(confirm(\"".toCharArray();
    _jsp_string2 = "\r\n".toCharArray();
    _jsp_string56 = "		<script>\r\n  	  		alert(\"".toCharArray();
    _jsp_string85 = ":</font></td>\r\n				<td style=\"border-style:solid; border-width:1px; \" bgcolor=\"#FFFFCC\"> <font size=\"2\">\r\n\r\n".toCharArray();
    _jsp_string6 = "\");\r\n		checkingFlag = false;\r\n	//Edited by Roger \r\n	//Fix the survey name length validation\r\n	} else if (txtSurvey.length > 100) {\r\n		alert(\"Survey Name cannot be longer than 100 characters, please try again\");\r\n		checkingFlag = false;\r\n	} else if(selJob2 == \"\")\r\n		\r\n	{\r\n		\r\n		/*\r\n		*Change(s): Changed the alert information\r\n		*Reason(s): To provide a solution when there is no job position available for the user when it is impossible to create a survey\r\n		*Updated By: Liu Taichen\r\n		*Updated On: 6 June 2012\r\n		*/\r\n		alert(\"".toCharArray();
    _jsp_string189 = "\r\n		</td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"246\">&nbsp;\r\n		</td>\r\n		<td width=\"183\">&nbsp;</td>\r\n		<td>&nbsp;\r\n		</td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"246\" valign=\"top\">\r\n		".toCharArray();
    _jsp_string5 = "\")){\r\n				form.action=\"SurveyDetail.jsp?delAll=1\";\r\n				form.method=\"post\";\r\n				form.submit();		\r\n			} else{\r\n				field.checked=false;\r\n			}\r\n		} else{\r\n			alert(\"Note that the survey status will be switched to Not Commissioned\");\r\n		}\r\n	}\r\n}\r\n\r\nfunction hideCD(value){\r\n	document.SurveyDetail.action=\"SurveyDetail.jsp?hideCD=\"+ value;\r\n	document.SurveyDetail.method=\"post\";\r\n	document.SurveyDetail.submit();\r\n}\r\nfunction hideKBDesc(value){\r\n	document.SurveyDetail.action=\"SurveyDetail.jsp?hideKBDesc=\"+ value;\r\n	document.SurveyDetail.method=\"post\";\r\n	document.SurveyDetail.submit();\r\n	\r\n}\r\nfunction goToURL() { window.location = \"SurveyList_Wizard.jsp\"; }\r\n\r\nfunction check(field)\r\n{\r\n	var result;\r\n	\r\n	for (i = 0; i < field.length; i++) \r\n	{\r\n		if(field[i].checked)\r\n		{\r\n			result = field[i].value;\r\n		}\r\n\r\n		if(field[i].selected)\r\n		{\r\n			result = field[i].value;\r\n		}\r\n	}\r\n	\r\n	return result;\r\n}\r\n\r\nfunction validate()\r\n{\r\n	var checkingFlag = true;\r\n\r\n	var iValid =0;\r\n            x = document.SurveyDetail\r\n	txtSurvey = x.txtSurvey.value\r\n	selJob2 = x.selJob2.value\r\n	DateOpened = x.DateOpened\r\n	DeadlineDate = x.DeadlineDate\r\n	selKBLevel = x.selKBLevel\r\n	SurveyLevel = x.SurveyLevel\r\n	// Commented off as this is not needed\r\n	// Mark Oei 16 April 2010\r\n	// MinGap = x.txtMinGap.value\r\n	// MaxGap = x.txtMaxGap.value\r\n	// GapValue = (MaxGap - MinGap) + 0.1\r\n	    \r\n	SLevel = check(SurveyLevel);\r\n			\r\n	if (txtSurvey == \"\")\r\n	{\r\n		alert(\"".toCharArray();
    _jsp_string34 = "\");\r\n		                                      //Edited by Xuehai, 06 Jun 2011. Changing location.href() to location.href='';\r\n		                                      //location.href('SurveyDetail.jsp');\r\n		                                      location.href='SurveyDetail.jsp';\r\n				                              </script>\r\n				                          ".toCharArray();
    _jsp_string134 = " disabled>\r\n	".toCharArray();
    _jsp_string131 = "  \r\n				<input type=\"checkbox\" name=\"Comment_Included\" value=".toCharArray();
    _jsp_string115 = " disabled><font size=\"2\">\r\n".toCharArray();
    _jsp_string95 = " />\r\n                                 </td>\r\n			</tr>\r\n			<tr>\r\n				<td bgcolor=\"#FFFFCC\"><font face=\"Arial\" size=\"2\">\r\n				".toCharArray();
    _jsp_string141 = "			\r\n				\r\n				<td width=\"16%\" style=\"border-left-style: solid; border-left-width: 1px\" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string83 = "</option>\r\n".toCharArray();
    _jsp_string105 = "'>\r\n	".toCharArray();
    _jsp_string41 = "\");\r\n								   \r\n								   			".toCharArray();
    _jsp_string69 = ":</font></td>\r\n				<td colspan=\"4\" bgcolor=\"#FFFFCC\"><font face=\"Arial\">\r\n				<p align=\"left\">\r\n<font size=\"2\">\r\n".toCharArray();
    _jsp_string79 = "\r\n					<select size=\"1\" name=\"selJob2\" disabled>\r\n".toCharArray();
    _jsp_string24 = " <font size=\"2\">\r\n   \r\n	<script>\r\n	parent.location.href = \"index.jsp\";\r\n	</script>\r\n".toCharArray();
    _jsp_string1 = "                   \r\n".toCharArray();
    _jsp_string23 = ".\");\r\n		return false;\r\n	} \r\n}\r\n//  End -->\r\n\r\n//Edited by Roger 16 June 2008\r\n//Change to a simplier date validation with regex\r\nfunction isDate(fld) {\r\n    var RegExPattern = /^((((0?[1-9]|[12]\\d|3[01])[\\.\\-\\/](0?[13578]|1[02])[\\.\\-\\/]((1[6-9]|[2-9]\\d)?\\d{2}))|((0?[1-9]|[12]\\d|30)[\\.\\-\\/](0?[13456789]|1[012])[\\.\\-\\/]((1[6-9]|[2-9]\\d)?\\d{2}))|((0?[1-9]|1\\d|2[0-8])[\\.\\-\\/]0?2[\\.\\-\\/]((1[6-9]|[2-9]\\d)?\\d{2}))|(29[\\.\\-\\/]0?2[\\.\\-\\/]((1[6-9]|[2-9]\\d)?(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00)|00)))|(((0[1-9]|[12]\\d|3[01])(0[13578]|1[02])((1[6-9]|[2-9]\\d)?\\d{2}))|((0[1-9]|[12]\\d|30)(0[13456789]|1[012])((1[6-9]|[2-9]\\d)?\\d{2}))|((0[1-9]|1\\d|2[0-8])02((1[6-9]|[2-9]\\d)?\\d{2}))|(2902((1[6-9]|[2-9]\\d)?(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00)|00))))$/;\r\n    var errorMessage = 'Please enter valid date as month, day, and four digit year.\\nYou may use a slash, hyphen or period to separate the values.\\nThe date must be a real date. 30/2/2000 would not be accepted.\\nFormay dd/mm/yyyy.';\r\n    if ((fld.value.match(RegExPattern)) && (fld.value!='')) {\r\n       return true;\r\n    } else {\r\n		return false;\r\n    } \r\n}\r\n\r\n//Denise 14/12/2009 disable NA_included option when hideOption is clicked\r\nfunction isHideNAOption()\r\n{\r\n	if (SurveyDetail.HideNAOption.checked){\r\n			alert(\"Note that NA will not be included in calculation since you\" \r\n				+ 	\" have chosen to hide the NA option in the questionnaire.\");\r\n			SurveyDetail.NA_Included.disabled = true;\r\n			SurveyDetail.NA_Included.checked = false;\r\n			\r\n		}else{	\r\n			SurveyDetail.NA_Included.disabled = false;\r\n			SurveyDetail.NA_Included.checked = false;\r\n   		}\r\n}\r\n\r\n\r\n	</script>\r\n<body>\r\n".toCharArray();
    _jsp_string139 = ")</font></td>\r\n				\r\n		".toCharArray();
    _jsp_string89 = "\r\n				<option value=\"1\">".toCharArray();
    _jsp_string124 = "		\r\n			<select size=\"1\" name=\"SurveyLevel\" onchange=\"ChangeLevel(this.form,this.form.SurveyLevel)\" disabled>\r\n".toCharArray();
    _jsp_string40 = "\r\n                                    <script>\r\n                                   //\\\\         alert(\"".toCharArray();
    _jsp_string175 = ":</font></b></td>\r\n				<td style=\"border-style:none; border-width:medium; \" width=\"216\" bgcolor=\"#CCCCFF\" bordercolor=\"#3399FF\">\r\n				<font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string166 = "\r\n				</font>\r\n				<input type=\"checkbox\" name=\"breakCPR\" value= \"breakCPR\"><font size=\"2\">\r\n	".toCharArray();
    _jsp_string149 = "\r\n				</font>\r\n				<input type=\"checkbox\" name=\"HideNAOption\" value= \"HideNAOption\" disabled ><font size=\"2\">\r\n	".toCharArray();
    _jsp_string128 = "\r\n\r\n\r\n<font face=\"Arial\" size=\"2\">&nbsp;".toCharArray();
    _jsp_string120 = "'></span><font size=\"2\">\r\n				<img border=\"0\" src=\"images/CAL-icon.gif\" style=\"cursor:pointer\" width=\"16\" height=\"16\" onClick=\"c3.popup('DeadlineDate')\">\r\n				</font></font></td>\r\n			</tr>\r\n\r\n		<tr>\r\n				<td style=\"border-right-style: solid; border-right-width: 1px; \" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">\r\n				".toCharArray();
    _jsp_string185 = "\r\n                <!--\r\n				<font face=\"Arial\" style=\"font-size: 11pt\" size=\"2\"> <input type=\"text\" name=\"txtMinGap\" size=\"2\" value =\"".toCharArray();
    _jsp_string50 = "\r\n	<script>\r\n    	//location.href('SurveyCompetency.jsp');\r\n    	location.href='SurveyCluster.jsp';\r\n    </script>\r\n".toCharArray();
    _jsp_string44 = "\r\n                                    <script>\r\n                                            alert(\"".toCharArray();
    _jsp_string38 = "\r\n                                            <script>\r\n                                                    alert(\"".toCharArray();
    _jsp_string109 = "' disabled>\r\n".toCharArray();
    _jsp_string154 = "\r\n				</font>\r\n				<input type=\"checkbox\" name=\"SplitOthersOption\" value= \"SplitOthersOption\" disabled ><font size=\"2\">\r\n	".toCharArray();
    _jsp_string61 = "</a></u></font></td>\r\n		\r\n		<td width=\"20\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\"><b>\r\n		<font size=\"2\">\r\n		<img border=\"0\" src=\"images/gray_arrow.gif\" width=\"19\" height=\"26\"></font></b></td>\r\n		\r\n		<td width=\"113\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"center\"><b><font face=\"Arial\" style=\"font-size: 10pt; font-weight: 700\" color=blue><u>\r\n		<a href=\"#\" onClick=\"Behav()\" style=\"cursor:pointer\">".toCharArray();
    _jsp_string13 = "?\"))\r\n	{\r\n		var flag1 = validate();\r\n		if(flag1)\r\n		{\r\n			document.SurveyDetail.action=\"SurveyDetail.jsp?comp=1\";\r\n			document.SurveyDetail.method=\"post\";\r\n			document.SurveyDetail.submit();\r\n		}\r\n	}\r\n	else\r\n	{\r\n		//location.href='SurveyCompetency.jsp';\r\n		document.SurveyDetail.action=\"SurveyCompetency.jsp\";\r\n		document.SurveyDetail.submit();\r\n	}\r\n}\r\n\r\nfunction Behav()\r\n{\r\n	if(confirm(\"".toCharArray();
    _jsp_string67 = "</a></font></b></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"114\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"28\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"101\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"20\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"101\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"20\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"113\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"24\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"109\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"23\" style=\"border-style: none; border-width: medium\">&nbsp;</td>\r\n		<td width=\"134\" style=\"border-style: none; border-width: medium\">&nbsp;\r\n		</td>\r\n	</tr>\r\n</table>\r\n\r\n		<table border=\"1\" width=\"610\" bordercolor=\"#3399FF\">\r\n\r\n		<tr>\r\n				<td colspan=\"5\" bgcolor=\"#000080\" height=\"33\">\r\n				<p align=\"center\">\r\n				<font color=\"#FFFFFF\" face=\"Verdana\" style=\"font-weight: 700\" size=\"2\">\r\n				".toCharArray();
    _jsp_string162 = "\r\n                          \r\n                        	  <input type=\"checkbox\" name=\"hidCD\" value= \"hidCD\" onClick =\"hideCD(1)\">\r\n                        	  ".toCharArray();
    _jsp_string84 = "\r\n				</select></span></font></td>\r\n\r\n				<td width=\"3%\" style=\"border-bottom-style:solid; border-bottom-width:1px; border-top-style:solid; border-top-width:1px\" rowspan=\"8\" bgcolor=\"#FFFFCC\">&nbsp;\r\n				</td>\r\n\r\n				<td width=\"17%\" style=\"border-style:solid; border-width:1px; \" bgcolor=\"#FFFFCC\">\r\n				<font face=\"Arial\" size=\"2\">\r\n				".toCharArray();
    _jsp_string17 = "?\"))\r\n	{\r\n		var flag1 = validate();\r\n		if(flag1)\r\n		{\r\n			document.SurveyDetail.action=\"SurveyDetail.jsp?setting=1\";\r\n			document.SurveyDetail.method=\"post\";\r\n			document.SurveyDetail.submit();\r\n		}\r\n	}\r\n	else\r\n	{\r\n		document.SurveyDetail.action=\"AdvanceSettings.jsp\";\r\n		document.SurveyDetail.submit();\r\n	}\r\n}\r\n\r\nfunction Save(form, field1)\r\n{\r\n	var flag1 = validate();\r\n\r\n	if(flag1)\r\n	{	\r\n		if(field1.value == 2)\r\n		{\r\n			if(confirm(\"".toCharArray();
    _jsp_string195 = "\r\n\r\n".toCharArray();
    _jsp_string0 = "  \r\n\r\n".toCharArray();
    _jsp_string167 = "\r\n				</font>\r\n				<input type=\"checkbox\" name=\"breakCPR\" value= \"breakCPR\" disabled><font size=\"2\">\r\n	".toCharArray();
  }
}
