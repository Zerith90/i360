/*
 * JSP generated by Resin Professional 4.0.36 (built Fri, 26 Apr 2013 03:33:09 PDT)
 */

package _jsp;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import java.sql.*;
import java.io.*;
import java.util.*;
import java.lang.String;
import CP_Classes.vo.voGroup;
import CP_Classes.vo.voDepartment;
import CP_Classes.vo.voDivision;
import CP_Classes.vo.votblOrganization;
import CP_Classes.vo.voUserType;

public class _user__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  private boolean _caucho_isNotModified;
  private com.caucho.jsp.PageManager _jsp_pageManager;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    com.caucho.jsp.PageContextImpl pageContext = _jsp_pageManager.allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);

    TagState _jsp_state = null;

    try {
      _jspService(request, response, pageContext, _jsp_application, session, _jsp_state);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_pageManager.freePageContext(pageContext);
    }
  }
  
  private void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response,
              com.caucho.jsp.PageContextImpl pageContext,
              javax.servlet.ServletContext application,
              javax.servlet.http.HttpSession session,
              TagState _jsp_state)
    throws Throwable
  {
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    javax.servlet.jsp.tagext.JspTag _jsp_parent_tag = null;
    com.caucho.jsp.PageContextImpl _jsp_parentContext = pageContext;
    response.setContentType("text/html");
    response.setCharacterEncoding("utf-8");

    out.write(_jsp_string0, 0, _jsp_string0.length);
    // by lydia Date 05/09/2008 Fix jsp file to support Thai language 
    out.write(_jsp_string1, 0, _jsp_string1.length);
    CP_Classes.Login logchk;
    synchronized (pageContext.getSession()) {
      logchk = (CP_Classes.Login) pageContext.getSession().getAttribute("logchk");
      if (logchk == null) {
        logchk = new CP_Classes.Login();
        pageContext.getSession().setAttribute("logchk", logchk);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.User user;
    synchronized (pageContext.getSession()) {
      user = (CP_Classes.User) pageContext.getSession().getAttribute("user");
      if (user == null) {
        user = new CP_Classes.User();
        pageContext.getSession().setAttribute("user", user);
      }
    }
    out.write(_jsp_string0, 0, _jsp_string0.length);
    CP_Classes.Translate trans;
    synchronized (pageContext.getSession()) {
      trans = (CP_Classes.Translate) pageContext.getSession().getAttribute("trans");
      if (trans == null) {
        trans = new CP_Classes.Translate();
        pageContext.getSession().setAttribute("trans", trans);
      }
    }
    out.write(_jsp_string0, 0, _jsp_string0.length);
    CP_Classes.Department Cdepartment;
    synchronized (pageContext.getSession()) {
      Cdepartment = (CP_Classes.Department) pageContext.getSession().getAttribute("Cdepartment");
      if (Cdepartment == null) {
        Cdepartment = new CP_Classes.Department();
        pageContext.getSession().setAttribute("Cdepartment", Cdepartment);
      }
    }
    out.write(_jsp_string0, 0, _jsp_string0.length);
    CP_Classes.Group group;
    synchronized (pageContext.getSession()) {
      group = (CP_Classes.Group) pageContext.getSession().getAttribute("group");
      if (group == null) {
        group = new CP_Classes.Group();
        pageContext.getSession().setAttribute("group", group);
      }
    }
    out.write(_jsp_string0, 0, _jsp_string0.length);
    CP_Classes.Division division;
    synchronized (pageContext.getSession()) {
      division = (CP_Classes.Division) pageContext.getSession().getAttribute("division");
      if (division == null) {
        division = new CP_Classes.Division();
        pageContext.getSession().setAttribute("division", division);
      }
    }
    out.write(_jsp_string0, 0, _jsp_string0.length);
    // added to check whether the organisation is a consulting firm
// Mark Oei 09 Mar 2010 
    out.write(_jsp_string0, 0, _jsp_string0.length);
    CP_Classes.Organization Org;
    synchronized (pageContext.getSession()) {
      Org = (CP_Classes.Organization) pageContext.getSession().getAttribute("Org");
      if (Org == null) {
        Org = new CP_Classes.Organization();
        pageContext.getSession().setAttribute("Org", Org);
      }
    }
    out.write(_jsp_string0, 0, _jsp_string0.length);
    CP_Classes.Create_Edit_Survey CE_Survey;
    synchronized (pageContext.getSession()) {
      CE_Survey = (CP_Classes.Create_Edit_Survey) pageContext.getSession().getAttribute("CE_Survey");
      if (CE_Survey == null) {
        CE_Survey = new CP_Classes.Create_Edit_Survey();
        pageContext.getSession().setAttribute("CE_Survey", CE_Survey);
      }
    }
    out.write(_jsp_string3, 0, _jsp_string3.length);
    out.print((trans.tslt("Enter Login ID")));
    out.write(_jsp_string4, 0, _jsp_string4.length);
    out.print((trans.tslt("Enter Family Name")));
    out.write(_jsp_string5, 0, _jsp_string5.length);
    out.print((trans.tslt("Enter Given Name")));
    out.write(_jsp_string6, 0, _jsp_string6.length);
    out.print((trans.tslt("Enter Designation")));
    out.write(_jsp_string7, 0, _jsp_string7.length);
    out.print((trans.tslt("Enter ID Number")));
    out.write(_jsp_string8, 0, _jsp_string8.length);
    out.print((trans.tslt("Select Division")));
    out.write(_jsp_string9, 0, _jsp_string9.length);
    out.print((trans.tslt("Select Department")));
    out.write(_jsp_string10, 0, _jsp_string10.length);
    out.print((trans.tslt("Select Group")));
    out.write(_jsp_string11, 0, _jsp_string11.length);
    out.print((trans.tslt("Select User Type")));
    out.write(_jsp_string12, 0, _jsp_string12.length);
    out.print((trans.tslt("Enter Password")));
    out.write(_jsp_string13, 0, _jsp_string13.length);
    out.print((trans.tslt("Password must be at least 4 characters long")));
    out.write(_jsp_string14, 0, _jsp_string14.length);
    out.print((trans.tslt("Password mismatch")));
    out.write(_jsp_string15, 0, _jsp_string15.length);
    out.print((trans.tslt("Enter Email")));
    out.write(_jsp_string16, 0, _jsp_string16.length);
    out.print((trans.tslt("Supervisor is not assigned")));
    out.write(_jsp_string17, 0, _jsp_string17.length);
    out.print((trans.tslt("The username contains invalid characters")));
    out.write(_jsp_string18, 0, _jsp_string18.length);
    out.print((trans.tslt("")));
    out.write(_jsp_string19, 0, _jsp_string19.length);
    out.print((trans.tslt("The username doesn''t seem to be valid")));
    out.write(_jsp_string20, 0, _jsp_string20.length);
    out.print((trans.tslt("Destination IP address is invalid")));
    out.write(_jsp_string21, 0, _jsp_string21.length);
    out.print((trans.tslt("The domain name does not seem to be valid")));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    out.print((trans.tslt("The address must end in a well-known domain or two letter country")));
    out.write(_jsp_string23, 0, _jsp_string23.length);
    out.print((trans.tslt("This address is missing a hostname")));
    out.write(_jsp_string24, 0, _jsp_string24.length);
    
String username=(String)session.getAttribute("username");
  if (!logchk.isUsable(username)) 
  {
    out.write(_jsp_string25, 0, _jsp_string25.length);
      } 
  else 
  { 
if(request.getParameter("proceed") != null)
{ 
	int PKOrg = new Integer(request.getParameter("proceed")).intValue();
 	logchk.setOrg(PKOrg);
}
String LoginID =" ";
String FamilyName=" ";
String GivenName = " ";
String Designation =" ";
String IDNumber=" ";
int Division =0;
int Department=0;
int Group=0;
int UserType=0;
String dis="";
String email="";
String offTel = "";
String handphone = "";
String mobileProvider = "";
String remark = "";
String Password = "";
//Added a new field round in the User table
int round=0;
//Added by Ha 03/06/08
if (request.getParameter("txtLoginID")!=null)
	LoginID = request.getParameter("txtLoginID");
if (request.getParameter("txtFamilyName")!=null)
	FamilyName = request.getParameter("txtFamilyName");
if (request.getParameter("txtGivenName")!=null)
	GivenName = request.getParameter("txtGivenName");
if (request.getParameter("txtDesignation")!=null)
	Designation = request.getParameter("txtDesignation");
if (request.getParameter("txtIDNumber")!=null)
	IDNumber = request.getParameter("txtIDNumber");
if (request.getParameter("selDivision")!=null&&(!request.getParameter("selDivision").equals("")))
	Division = new Integer(request.getParameter("selDivision")).intValue();
if (request.getParameter("selDepartment")!=null&&(!request.getParameter("selDepartment").equals("")))
	Department = new Integer(request.getParameter("selDepartment")).intValue();
if (request.getParameter("selGroup")!=null&&(!request.getParameter("selGroup").equals("")))
	Group = new Integer(request.getParameter("selGroup")).intValue();
if (request.getParameter("selUserType")!=null&&(!request.getParameter("selUserType").equals("")))
	UserType = new Integer(request.getParameter("selUserType")).intValue();
if (request.getParameter("txtRound")!=null&&(!request.getParameter("txtRound").equals("")))
	round = new Integer(request.getParameter("txtRound")).intValue();
	
	if(request.getParameter("AssignRelation") != null)
	{
		if(Integer.parseInt(request.getParameter("AssignRelation")) == 1)
		{
			//Send Assign request
		
    out.write(_jsp_string26, 0, _jsp_string26.length);
    
		}
	}
	
if(request.getParameter("btnAdd") != null)	
{	
	try
	{
	//Changed by Ha 03/06/08
		int enable = 1;
		LoginID = request.getParameter("txtLoginID");	
	   
		int iPKUserID2 = Integer.parseInt(request.getParameter("hdnSupID")); //User ID for second person in tblUserRelation			
		
		FamilyName = request.getParameter("txtFamilyName");
		GivenName = request.getParameter("txtGivenName");
		Designation = request.getParameter("txtDesignation");
		IDNumber = request.getParameter("txtIDNumber");
		Division = new Integer(request.getParameter("selDivision")).intValue();
		Department = new Integer(request.getParameter("selDepartment")).intValue();
		Group = new Integer(request.getParameter("selGroup")).intValue();		
		UserType = new Integer(request.getParameter("selUserType")).intValue();		
		Password = request.getParameter("txtPassword");
		dis = request.getParameter("cliDisabled");
		email = request.getParameter("txtEmail");
		offTel = request.getParameter("txtOffTel");
		handphone = request.getParameter("txtHandphone");
		mobileProvider = request.getParameter("txtMobileProvider");
		remark = request.getParameter("txtRemark");
		if (!(request.getParameter("txtRound")).equals(""))
			round = new Integer(request.getParameter("txtRound")).intValue();
		int CompanyID = logchk.getCompany();
		
		if(dis!=null&&dis != " ")
		{
			enable = 0;
		}
		
		/*************************************
		* Edited by junwei on 5 Mar 2008
		* checkLoginIdExist() method added to 
		* User.java to check for existing ID
		**************************************/
		if(user.checkLoginIdExist(LoginID, logchk.getOrg()) == false)
		{
			//add a check if round field is empty then it'll be null value in the table
			if(!(request.getParameter("txtRound")).equals(""))
				user.addRecord(Department,Division,UserType,FamilyName,GivenName,LoginID,Designation,IDNumber,Group,Password,enable,CompanyID,logchk.getOrg(),email, offTel, handphone, mobileProvider, remark, logchk.getPKUser(),round);
			else
				user.addRecord(Department,Division,UserType,FamilyName,GivenName,LoginID,Designation,IDNumber,Group,Password,enable,CompanyID,logchk.getOrg(),email, offTel, handphone, mobileProvider, remark, logchk.getPKUser());
			
			//Get Just created UserID and insert into tblUserRelation
			
			if (iPKUserID2 == 0 || iPKUserID2 == -1)
			{	
				//System.out.println("Supervisor = -1 (" + iPKUserID2 + ")");
				user.insertNoRelation(LoginID);
			}
			else
			{
				//System.out.println("Supervisor != -1 (" + iPKUserID2 + ")");
				user.insertRelation(LoginID, iPKUserID2);
			}
			
    out.write(_jsp_string27, 0, _jsp_string27.length);
    out.print((trans.tslt("User has been successfully registered")));
    out.write(_jsp_string28, 0, _jsp_string28.length);
    
		}
		else
		{
		
    out.write(_jsp_string29, 0, _jsp_string29.length);
    out.print((trans.tslt("User exists")));
    out.write(_jsp_string30, 0, _jsp_string30.length);
    	
		}
	}
	catch (SQLException sqle) 
    {

    out.write(_jsp_string31, 0, _jsp_string31.length);
    out.print((trans.tslt("User exists")));
    out.write(_jsp_string32, 0, _jsp_string32.length);
    	}
}
    
	boolean rePopulate = false;
	if(request.getParameter("div") != null||Division>0)
	{
		if(request.getParameter("div") != null&& request.getParameter("div").length() > 0)
		{
			Division = new Integer(request.getParameter("div")).intValue();
			rePopulate = true;
		}
	
	}
	
	if(request.getParameter("dept") != null||Department>0)
	{	
		if(request.getParameter("dept") != null&&request.getParameter("dept").length() > 0)
		{
			Department = new Integer(request.getParameter("dept")).intValue();
			rePopulate = true;
		}
		
	}
	
	if(request.getParameter("selGroup") != null)
	{	
		if(request.getParameter("selGroup").length() > 0)
		{
			Group = new Integer(request.getParameter("selGroup")).intValue();
			rePopulate = true;
		}
	}
	
	if(request.getParameter("selUserType") != null)
	{	
		if(request.getParameter("selUserType").length() > 0)
		{
			UserType = new Integer(request.getParameter("selUserType")).intValue();
			rePopulate = true;
		}
	}
	
	if(rePopulate)
	{
		LoginID = request.getParameter("txtLoginID");
		FamilyName = request.getParameter("txtFamilyName");
		GivenName = request.getParameter("txtGivenName");
		Designation = request.getParameter("txtDesignation");
		IDNumber = request.getParameter("txtIDNumber");
		if (request.getParameter("txtPassword")!=null)
			Password = request.getParameter("txtPassword");
		//dis = request.getParameter("cliDisabled");
		if (request.getParameter("txtEmail")!=null)
			email = request.getParameter("txtEmail");
		if (request.getParameter("txtOffTel")!=null)
			offTel = request.getParameter("txtOffTel");
		if(request.getParameter("txtHandphone")!=null)
			handphone = request.getParameter("txtHandphone");
		if(request.getParameter("txtMobileProvider")!=null)
			mobileProvider = request.getParameter("txtMobileProvider");
		if(request.getParameter("txtRemark")!=null)
			remark = request.getParameter("txtRemark");
	}
	

    out.write(_jsp_string33, 0, _jsp_string33.length);
    out.print((trans.tslt("Organisation")));
    out.write(_jsp_string34, 0, _jsp_string34.length);
    
// Added to check whether organisation is also a consulting company
// if yes, will display a dropdown list of organisation managed by this company
// else, it will display the current organisation only
// Mark Oei 09 Mar 2010
	String [] UserDetail = new String[14];
	UserDetail = CE_Survey.getUserDetail(logchk.getPKUser());
	boolean isConsulting = true;
	isConsulting = Org.isConsulting(UserDetail[10]); // check whether organisation is a consulting company 
	if (isConsulting){
	Vector vOrg = logchk.getOrgList(logchk.getCompany());
	
	for(int i=0; i<vOrg.size(); i++)
	{
		votblOrganization vo = (votblOrganization)vOrg.elementAt(i);
		int PKOrg = vo.getPKOrganization();
		String OrgName = vo.getOrganizationName();
	
		if(logchk.getOrg() == PKOrg)
		{ 
    out.write(_jsp_string35, 0, _jsp_string35.length);
    out.print((PKOrg));
    out.write(_jsp_string36, 0, _jsp_string36.length);
    out.print((OrgName));
    out.write(_jsp_string37, 0, _jsp_string37.length);
    		} else { 
    out.write(_jsp_string35, 0, _jsp_string35.length);
    out.print((PKOrg));
    out.write('>');
    out.print((OrgName));
    out.write(_jsp_string38, 0, _jsp_string38.length);
    		}	
	}
	} else { 
    out.write(_jsp_string39, 0, _jsp_string39.length);
    out.print((logchk.getSelfOrg()));
    out.write('>');
    out.print((UserDetail[10]));
    out.write(_jsp_string38, 0, _jsp_string38.length);
     } // End of isConsulting 
    out.write(_jsp_string40, 0, _jsp_string40.length);
    out.print((trans.tslt("User Detail")));
    out.write(_jsp_string41, 0, _jsp_string41.length);
    out.print((trans.tslt("Login ID")));
    out.write(_jsp_string42, 0, _jsp_string42.length);
    out.print((LoginID.trim()));
    out.write(_jsp_string43, 0, _jsp_string43.length);
    out.print((trans.tslt("Family Name")));
    out.write(_jsp_string44, 0, _jsp_string44.length);
    out.print((FamilyName.trim()));
    out.write(_jsp_string45, 0, _jsp_string45.length);
    out.print((trans.tslt("Given Name")));
    out.write(_jsp_string46, 0, _jsp_string46.length);
    out.print((GivenName.trim()));
    out.write(_jsp_string45, 0, _jsp_string45.length);
    out.print((trans.tslt("Designation")));
    out.write(_jsp_string47, 0, _jsp_string47.length);
    out.print((Designation.trim()));
    out.write(_jsp_string45, 0, _jsp_string45.length);
    out.print((trans.tslt("ID Number")));
    out.write(_jsp_string48, 0, _jsp_string48.length);
    out.print((IDNumber.trim()));
    out.write(_jsp_string45, 0, _jsp_string45.length);
    out.print((trans.tslt("Email")));
    out.write(_jsp_string49, 0, _jsp_string49.length);
    out.print((email.trim()));
    out.write(_jsp_string50, 0, _jsp_string50.length);
    out.print((trans.tslt("Office Tel")));
    out.write(_jsp_string51, 0, _jsp_string51.length);
    out.print((offTel.trim()));
    out.write(_jsp_string50, 0, _jsp_string50.length);
    out.print((trans.tslt("Handphone")));
    out.write(_jsp_string52, 0, _jsp_string52.length);
    out.print((handphone.trim()));
    out.write(_jsp_string50, 0, _jsp_string50.length);
    out.print((trans.tslt("Mobile Provider")));
    out.write(_jsp_string53, 0, _jsp_string53.length);
     if(mobileProvider.equals("SingTel")) { 
    out.write(_jsp_string54, 0, _jsp_string54.length);
    }
    out.write(_jsp_string55, 0, _jsp_string55.length);
     if(mobileProvider.equals("StarHub")) { 
    out.write(_jsp_string54, 0, _jsp_string54.length);
    }
    out.write(_jsp_string56, 0, _jsp_string56.length);
     if(mobileProvider.equals("M1")) { 
    out.write(_jsp_string54, 0, _jsp_string54.length);
    }
    out.write(_jsp_string57, 0, _jsp_string57.length);
     if(mobileProvider.equals("Others")) { 
    out.write(_jsp_string54, 0, _jsp_string54.length);
    }
    out.write(_jsp_string58, 0, _jsp_string58.length);
    out.print((trans.tslt("Remark")));
    out.write(_jsp_string59, 0, _jsp_string59.length);
    out.print((remark.trim()));
    out.write(_jsp_string60, 0, _jsp_string60.length);
    out.print((trans.tslt("Division")));
    out.write(_jsp_string61, 0, _jsp_string61.length);
    
	if(Division == 0)
    out.write(_jsp_string62, 0, _jsp_string62.length);
    

	/***********************
	* Edited by Yuni 14 Nov 2007
	************************/
	Vector v = division.getAllDivisions(logchk.getOrg());
	
	for(int i=0; i<v.size(); i++) {
		voDivision vo = (voDivision)v.elementAt(i);

		int div_ID = vo.getPKDivision();
		String div_Name = vo.getDivision();


	if(Division != 0 && Division == div_ID)
	{
	
    out.write(_jsp_string39, 0, _jsp_string39.length);
    out.print((div_ID));
    out.write(_jsp_string36, 0, _jsp_string36.length);
    out.print((div_Name));
    out.write(_jsp_string38, 0, _jsp_string38.length);
    	}else{
    out.write(_jsp_string39, 0, _jsp_string39.length);
    out.print((div_ID));
    out.write('>');
    out.print((div_Name));
    out.write(_jsp_string38, 0, _jsp_string38.length);
    	}
}	
    out.write(_jsp_string63, 0, _jsp_string63.length);
    out.print((trans.tslt("Department")));
    out.write(_jsp_string64, 0, _jsp_string64.length);
    
	if(Department == 0)
    out.write(_jsp_string62, 0, _jsp_string62.length);
    
	int div = 0;
	//Changed by Ha 03/06/08
	if(request.getParameter("div") != null||Division>0)
	{
		if (request.getParameter("div")!=null)
		{
			String divID = request.getParameter("div");
			if(divID.length() > 0)
			{
				div = Integer.parseInt(divID);
			}
		}
		else
		{
			div = Division;
		}
	}
	
	/********************
	* Edited by James 17 Oct 2007
	************************/
	 Vector vDepartments = Cdepartment.getAllDepartments(logchk.getOrg(),div);
	 for(int i=0; i<vDepartments.size(); i++) { 
	
	
		voDepartment voD = (voDepartment)vDepartments.elementAt(i);
        
		int dep_ID=voD.getPKDepartment();
		String dep_Name =voD.getDepartmentName();
	

	if(Department != 0 && Department == dep_ID)
	{
	
    out.write(_jsp_string39, 0, _jsp_string39.length);
    out.print((dep_ID));
    out.write(_jsp_string36, 0, _jsp_string36.length);
    out.print((dep_Name));
    out.write(_jsp_string38, 0, _jsp_string38.length);
    	}else{
    out.write(_jsp_string65, 0, _jsp_string65.length);
    out.print((dep_ID));
    out.write('>');
    out.print((dep_Name));
    out.write(_jsp_string37, 0, _jsp_string37.length);
    	}
}	
    out.write(_jsp_string66, 0, _jsp_string66.length);
    out.print((trans.tslt("Group/Section")));
    out.write(_jsp_string67, 0, _jsp_string67.length);
    
	if(Group == 0)
    out.write(_jsp_string68, 0, _jsp_string68.length);
    
	int dept = 0;
	if(request.getParameter("dept") != null||Department>0)
	{
		if (request.getParameter("dept")!=null)
		{
			String department = request.getParameter("dept");
			if(department.length()> 0)
			{
				dept = Integer.parseInt(department);
			}
		}
		else
			dept = Department;
	}
	
	/********************
	* Edited by Yuni 14 Nov 2007
	************************/
	
	 Vector vGroup = group.getAllGroups(logchk.getOrg(),dept);
	 for(int i=0; i<vGroup.size(); i++) { 
	   
		voGroup voG = (voGroup)vGroup.elementAt(i);      
		
		int Group_ID = voG.getPKGroup();
		String GroupName = voG.getGroupName();
	
	

	if(Group != 0 && Group== Group_ID )
	{
	
    out.write(_jsp_string39, 0, _jsp_string39.length);
    out.print((Group_ID));
    out.write(_jsp_string36, 0, _jsp_string36.length);
    out.print((GroupName));
    out.write(_jsp_string38, 0, _jsp_string38.length);
    	}else{
    out.write(_jsp_string39, 0, _jsp_string39.length);
    out.print((Group_ID));
    out.write('>');
    out.print((GroupName));
    out.write(_jsp_string38, 0, _jsp_string38.length);
    	}
}	

    out.write(_jsp_string69, 0, _jsp_string69.length);
    out.print((trans.tslt("User Type")));
    out.write(_jsp_string70, 0, _jsp_string70.length);
    
	if(UserType == 0)
    out.write(_jsp_string62, 0, _jsp_string62.length);
    
	/********************
	* Edited by James 17 Oct 2007
	************************/
	/* Codes added to limit other organization from creating Administrator
	 * accounts. Only PCC can create Administrator accounts
	 * Mark Oei 09 Mar 2010
	 */
	
	 Vector vUser = user.getAllUsers();
	 String chkOrg = logchk.getOrgCode();
	 
	 for(int i=0; i<vUser.size(); i++) { 
	   
		voUserType voU = (voUserType)vUser.elementAt(i);      
		
		int type_ID  =voU.getPKUserType();
        String type_Name = voU.getUserTypeName();
     
        if (!(chkOrg.equals("PCC"))&& (type_Name.equals("Administrator"))){
        	continue;
        }
        else {
        	if(UserType != 0 && UserType== type_ID )
        	{
    out.write(_jsp_string71, 0, _jsp_string71.length);
    out.print((type_ID));
    out.write(_jsp_string36, 0, _jsp_string36.length);
    out.print((type_Name));
    out.write(_jsp_string38, 0, _jsp_string38.length);
    			} else {
    out.write(_jsp_string72, 0, _jsp_string72.length);
    out.print((type_ID));
    out.write('>');
    out.print((type_Name));
    out.write(_jsp_string38, 0, _jsp_string38.length);
    			}
        }
	 }	

    out.write(_jsp_string73, 0, _jsp_string73.length);
    out.print((trans.tslt("Password")));
    out.write(_jsp_string74, 0, _jsp_string74.length);
    out.print((trans.tslt("Confirm Password")));
    out.write(_jsp_string75, 0, _jsp_string75.length);
    out.print((trans.tslt("Round")));
    out.write(_jsp_string76, 0, _jsp_string76.length);
    out.print((trans.tslt("Supervisor")));
    out.write(_jsp_string77, 0, _jsp_string77.length);
    out.print((trans.tslt("Disabled")));
    out.write(_jsp_string78, 0, _jsp_string78.length);
    
		//Change condition by Ha 03/06/08
		if(dis!=null && dis != " ")
		{
		
    out.write(_jsp_string79, 0, _jsp_string79.length);
    }else	{
    out.write(_jsp_string80, 0, _jsp_string80.length);
    	}	
    out.write(_jsp_string81, 0, _jsp_string81.length);
    out.print((trans.tslt("Close")));
    out.write(_jsp_string82, 0, _jsp_string82.length);
    out.print((trans.tslt("Save")));
    out.write(_jsp_string83, 0, _jsp_string83.length);
    	}	
    out.write(_jsp_string84, 0, _jsp_string84.length);
  }

  private com.caucho.make.DependencyContainer _caucho_depends
    = new com.caucho.make.DependencyContainer();

  public java.util.ArrayList<com.caucho.vfs.Dependency> _caucho_getDependList()
  {
    return _caucho_depends.getDependencies();
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    _caucho_depends.add(depend);
  }

  protected void _caucho_setNeverModified(boolean isNotModified)
  {
    _caucho_isNotModified = true;
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;

    if (_caucho_isNotModified)
      return false;

    if (com.caucho.server.util.CauchoSystem.getVersionId() != -7791540776389363938L)
      return true;

    return _caucho_depends.isModified();
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
    TagState tagState;
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("User.jsp"), 7432402074715463475L, false);
    _caucho_depends.add(depend);
  }

  final static class TagState {

    void release()
    {
    }
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void caucho_init(ServletConfig config)
  {
    try {
      com.caucho.server.webapp.WebApp webApp
        = (com.caucho.server.webapp.WebApp) config.getServletContext();
      init(config);
      if (com.caucho.jsp.JspManager.getCheckInterval() >= 0)
        _caucho_depends.setCheckInterval(com.caucho.jsp.JspManager.getCheckInterval());
      _jsp_pageManager = webApp.getJspApplicationContext().getPageManager();
      com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
      com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.InitPageContextImpl(webApp, this);
    } catch (Exception e) {
      throw com.caucho.config.ConfigException.create(e);
    }
  }

  private final static char []_jsp_string83;
  private final static char []_jsp_string73;
  private final static char []_jsp_string57;
  private final static char []_jsp_string58;
  private final static char []_jsp_string34;
  private final static char []_jsp_string65;
  private final static char []_jsp_string60;
  private final static char []_jsp_string80;
  private final static char []_jsp_string47;
  private final static char []_jsp_string45;
  private final static char []_jsp_string10;
  private final static char []_jsp_string19;
  private final static char []_jsp_string77;
  private final static char []_jsp_string29;
  private final static char []_jsp_string6;
  private final static char []_jsp_string43;
  private final static char []_jsp_string69;
  private final static char []_jsp_string18;
  private final static char []_jsp_string13;
  private final static char []_jsp_string81;
  private final static char []_jsp_string37;
  private final static char []_jsp_string23;
  private final static char []_jsp_string16;
  private final static char []_jsp_string84;
  private final static char []_jsp_string54;
  private final static char []_jsp_string30;
  private final static char []_jsp_string66;
  private final static char []_jsp_string14;
  private final static char []_jsp_string32;
  private final static char []_jsp_string5;
  private final static char []_jsp_string24;
  private final static char []_jsp_string63;
  private final static char []_jsp_string50;
  private final static char []_jsp_string71;
  private final static char []_jsp_string75;
  private final static char []_jsp_string36;
  private final static char []_jsp_string68;
  private final static char []_jsp_string27;
  private final static char []_jsp_string39;
  private final static char []_jsp_string26;
  private final static char []_jsp_string62;
  private final static char []_jsp_string8;
  private final static char []_jsp_string15;
  private final static char []_jsp_string1;
  private final static char []_jsp_string12;
  private final static char []_jsp_string22;
  private final static char []_jsp_string20;
  private final static char []_jsp_string48;
  private final static char []_jsp_string76;
  private final static char []_jsp_string59;
  private final static char []_jsp_string67;
  private final static char []_jsp_string4;
  private final static char []_jsp_string64;
  private final static char []_jsp_string82;
  private final static char []_jsp_string31;
  private final static char []_jsp_string78;
  private final static char []_jsp_string35;
  private final static char []_jsp_string7;
  private final static char []_jsp_string44;
  private final static char []_jsp_string25;
  private final static char []_jsp_string41;
  private final static char []_jsp_string49;
  private final static char []_jsp_string0;
  private final static char []_jsp_string79;
  private final static char []_jsp_string17;
  private final static char []_jsp_string42;
  private final static char []_jsp_string38;
  private final static char []_jsp_string28;
  private final static char []_jsp_string3;
  private final static char []_jsp_string2;
  private final static char []_jsp_string70;
  private final static char []_jsp_string40;
  private final static char []_jsp_string9;
  private final static char []_jsp_string33;
  private final static char []_jsp_string51;
  private final static char []_jsp_string74;
  private final static char []_jsp_string21;
  private final static char []_jsp_string61;
  private final static char []_jsp_string46;
  private final static char []_jsp_string52;
  private final static char []_jsp_string11;
  private final static char []_jsp_string56;
  private final static char []_jsp_string72;
  private final static char []_jsp_string53;
  private final static char []_jsp_string55;
  static {
    _jsp_string83 = "\" name=\"btnAdd\" style=\"float: right\"></td>\r\n		<td width=\"489\" align=\"right\">&nbsp;\r\n		\r\n   \r\n		</td>\r\n	</tr>\r\n</table>\r\n</form>\r\n</cfoutput>\r\n".toCharArray();
    _jsp_string73 = "				\r\n		</select></span></font></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string57 = ">M1</option>\r\n			<option value = \"Others\" ".toCharArray();
    _jsp_string58 = ">Others</option>\r\n		</select></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string34 = ": </font></b></td>\r\n		<td width=\"68%\">\r\n<p align=\"left\"> <font size=\"2\">\r\n   \r\n	<select size=\"1\" name=\"selOrg\" onchange=\"proceed(this.form,this.form.selOrg)\">\r\n".toCharArray();
    _jsp_string65 = "		\r\n		<option value=".toCharArray();
    _jsp_string60 = "</textarea></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string80 = "\r\n			</font>\r\n		<span style=\"font-size: 11pt\">\r\n			<input type=\"checkbox\" name=\"cliDisabled\" value= \"1\"><font size=\"2\">\r\n		".toCharArray();
    _jsp_string47 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<span style=\"font-size: 11pt\">\r\n		<input type=\"text\" name=\"txtDesignation\" size=\"20\"  value=\"".toCharArray();
    _jsp_string45 = "\"></span></font></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string10 = "\");\r\n		return false;\r\n	} \r\n	if (x.selGroup.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string19 = ".\");\r\nreturn false;\r\n   }\r\n}\r\n\r\n// See if \"user\" is valid \r\n\r\nif (user.match(userPat)==null) {\r\n\r\n// user is not valid\r\n\r\nalert(\"".toCharArray();
    _jsp_string77 = "</font><font face=\"Arial\" style=\"font-size: 11pt\">:</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\" size=\"2\">\r\n		<span style=\"font-size: 11pt\">\r\n\r\n		<input type=\"text\" name=\"txtSup\" size=\"15\" value=\"\" readonly>\r\n		<input type=\"hidden\" name=\"hdnSupID\" value=\"-1\">\r\n		<img border=\"0\" id=\"img1\" src=\"images/btnAssign1.jpg\" height=\"20\" width=\"60\" alt=\"Assign\" onclick=\"AssignRelation(this.form)\" fp-style=\"fp-btn: Glow Rectangle 1; fp-proportional: 0\" fp-title=\"Assign\" onmouseover=\"FP_swapImg(1,0,/*id*/'img1',/*url*/'images/btnAssign3.jpg')\" onmouseout=\"FP_swapImg(0,0,/*id*/'img1',/*url*/'images/btnAssign1.jpg')\" onmousedown=\"FP_swapImg(1,0,/*id*/'img1',/*url*/'images/btnAssign2.jpg')\" onmouseup=\"FP_swapImg(0,0,/*id*/'img1',/*url*/'images/btnAssign3.jpg')\"></span></font></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string29 = "\r\n			<script>\r\n			alert(\"".toCharArray();
    _jsp_string6 = "\");\r\n		return false;\r\n	}\r\n	if (x.txtDesignation.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string43 = "\"></span><font size=\"2\">\r\n		</font></font></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string69 = "			\r\n		</select></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string18 = ".\");\r\nreturn false;\r\n   }\r\n}\r\nfor (i=0; i<domain.length; i++) {\r\nif (domain.charCodeAt(i)>127) {\r\nalert(\"".toCharArray();
    _jsp_string13 = "\");\r\n		return false;\r\n	}  \r\n	if (x.txtPassword.value.length < 4) {\r\n		alert(\"".toCharArray();
    _jsp_string81 = "\r\n			</font>\r\n			</span></font></td>\r\n	</tr>\r\n</table>\r\n<table border=\"0\" width=\"100%\" height=\"56\">\r\n	<tr>\r\n		<td width=\"137\">&nbsp;</td>\r\n		<td width=\"838\" align=\"right\">&nbsp;</td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"490\" align=\"right\">\r\n		\r\n   \r\n		<input type=\"button\" value=\"".toCharArray();
    _jsp_string37 = "</option>\r\n\r\n".toCharArray();
    _jsp_string23 = ".\");\r\nreturn false;\r\n}\r\n\r\n// Make sure there's a host name preceding the domain.\r\n\r\nif (len<2) {\r\nalert(\"".toCharArray();
    _jsp_string16 = "\");\r\n		return false;\r\n	} else {\r\n      	if(emailCheck(x.txtEmail.value) == false) return false;\r\n    }\r\n    //\\\\ Added by Ha 10/06/08 to prompt confirm message\r\n    if (!confirm(\"Register new user?\")) {\r\n		return false;}\r\n		\r\n    if (x.txtSup.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string84 = "\r\n</body>\r\n</html>".toCharArray();
    _jsp_string54 = "selected".toCharArray();
    _jsp_string30 = "\");\r\n			</script>\r\n		".toCharArray();
    _jsp_string66 = "			\r\n		</select></span></font></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string14 = "\");\r\n		return false;\r\n	}  \r\n	if(x.txtPassword.value != x.txtPassword2.value) {\r\n		alert(\"".toCharArray();
    _jsp_string32 = "\");\r\n		</script>\r\n".toCharArray();
    _jsp_string5 = "\");\r\n		return false;\r\n	}\r\n	if (x.txtGivenName.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string24 = "!\");\r\nreturn false;\r\n}\r\n\r\n// If we've gotten this far, everything's valid!\r\nreturn true;\r\n\r\n}\r\n\r\nfunction populateDept(form, field)\r\n{\r\n	form.action=\"User.jsp?div=\"+field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\nfunction populateGrp(form, field1, field2)\r\n{\r\n	form.action=\"User.jsp?div=\" + field1.value + \"&dept=\"+ field2.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\n</script>\r\n<body onload=\"FP_preloadImgs(/*url*/'images/btnAssign3.jpg', /*url*/'images/btnAssign2.jpg')\">\r\n".toCharArray();
    _jsp_string63 = "		\r\n			</select></span></font></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string50 = "\"></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string71 = "\r\n				<option value=".toCharArray();
    _jsp_string75 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<span style=\"font-size: 11pt\">\r\n		<input type=\"password\" name=\"txtPassword2\" size=\"20\"></span></font></td>\r\n	</tr>\r\n	<!-- Adding a new field for round by Albert(1 June 2012) -->\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string36 = " selected>".toCharArray();
    _jsp_string68 = "\r\n			<option value='' selected>&nbsp;</option>\r\n".toCharArray();
    _jsp_string27 = "\r\n			<script>\r\n				alert(\"".toCharArray();
    _jsp_string39 = "\r\n		<option value=".toCharArray();
    _jsp_string26 = "\r\n		<script>\r\n			var myWindow=window.open('AssignRelationUserList.jsp','windowRef','scrollbars=no, width=770, height=470');\r\n			myWindow.moveTo(x,y);\r\n		   // myWindow.location.href = 'AssignRelationUserList.jsp';\r\n		</script>\r\n		".toCharArray();
    _jsp_string62 = "\r\n				<option value='' selected>&nbsp;</option>\r\n".toCharArray();
    _jsp_string8 = "\");\r\n		return false;\r\n	}	\r\n	if (x.selDivision.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string15 = "\");\r\n		return false;\r\n	}  \r\n	if (x.txtEmail.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string1 = "\r\n\r\n<script language=\"JavaScript\">\r\n<!--\r\nfunction FP_swapImg() {//v1.0\r\n var doc=document,args=arguments,elm,n; doc.$imgSwaps=new Array(); for(n=2; n<args.length;\r\n n+=2) { elm=FP_getObjectByID(args[n]); if(elm) { doc.$imgSwaps[doc.$imgSwaps.length]=elm;\r\n elm.$src=elm.src; elm.src=args[n+1]; } }\r\n}\r\n\r\nfunction FP_preloadImgs() {//v1.0\r\n var d=document,a=arguments; if(!d.FP_imgs) d.FP_imgs=new Array();\r\n for(var i=0; i<a.length; i++) { d.FP_imgs[i]=new Image; d.FP_imgs[i].src=a[i]; }\r\n}\r\n\r\nfunction FP_getObjectByID(id,o) {//v1.0\r\n var c,el,els,f,m,n; if(!o)o=document; if(o.getElementById) el=o.getElementById(id);\r\n else if(o.layers) c=o.layers; else if(o.all) el=o.all[id]; if(el) return el;\r\n if(o.id==id || o.name==id) return o; if(o.childNodes) c=o.childNodes; if(c)\r\n for(n=0; n<c.length; n++) { el=FP_getObjectByID(id,c[n]); if(el) return el; }\r\n f=o.forms; if(f) for(n=0; n<f.length; n++) { els=f[n].elements;\r\n for(m=0; m<els.length; m++){ el=FP_getObjectByID(id,els[n]); if(el) return el; } }\r\n return null;\r\n}\r\n// -->\r\n</script>\r\n   \r\n".toCharArray();
    _jsp_string12 = "\");\r\n		return false;\r\n	}\r\n	if (x.txtPassword.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string22 = ".\");\r\nreturn false;\r\n   }\r\n}\r\n\r\n/* domain name seems valid, but now make sure that it ends in a\r\nknown top-level domain (like com, edu, gov) or a two-letter word,\r\nrepresenting country (uk, nl), and that there's a hostname preceding \r\nthe domain or country. */\r\n\r\nif (checkTLD && domArr[domArr.length-1].length!=2 && \r\ndomArr[domArr.length-1].search(knownDomsPat)==-1) {\r\nalert(\"".toCharArray();
    _jsp_string20 = ".\");\r\nreturn false;\r\n}\r\n\r\n/* if the e-mail address is at an IP address (as opposed to a symbolic\r\nhost name) make sure the IP address is valid. */\r\n\r\nvar IPArray=domain.match(ipDomainPat);\r\nif (IPArray!=null) {\r\n\r\n// this is an IP address\r\n\r\nfor (var i=1;i<=4;i++) {\r\nif (IPArray[i]>255) {\r\nalert(\"".toCharArray();
    _jsp_string48 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<span style=\"font-size: 11pt\">\r\n		<input type=\"text\" name=\"txtIDNumber\" size=\"20\" value=\"".toCharArray();
    _jsp_string76 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<span style=\"font-size: 11pt\">\r\n		<input type=\"text\" name=\"txtRound\" size=\"20\"></span></font></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string59 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\">\r\n		<textarea span style='font-family:Arial;font-size:10.0pt' name=\"txtRemark\" cols=\"50\" rows=\"5\">".toCharArray();
    _jsp_string67 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><select size=\"1\" name=\"selGroup\">\r\n".toCharArray();
    _jsp_string4 = "\");\r\n		return false;\r\n	}\r\n	if (x.txtFamilyName.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string64 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<span style=\"font-size: 11pt\"><select size=\"1\" name=\"selDepartment\" onchange=\"populateGrp(this.form, this.form.selDivision, this.form.selDepartment)\">\r\n				".toCharArray();
    _jsp_string82 = "\" name=\"btnClose\" style=\"float: right\" onclick=\"search(this.form)\"><font size=\"2\"><input type=\"submit\" \r\n=\"".toCharArray();
    _jsp_string31 = "		<script>\r\n			alert(\"".toCharArray();
    _jsp_string78 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<font size=\"2\">\r\n		".toCharArray();
    _jsp_string35 = "\r\n			<option value=".toCharArray();
    _jsp_string7 = "\");\r\n		return false;\r\n	}\r\n	if (x.txtIDNumber.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string44 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<span style=\"font-size: 11pt\">\r\n		<input type=\"text\" name=\"txtFamilyName\" size=\"20\" value=\"".toCharArray();
    _jsp_string25 = " <font size=\"2\">\r\n   \r\n	<script>\r\n	window.close();\r\n	opener.parent.location.href = \"Login.jsp\";\r\n	</script>\r\n".toCharArray();
    _jsp_string41 = "</font></b></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string49 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\">\r\n		<input type=\"text\" name=\"txtEmail\" size=\"27\" value=\"".toCharArray();
    _jsp_string0 = "\r\n".toCharArray();
    _jsp_string79 = "\r\n			</font>\r\n		<span style=\"font-size: 11pt\">\r\n			<input type=\"checkbox\" name=\"cliDisabled\" value= \"0\"></span><font size=\"2\">\r\n		".toCharArray();
    _jsp_string17 = "\");\r\n		return true;\r\n	}\r\n		\r\n	return true;\r\n}\r\n\r\n//Edited by Xuehai 02 Jun 2011. Remove 'void'. Enable to run on different browers like Chrome&Firefox.\r\n//void function search(form)\r\nfunction search(form)\r\n{\r\n	//form.action = \"UserList.jsp\";\r\n	form.action = \"UserSearch.jsp\";\r\n	form.method = \"post\";\r\n	form.submit();	\r\n}\r\n\r\nfunction proceed(form,field)\r\n{\r\n	form.action=\"User.jsp?proceed=\"+field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\nfunction checkName(form,field)\r\n{\r\n	form.action=\"User.jsp?checkName=1\";\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\nfunction emailCheck (emailStr) {\r\n\r\n/* The following variable tells the rest of the function whether or not\r\nto verify that the address ends in a two-letter country or well-known\r\nTLD.  1 means check it, 0 means don't. */\r\n\r\nvar checkTLD=1;\r\n\r\n/* The following is the list of known TLDs that an e-mail address must end with. */\r\n\r\nvar knownDomsPat=/^(com|net|org|edu|int|mil|gov|arpa|biz|aero|name|coop|info|pro|museum)$/;\r\n\r\n/* The following pattern is used to check if the entered e-mail address\r\nfits the user@domain format.  It also is used to separate the username\r\nfrom the domain. */\r\n\r\nvar emailPat=/^(.+)@(.+)$/;\r\n\r\n/* The following string represents the pattern for matching all special\r\ncharacters.  We don't want to allow special characters in the address. \r\nThese characters include ( ) < > @ , ; : \\ \" . [ ] */\r\n\r\nvar specialChars=\"\\\\(\\\\)><@,;:\\\\\\\\\\\\\\\"\\\\.\\\\[\\\\]\";\r\n\r\n/* The following string represents the range of characters allowed in a \r\nusername or domainname.  It really states which chars aren't allowed.*/\r\n\r\nvar validChars=\"\\[^\\\\s\" + specialChars + \"\\]\";\r\n\r\n/* The following pattern applies if the \"user\" is a quoted string (in\r\nwhich case, there are no rules about which characters are allowed\r\nand which aren't; anything goes).  E.g. \"jiminy cricket\"@disney.com\r\nis a legal e-mail address. */\r\n\r\nvar quotedUser=\"(\\\"[^\\\"]*\\\")\";\r\n\r\n/* The following pattern applies for domains that are IP addresses,\r\nrather than symbolic names.  E.g. joe@[123.124.233.4] is a legal\r\ne-mail address. NOTE: The square brackets are required. */\r\n\r\nvar ipDomainPat=/^\\[(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\]$/;\r\n\r\n/* The following string represents an atom (basically a series of non-special characters.) */\r\n\r\nvar atom=validChars + '+';\r\n\r\n/* The following string represents one word in the typical username.\r\nFor example, in john.doe@somewhere.com, john and doe are words.\r\nBasically, a word is either an atom or quoted string. */\r\n\r\nvar word=\"(\" + atom + \"|\" + quotedUser + \")\";\r\n\r\n// The following pattern describes the structure of the user\r\n\r\nvar userPat=new RegExp(\"^\" + word + \"(\\\\.\" + word + \")*$\");\r\n\r\n/* The following pattern describes the structure of a normal symbolic\r\ndomain, as opposed to ipDomainPat, shown above. */\r\n\r\nvar domainPat=new RegExp(\"^\" + atom + \"(\\\\.\" + atom +\")*$\");\r\n\r\n/* Finally, let's start trying to figure out if the supplied address is valid. */\r\n\r\n/* Begin with the coarse pattern to simply break up user@domain into\r\ndifferent pieces that are easy to analyze. */\r\n\r\nvar matchArray=emailStr.match(emailPat);\r\n\r\nif (matchArray==null) {\r\n\r\n/* Too many/few @'s or something; basically, this address doesn't\r\neven fit the general mould of a valid e-mail address. */\r\n\r\nalert(\"Email address seems incorrect (check @ and .'s)\");\r\nreturn false;\r\n}\r\nvar user=matchArray[1];\r\nvar domain=matchArray[2];\r\n\r\n// Start by checking that only basic ASCII characters are in the strings (0-127).\r\n\r\nfor (i=0; i<user.length; i++) {\r\nif (user.charCodeAt(i)>127) {\r\nalert(\"".toCharArray();
    _jsp_string42 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\">\r\n		<font face=\"Arial\"><span style=\"font-size: 11pt\">\r\n		<input name=\"txtLoginID\" size=\"20\" style=\"float: left\" value=\"".toCharArray();
    _jsp_string38 = "</option>\r\n".toCharArray();
    _jsp_string28 = "\");\r\n		//**** Edited by Tracy on 08 Aug 08******\r\n		// Tranfer to User List after creating a new user.\r\n				//window.location.href = 'User.jsp';\r\n				window.location.href = 'UserList.jsp';\r\n		//********************************************\r\n			</script>\r\n			".toCharArray();
    _jsp_string3 = "\r\n\r\n\r\n\r\n\r\n\r\n\r\n<html>\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html\">\r\n</head>\r\n<SCRIPT LANGUAGE=\"JavaScript\">\r\nvar x = parseInt(window.screen.width) / 2 - 385;  // the number 250 is the exact half of the width of the pop-up and so should be changed according to the size of the pop-up\r\nvar y = parseInt(window.screen.height) / 2 - 235;  // the number 125 is the exact half of the height of the pop-up and so should be changed according to the size of the pop-up\r\n\r\nfunction AssignRelation(form)\r\n{\r\n	//window.document.User.action=\"User.jsp?AssignRelation=1\";\r\n	//window.document.User.method=\"post\";\r\n	//window.document.User.submit();	\r\n	var myWindow=window.open('AssignRelationUserList.jsp?PageOpener=User.jsp','windowRef','scrollbars=no, width=770, height=470');\r\n	myWindow.moveTo(x,y);\r\n\r\n}\r\n\r\n//By Hemilda date 06/06/2008 - Change Prompt message\r\nfunction validate()\r\n{\r\n    x = document.User;\r\n    if (x.txtLoginID.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string2 = "                   \r\n".toCharArray();
    _jsp_string70 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<span style=\"font-size: 11pt\"><select size=\"1\" name=\"selUserType\">\r\n				".toCharArray();
    _jsp_string40 = "\r\n</select></td>\r\n\r\n	<td width=\"13%\"><p align=\"center\"></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"19%\">&nbsp;</td>\r\n		<td width=\"1%\"></td>\r\n		<td width=\"80%\">&nbsp;</td>\r\n	</tr>\r\n</table>\r\n<table border=\"1\" width=\"36%\" bordercolor=\"#3399FF\" bgcolor=\"#FFFFCC\">\r\n	<tr>\r\n		<td colspan=\"2\" bgcolor=\"#000080\" height=\"27\">\r\n		<p align=\"center\"><b><font face=\"Arial\" color=\"#FFFFFF\" size=\"2\">".toCharArray();
    _jsp_string9 = "\");\r\n		return false;\r\n	}    \r\n	if (x.selDepartment.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string33 = "\r\n\r\n<form name=\"User\" action=\"User.jsp\" method=\"post\" onsubmit=\"return validate()\">\r\n\r\n<table border=\"0\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\">\r\n	<tr>\r\n		<td width=\"19%\"><b><font face=\"Arial\" size=\"2\">".toCharArray();
    _jsp_string51 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\">\r\n		<input type=\"text\" name=\"txtOffTel\" size=\"27\" value=\"".toCharArray();
    _jsp_string74 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<span style=\"font-size: 11pt\">\r\n		<input type=\"password\" name=\"txtPassword\" size=\"20\"></span></font></td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"36%\" align=\"left\"><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string21 = "!\");\r\nreturn false;\r\n   }\r\n}\r\nreturn true;\r\n}\r\n\r\n// Domain is symbolic name.  Check if it's valid.\r\n \r\nvar atomPat=new RegExp(\"^\" + atom + \"$\");\r\nvar domArr=domain.split(\".\");\r\nvar len=domArr.length;\r\nfor (i=0;i<len;i++) {\r\nif (domArr[i].search(atomPat)==-1) {\r\nalert(\"".toCharArray();
    _jsp_string61 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<span style=\"font-size: 11pt\">\r\n			<select size=\"1\" name=\"selDivision\" onchange=\"populateDept(this.form, this.form.selDivision)\">\r\n".toCharArray();
    _jsp_string46 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\"><font face=\"Arial\">\r\n		<span style=\"font-size: 11pt\">\r\n		<input type=\"text\" name=\"txtGivenName\" size=\"20\" value=\"".toCharArray();
    _jsp_string52 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\">\r\n		<input type=\"text\" name=\"txtHandphone\" size=\"27\" value=\"".toCharArray();
    _jsp_string11 = "\");\r\n		return false;\r\n	} \r\n	if (x.selUserType.value == \"\") {\r\n		alert(\"".toCharArray();
    _jsp_string56 = ">StarHub</option>\r\n			<option value=\"M1\" ".toCharArray();
    _jsp_string72 = "		\r\n				<option value=".toCharArray();
    _jsp_string53 = ":</font></td>\r\n		<td align=\"left\" width=\"59%\">\r\n		<select name=\"txtMobileProvider\">\r\n			<option value=\"SingTel\" ".toCharArray();
    _jsp_string55 = ">SingTel</option>\r\n			<option value=\"StarHub\" ".toCharArray();
  }
}
