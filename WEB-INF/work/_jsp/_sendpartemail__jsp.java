/*
 * JSP generated by Resin Professional 4.0.36 (built Fri, 26 Apr 2013 03:33:09 PDT)
 */

package _jsp;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import java.sql.*;
import java.io.*;
import java.lang.String;
import java.util.Vector;
import CP_Classes.vo.votblOrganization;
import CP_Classes.vo.votblSurvey;
import CP_Classes.AssignTarget_Rater;
import CP_Classes.vo.voUser;
import CP_Classes.vo.*;
import java.util.*;

public class _sendpartemail__jsp extends com.caucho.jsp.JavaPage
{
  private static final java.util.HashMap<String,java.lang.reflect.Method> _jsp_functionMap = new java.util.HashMap<String,java.lang.reflect.Method>();
  private boolean _caucho_isDead;
  private boolean _caucho_isNotModified;
  private com.caucho.jsp.PageManager _jsp_pageManager;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.WebApp _jsp_application = _caucho_getApplication();
    com.caucho.jsp.PageContextImpl pageContext = _jsp_pageManager.allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);

    TagState _jsp_state = null;

    try {
      _jspService(request, response, pageContext, _jsp_application, session, _jsp_state);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      _jsp_pageManager.freePageContext(pageContext);
    }
  }
  
  private void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response,
              com.caucho.jsp.PageContextImpl pageContext,
              javax.servlet.ServletContext application,
              javax.servlet.http.HttpSession session,
              TagState _jsp_state)
    throws Throwable
  {
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    final javax.el.ELContext _jsp_env = pageContext.getELContext();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    javax.servlet.jsp.tagext.JspTag _jsp_parent_tag = null;
    com.caucho.jsp.PageContextImpl _jsp_parentContext = pageContext;
    response.setContentType("text/html");
    response.setCharacterEncoding("utf-8");

    out.write(_jsp_string0, 0, _jsp_string0.length);
    CP_Classes.Login logchk;
    synchronized (pageContext.getSession()) {
      logchk = (CP_Classes.Login) pageContext.getSession().getAttribute("logchk");
      if (logchk == null) {
        logchk = new CP_Classes.Login();
        pageContext.getSession().setAttribute("logchk", logchk);
      }
    }
    out.write(_jsp_string1, 0, _jsp_string1.length);
    CP_Classes.Report_ListOfTarget Rpt7;
    synchronized (pageContext.getSession()) {
      Rpt7 = (CP_Classes.Report_ListOfTarget) pageContext.getSession().getAttribute("Rpt7");
      if (Rpt7 == null) {
        Rpt7 = new CP_Classes.Report_ListOfTarget();
        pageContext.getSession().setAttribute("Rpt7", Rpt7);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.Setting setting;
    synchronized (pageContext.getSession()) {
      setting = (CP_Classes.Setting) pageContext.getSession().getAttribute("setting");
      if (setting == null) {
        setting = new CP_Classes.Setting();
        pageContext.getSession().setAttribute("setting", setting);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.Create_Edit_Survey CE_Survey;
    synchronized (pageContext.getSession()) {
      CE_Survey = (CP_Classes.Create_Edit_Survey) pageContext.getSession().getAttribute("CE_Survey");
      if (CE_Survey == null) {
        CE_Survey = new CP_Classes.Create_Edit_Survey();
        pageContext.getSession().setAttribute("CE_Survey", CE_Survey);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.Database db;
    synchronized (pageContext.getSession()) {
      db = (CP_Classes.Database) pageContext.getSession().getAttribute("db");
      if (db == null) {
        db = new CP_Classes.Database();
        pageContext.getSession().setAttribute("db", db);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.Translate trans;
    synchronized (pageContext.getSession()) {
      trans = (CP_Classes.Translate) pageContext.getSession().getAttribute("trans");
      if (trans == null) {
        trans = new CP_Classes.Translate();
        pageContext.getSession().setAttribute("trans", trans);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.ReminderCheck email;
    synchronized (pageContext.getSession()) {
      email = (CP_Classes.ReminderCheck) pageContext.getSession().getAttribute("email");
      if (email == null) {
        email = new CP_Classes.ReminderCheck();
        pageContext.getSession().setAttribute("email", email);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.User_Jenty user_Jenty;
    synchronized (pageContext.getSession()) {
      user_Jenty = (CP_Classes.User_Jenty) pageContext.getSession().getAttribute("user_Jenty");
      if (user_Jenty == null) {
        user_Jenty = new CP_Classes.User_Jenty();
        pageContext.getSession().setAttribute("user_Jenty", user_Jenty);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.User User;
    synchronized (pageContext.getSession()) {
      User = (CP_Classes.User) pageContext.getSession().getAttribute("User");
      if (User == null) {
        User = new CP_Classes.User();
        pageContext.getSession().setAttribute("User", User);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
     	// added to check whether organisation is a consulting company
// Mark Oei 09 Mar 2010 
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.Organization Org;
    synchronized (pageContext.getSession()) {
      Org = (CP_Classes.Organization) pageContext.getSession().getAttribute("Org");
      if (Org == null) {
        Org = new CP_Classes.Organization();
        pageContext.getSession().setAttribute("Org", Org);
      }
    }
    out.write(_jsp_string2, 0, _jsp_string2.length);
    CP_Classes.QuestionnaireReport QR;
    synchronized (pageContext.getSession()) {
      QR = (CP_Classes.QuestionnaireReport) pageContext.getSession().getAttribute("QR");
      if (QR == null) {
        QR = new CP_Classes.QuestionnaireReport();
        pageContext.getSession().setAttribute("QR", QR);
      }
    }
    out.write(_jsp_string3, 0, _jsp_string3.length);
    // by lydia Date 05/09/2008 Fix jsp file to support Thai language 
    out.write(_jsp_string4, 0, _jsp_string4.length);
    
/*
* Liu Taichen Declaration
*/
Vector raterList = null;
Vector targetList = null;
Vector groupList = null;
Vector DivisionList = null;
Vector DepartmentList = null;

int targetID = QR.getTargetID();
int raterID = QR.getRaterID();
int divID = QR.getDivisionID();
int deptID = QR.getDepartmentID();
int groupID = QR.getGroupID();

int t = 0;


boolean enableBtnPreview = false;//Added by ping yang on 30/7/08 to disable 'Preview" button when no supervisor
String username=(String)session.getAttribute("username");

  if (!logchk.isUsable(username)) 
  {
    out.write(_jsp_string5, 0, _jsp_string5.length);
      } 
  else 
  { 

if(request.getParameter("proceed") != null)
{ 
	int var2 = new Integer(request.getParameter("selOrg")).intValue();
	CE_Survey.set_survOrg(var2);
	//Added to change the display organization name
	//Mark Oei 16 April 2010
 	logchk.setOrg(var2);
}

/*
*Liu Taichen
*/

if (request.getParameter("surveyID") != null){
	
	int id = Integer.parseInt(request.getParameter("surveyID"));
	
	QR.setSurveyID(id);
	QR.setDivisionID(0);
	QR.setDepartmentID(0);
	QR.setGroupID(0);
	QR.setTargetID(0);
	QR.setRaterID(0);
	
	DivisionList = QR.getDivision(id);
	
	DepartmentList = QR.getDepartment(id, QR.getDivisionID());
	groupList = QR.getGroup(id, QR.getDivisionID(), QR.getDepartmentID());
	targetList = QR.getTarget(QR.getSurveyID(), QR.getGroupID());
	raterList = QR.getRater(QR.getSurveyID());
}

if (request.getParameter("div")!=null)
{		
    int id = Integer.parseInt(request.getParameter("div"));
	QR.setDivisionID(id);
	QR.setDepartmentID(0);
	QR.setGroupID(0);
	

	
	DivisionList = QR.getDivision(QR.getSurveyID());
	DepartmentList = QR.getDepartment(QR.getSurveyID(), QR.getDivisionID());
	groupList = QR.getGroup(QR.getSurveyID(), QR.getDivisionID(), QR.getDepartmentID());

}

if (request.getParameter("dept")!=null)
{		
    int id = Integer.parseInt(request.getParameter("dept"));
	QR.setDepartmentID(id);
	QR.setGroupID(0);

	
	DivisionList = QR.getDivision(QR.getSurveyID());
	DepartmentList = QR.getDepartment(QR.getSurveyID(),  QR.getDivisionID());
	groupList = QR.getGroup(QR.getSurveyID(), QR.getDivisionID(), QR.getDepartmentID());
	
}

if (request.getParameter("group")!=null)
{
	int id = Integer.parseInt(request.getParameter("group"));
	QR.setGroupID(id);

}

if (request.getParameter("round")!=null)
{
	int round = Integer.parseInt(request.getParameter("round"));
	QR.setRoundID(round);
}

if (request.getParameter("wave")!=null)
{
	int wave = Integer.parseInt(request.getParameter("wave"));
	QR.setWaveID(wave);
}


if (request.getParameter("rater")!=null)
{
	int id = Integer.parseInt(request.getParameter("rater"));
	QR.setRaterID(id);
	
}

if (request.getParameter("target")!=null){
	int tid = Integer.parseInt(request.getParameter("target"));
	QR.setTargetID(tid);
}

/*
* Change(s) : Modified codes in the preview IF condition. Added capturing of input variable chkAttachment and modifying the the calling method Email_Survey_Open_Participant_Option
* Reason(s) : To include 2 more parameter value, pkUser and isAttachment for facilitating in the option of including excel questionnaires as attachment when sending reminder or participant emails.
* Updated By: Sebastian
* Updated On: 27 July 2010
*/
if(request.getParameter("preview") != null)
{
	int SurveyID = Integer.parseInt(request.getParameter("preview"));
	int iReminder = 0;
	
	//Added new variable to determine if user check to include Excel Questionnaires as attachments, Sebastian 27 July 2010
	boolean iAttachment = false;
	
	if (request.getParameter("chkAttachment") != null)
	{
		iAttachment = true;
	}
	
	if(request.getParameter("chkReminder") != null)
		iReminder = 1;
	else
		iReminder = 0;
		
	//System.out.println("chkReminder = " + iReminder);
	//System.out.println("optSend = " + request.getParameter("optSend"));
	int errorFlag = 0;
	
				
	Vector recipients = new Vector();
		for(Object o : QR.getRater(QR.getSurveyID(), QR.getDivisionID(),QR.getDepartmentID(),QR.getGroupID(), QR.getTargetID(), QR.getRaterID())){
			votblAssignment vo = (votblAssignment)o;
			String[] info = User.getUserDetailWithRound(vo.getRaterLoginID(), 0);
			int raterRound = Integer.parseInt(info[14]);
			if(QR.getRoundID() == 0 || QR.getRoundID() == raterRound){
			recipients.add(o);
			}
		}

	
	
	
			//email.Sup_Nominate(SurveyID,iReminder);
			//Modified calling of method to include passing of 2 additional variable values, int pkUser and boolean isAttachment to facilitate in the functionality of including Excel Questionnaire as Attachment, Sebastian 27 July 2010
			int[] result = new int[2];//Edited by Lingtong; resutl[0] is the errorFlag, result[1] is the emailcount;
			int emailcount = 0;
			result = email.Email_Survey_Open_Participant_Option(SurveyID, "", recipients, iReminder, iAttachment, logchk.getPKUser()); // (int SurveyID, String date, int RaterID, int isReminder)
			errorFlag = result[0];
			emailcount = result[1];
			String reminder = iReminder==1 ? reminder ="(Reminder)": "";
			if (errorFlag == 0) {
				out.println(trans.tslt(emailcount +" Email(s) Sent") + "!");
			}
			else if (errorFlag == 1) {
            
    out.write(_jsp_string6, 0, _jsp_string6.length);
    out.print((reminder ));
    out.write(_jsp_string7, 0, _jsp_string7.length);
    			
			}else if(errorFlag == 2){
				out.println("No Rater to send or survey not open!");
			}
            else if(errorFlag == 3){            
					// Added error prompt for case when Survey is NOT Open, rater does not exist or rater has NO targets left to rate for the selected survey, Desmond 11 August 2010
					if (QR.getTargetID() == 0) 
					out.println("Rater(s) has NO targets left to rate for this survey!");
					if (QR.getTargetID() != 0)
					out.println("Rater(s) has finished survey for selected target!");
            }else if(errorFlag == 4){
            	    out.println("Selected survey is NOT opened!");
            }else if(errorFlag == 5){
            	    out.println("There is NO rater left under this condition!");
            }else if(errorFlag == -1){
            	    out.println("unknown error.");
            }
		 else if(errorFlag==100){
		
    out.write(_jsp_string8, 0, _jsp_string8.length);
    
	}
}
	}


    out.write(_jsp_string9, 0, _jsp_string9.length);
    out.print((trans.tslt("Organization")));
    out.write(_jsp_string10, 0, _jsp_string10.length);
    
	/*************************************************
	*The following was edited by clement at 9-jan-2007
	*************************************************/

// Added to check whether organisation is also a consulting company
// if yes, will display a dropdown list of organisation managed by this company
// else, it will display the current organisation only
// Mark Oei 09 Mar 2010
	String [] UserDetail = new String[14];
	UserDetail = CE_Survey.getUserDetail(logchk.getPKUser());
	boolean isConsulting = true;
	isConsulting = Org.isConsulting(UserDetail[10]); // check whether organisation is a consulting company 
	if (isConsulting){ 
    out.write(_jsp_string11, 0, _jsp_string11.length);
    out.print((trans.tslt("All")));
    out.write(_jsp_string12, 0, _jsp_string12.length);
    
		Vector vOrg = logchk.getOrgList(logchk.getCompany());

		for(int i=0; i<vOrg.size(); i++)
		{
			votblOrganization vo = (votblOrganization)vOrg.elementAt(i);
			int PKOrg = vo.getPKOrganization();
			String OrgName = vo.getOrganizationName();

			if(logchk.getOrg() == PKOrg)
			{ 
    out.write(_jsp_string13, 0, _jsp_string13.length);
    out.print((PKOrg));
    out.write(_jsp_string14, 0, _jsp_string14.length);
    out.print((OrgName));
    out.write(_jsp_string15, 0, _jsp_string15.length);
     } else { 
    out.write(_jsp_string13, 0, _jsp_string13.length);
    out.print((PKOrg));
    out.write('>');
    out.print((OrgName));
    out.write(_jsp_string15, 0, _jsp_string15.length);
    	}	
		} 
	} else { 
    out.write(_jsp_string16, 0, _jsp_string16.length);
    out.print((logchk.getSelfOrg()));
    out.write('>');
    out.print((UserDetail[10]));
    out.write(_jsp_string12, 0, _jsp_string12.length);
     } // End of isConsulting 
    out.write(_jsp_string17, 0, _jsp_string17.length);
    out.print((trans.tslt("Survey")));
    out.write(_jsp_string18, 0, _jsp_string18.length);
    
	int iSurveyID= QR.getSurveyID();
	/* if(request.getParameter("selSurvey") != null)
	{	
		//System.out.println("selSurvey = '" + request.getParameter("selSurvey") + "'");
		
		if (request.getParameter("selSurvey").equals(""))
			iSurveyID = 0;
		else
		{
			iSurveyID = Integer.parseInt(request.getParameter("selSurvey"));	
		}
	} */
	
	/*************************************************
	*The following was edited by clement at 9-jan-2007
	*************************************************/
	
	boolean anyRecord=false;
	
	/*
	String query ="SELECT * FROM tblSurvey a, tblOrganization b WHERE a.FKOrganization = b.PKOrganization "; 
	
	
	if(CE_Survey.get_survOrg() != 0)
		query = query+" AND a.FKOrganization = "+CE_Survey.get_survOrg();
	else
		query = query+"	AND a.FKCompanyID = "+logchk.getCompany();
	
	query += " AND (a.SurveyStatus = 1 OR a.SurveyStatus = 3 ) order by SurveyName";
	ResultSet rs_SurveyDetail = db.getRecord(query);	
	*/
	
	Vector v = CE_Survey.getSurveys(logchk.getCompany(), CE_Survey.get_survOrg());
	
	for(int i=0; i<v.size(); i++)
	{
		votblSurvey vo = (votblSurvey)v.get(i);

		anyRecord=true;
		int Surv_ID = vo.getSurveyID();
		String Surv_Name = vo.getSurveyName();
		
			if(iSurveyID!= 0 && iSurveyID== Surv_ID)
			{
    out.write(_jsp_string13, 0, _jsp_string13.length);
    out.print((Surv_ID));
    out.write(_jsp_string14, 0, _jsp_string14.length);
    out.print((Surv_Name));
    out.write(_jsp_string19, 0, _jsp_string19.length);
    	}else
			{
    out.write(_jsp_string13, 0, _jsp_string13.length);
    out.print((Surv_ID));
    out.write('>');
    out.print((Surv_Name));
    out.write(_jsp_string15, 0, _jsp_string15.length);
    	}
	}
    out.write(_jsp_string20, 0, _jsp_string20.length);
    out.print((trans.tslt("Division")));
    out.write(_jsp_string21, 0, _jsp_string21.length);
    out.print((t));
    out.write('>');
    out.print((trans.tslt("All")));
    out.write(_jsp_string22, 0, _jsp_string22.length);
      
								    
								    DivisionList = QR.getDivision(QR.getSurveyID());
									if (DivisionList != null) {
											/*********************
											 * Edit By James 14-Nov 2007
											 ***********************/

											//while(DivisionList.next()) {
											for (int k = 0; k < DivisionList.size(); k++) {
												voDivision voD = (voDivision) DivisionList.elementAt(k);

												int ID = voD.getPKDivision();
												String name = voD.getDivisionName();

												divID = QR.getDivisionID();
												if (divID != 0 && ID == divID) {
								
    out.write(_jsp_string23, 0, _jsp_string23.length);
    out.print((ID));
    out.write(_jsp_string14, 0, _jsp_string14.length);
    out.print((name));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
									} else {
								
    out.write(_jsp_string23, 0, _jsp_string23.length);
    out.print((ID));
    out.write('>');
    out.print((name));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
									}
											}
										}
											else {
								
							} 
    out.write(_jsp_string24, 0, _jsp_string24.length);
    out.print((trans.tslt("Department")));
    out.write(_jsp_string25, 0, _jsp_string25.length);
    out.print((t));
    out.write('>');
    out.print((trans.tslt("All")));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
								
								DepartmentList = QR.getDepartment(QR.getSurveyID(), QR.getDivisionID());
								
							
									if (DepartmentList != null) {

											/*********************
											 * Edit By James 14-Nov 2007
											 ***********************/

											//while(DepartmentList.next()) {
											for (int l = 0; l < DepartmentList.size(); l++) {
												voDepartment voDep = (voDepartment) DepartmentList
														.elementAt(l);

												int ID = voDep.getPKDepartment();
												String name = voDep.getDepartmentName();

												deptID = QR.getDepartmentID();
												if (deptID != 0 && ID == deptID) {
								
    out.write(_jsp_string23, 0, _jsp_string23.length);
    out.print((ID));
    out.write(_jsp_string14, 0, _jsp_string14.length);
    out.print((name));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
									} else {
								
    out.write(_jsp_string23, 0, _jsp_string23.length);
    out.print((ID));
    out.write('>');
    out.print((name));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
									}
											}
										}
								
    out.write(_jsp_string26, 0, _jsp_string26.length);
    out.print((trans.tslt("Group")));
    out.write(_jsp_string27, 0, _jsp_string27.length);
    out.print((t));
    out.write('>');
    out.print((trans.tslt("All")));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
								groupList = QR.getGroup(QR.getSurveyID(), QR.getDivisionID(), QR.getDepartmentID());
								
					/*
					*Liu Taichen 24 May 2012
					*remove the duplicated group names in the dropbox
					*/
					Vector<voGroup> shortList = new Vector<voGroup>();
					for(int i = 0; i < groupList.size(); i ++){
						voGroup voG = (voGroup) groupList.elementAt(i);
						Boolean duplicated = false;
						for(voGroup vo : shortList){
						if(voG.getGroupName().equals(vo.getGroupName())){
							duplicated = true;
						}
						}
						if(!duplicated){
							shortList.add(voG);
						}
					}
									if (groupList != null) {
											/*********************
											 * Edit By James 14-Nov 2007
											 ***********************/

											//while(groupList.next()) {
											for (int m = 0; m < shortList.size(); m++) {
												voGroup voG = (voGroup) shortList.elementAt(m);
												int ID = voG.getPKGroup();
												String name = voG.getGroupName();

												groupID = QR.getGroupID();
												if (groupID != 0 && ID == groupID) {
								
    out.write(_jsp_string23, 0, _jsp_string23.length);
    out.print((ID));
    out.write(_jsp_string14, 0, _jsp_string14.length);
    out.print((name));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
									} else {
								
    out.write(_jsp_string23, 0, _jsp_string23.length);
    out.print((ID));
    out.write('>');
    out.print((name));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
									}
											}
										}
								
    out.write(_jsp_string28, 0, _jsp_string28.length);
    
				/*
				 *Change(s): added a dropbox to select the round
				 *Reason(s): to enbale filtering of email recipients by round
				 *Updated By: Liu Taichen
				 *Updated On: 6/July/2012
				 */
				   
    out.write(_jsp_string29, 0, _jsp_string29.length);
    out.print((trans.tslt("Round")));
    out.write(_jsp_string30, 0, _jsp_string30.length);
    out.print((t));
    out.write('>');
    out.print((trans.tslt("All")));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
								int	surveyID = QR.getSurveyID();
								divID = QR.getDivisionID();
								int	departmentID = QR.getDepartmentID();
							    groupID = QR.getGroupID();
							    int roundID = QR.getRoundID();
							    Vector vRound = QR.getRound();//User.getRoundList(surveyID);
							    for(Object o : vRound){
							    	int round = (Integer)o;
							    	if(round == roundID){
							    		
    out.write(_jsp_string31, 0, _jsp_string31.length);
    out.print((round));
    out.write(_jsp_string32, 0, _jsp_string32.length);
    out.print((round));
    out.write(_jsp_string33, 0, _jsp_string33.length);
    
							    	}
							    	else{
							    		
    out.write(_jsp_string31, 0, _jsp_string31.length);
    out.print((round));
    out.write('>');
    out.print((round));
    out.write(_jsp_string34, 0, _jsp_string34.length);
    
							    	}
							    }
						
							
    out.write(_jsp_string35, 0, _jsp_string35.length);
    
				/*
				 *Change(s): added a new category as target
				 *Reason(s): to send email reminders based on seletion of target
				 *Updated By: Su Lingtong
				 *Updated On: 24 Aug 2012
				 */
				 
    out.write(_jsp_string36, 0, _jsp_string36.length);
    out.print((trans.tslt("Target")));
    out.write(_jsp_string37, 0, _jsp_string37.length);
    out.print((0));
    out.write('>');
    out.print((trans.tslt("All")));
    out.write(_jsp_string38, 0, _jsp_string38.length);
    
				            divID = QR.getDivisionID();							
						    groupID = QR.getGroupID();	
						    //for all departments
						        if (departmentID == 0){							    	
						    	if (groupID ==0){targetList = QR.getTarget(surveyID, divID, departmentID, groupID, 0);}
						    	else{	
						        Vector sameNameGroup = new Vector();
						        String currentGroupName = "";
						    //get the name of the current selected group
						    	for(int i = 0; i < groupList.size(); i ++){
									voGroup voG = (voGroup) groupList.elementAt(i);
								   if(voG.getPKGroup() == QR.getGroupID()){
									   currentGroupName = voG.getGroupName();
								   }
						    	} 
						    //get the groupIDs of all the groups with the same name as the current seleceted one
								for(int i = 0; i < groupList.size(); i ++){
									voGroup voG = (voGroup) groupList.elementAt(i);
									if(voG.getGroupName().equals(currentGroupName)){
										sameNameGroup.add(voG);
									}
								}
							//get the raters from the different groups
							targetList = new Vector();
							   for(int i = 0; i < sameNameGroup.size(); i++){
								   voGroup voG = (voGroup) sameNameGroup.elementAt(i);
								   for( Object o : QR.getTarget(surveyID, divID, departmentID, voG.getPKGroup(), 0)){
									   targetList.add(o);
								   }								  
							   }							 									
						    	} 
						    	}
						    //for single departments
						    else{
						    	
						    	targetList = QR.getTarget(surveyID, divID, departmentID, groupID, 0);
						    }
						    
						    //add in filtering for round
						    Vector vTarget = new Vector();
						    		for(Object o : targetList){
						    			vTarget.add(o);
						    		}
						    targetList = new Vector();
						    		if(vTarget != null){
						    			
						    			for (int l = 0; l < vTarget.size(); l++) {
											votblAssignment voTarget = (votblAssignment)vTarget.elementAt(l);                                               
											int ID = voTarget.getTargetLoginID();
											String[] sD = User.getUserDetailWithRound(ID, 0);
											int targetRound = Integer.parseInt(sD[14]);
											if(targetRound == QR.getRoundID() || QR.getRoundID() == 0){
												targetList.add(voTarget);
											}
						    		}		
						    		}
						    
					
								if (targetList  != null) {

										for (int l = 0; l < targetList.size(); l++) {
											votblAssignment voTarget = (votblAssignment)targetList.elementAt(l);     
											int ID = voTarget.getTargetLoginID();
											//String[] sD = User.getUserDetailWithRound(ID, 0);
											//int targetRound = Integer.parseInt(sD[14]);
											
											String name = voTarget.getFullName();											
											targetID = QR.getTargetID();
				
											if (targetID != 0 && ID == targetID) {
							
    out.write(_jsp_string39, 0, _jsp_string39.length);
    out.print((ID));
    out.write(_jsp_string14, 0, _jsp_string14.length);
    out.print((name));
    out.write(_jsp_string40, 0, _jsp_string40.length);
    
								} else {
							
    out.write(_jsp_string39, 0, _jsp_string39.length);
    out.print((ID));
    out.write('>');
    out.print((name));
    out.write(_jsp_string40, 0, _jsp_string40.length);
    
								}
										}
									}
							
    out.write(_jsp_string41, 0, _jsp_string41.length);
    out.print((trans.tslt("Wave")));
    out.write(_jsp_string42, 0, _jsp_string42.length);
    out.print((t));
    out.write('>');
    out.print((trans.tslt("All")));
    out.write(_jsp_string40, 0, _jsp_string40.length);
    

							Vector vWave = QR.getWave();
							int waveID = QR.getWaveID();
						    for(Object o : vWave){
						    	int wave = (Integer)o;
						    	
						    	if(wave == waveID){
						    		
    out.write(_jsp_string43, 0, _jsp_string43.length);
    out.print((wave));
    out.write(_jsp_string32, 0, _jsp_string32.length);
    out.print((wave));
    out.write(_jsp_string44, 0, _jsp_string44.length);
    
						    	}
						    	else{
						    		
    out.write(_jsp_string43, 0, _jsp_string43.length);
    out.print((wave));
    out.write('>');
    out.print((wave));
    out.write(_jsp_string45, 0, _jsp_string45.length);
    
						    	}
						    }
					
						
    out.write(_jsp_string46, 0, _jsp_string46.length);
    out.print((trans.tslt("Rater")));
    out.write(_jsp_string47, 0, _jsp_string47.length);
    out.print((0));
    out.write('>');
    out.print((trans.tslt("All")));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
								divID = QR.getDivisionID();							
							    groupID = QR.getGroupID();
							    roundID = QR.getRoundID();
							    targetID = QR.getTargetID();
							    waveID = QR.getWaveID();
							    //for all departments
							    if (departmentID == 0){							    	
							    	if (groupID ==0){raterList = QR.getRaterTar(surveyID, divID, departmentID, groupID, roundID, targetID, waveID);}
							    	else{	
									        Vector sameNameGroup = new Vector();
									        String currentGroupName = "";
									    //get the name of the current selected group
									    	for(int i = 0; i < groupList.size(); i ++){
												voGroup voG = (voGroup) groupList.elementAt(i);
											   if(voG.getPKGroup() == QR.getGroupID()){
												   currentGroupName = voG.getGroupName();
											   }
									    	} 
									    //get the groupIDs of all the groups with the same name as the current seleceted one
											for(int i = 0; i < groupList.size(); i ++){
												voGroup voG = (voGroup) groupList.elementAt(i);
												if(voG.getGroupName().equals(currentGroupName)){
													sameNameGroup.add(voG);
												}
											}
										//get the raters from the different groups
										raterList = new Vector();
										   for(int i = 0; i < sameNameGroup.size(); i++){
											   voGroup voG = (voGroup) sameNameGroup.elementAt(i);
											   for( Object o : QR.getRaterTar(surveyID, divID, departmentID, voG.getPKGroup(), roundID, targetID, waveID)){
												   raterList.add(o);
											   }								  
										   }							 									
							    	} 
							    	}
							    //for single departments
							    else{
							    	
							    	raterList = QR.getRaterTar(surveyID, divID, departmentID, groupID, roundID, targetID, waveID);
							    }
							    
							    //if (targetID != 0) {raterList = QR.getRater(surveyID, groupID, targetID);}
							    
							    //add in filtering for round
							   /* Vector vRater = new Vector();
							    		for(Object o : raterList){
							    			vRater.add(o);
							    		}
							    raterList = new Vector();
							    		if(vRater != null){
							    			
							    			for (int l = 0; l < vRater.size(); l++) {
												votblAssignment voRater = (votblAssignment)vRater.elementAt(l);                                               
												int ID = voRater.getRaterLoginID();
												String[] sD = User.getUserDetailWithRound(ID, 0);
												int raterRound = Integer.parseInt(sD[14]);
												if(raterRound == QR.getRoundID() || QR.getRoundID() == 0){!!
													raterList.add(voRater);
												}
							    		}		
							    		}*/
							    
						
									if (raterList != null) {

											for (int l = 0; l < raterList.size(); l++) {
												votblAssignment voRater = (votblAssignment)raterList.elementAt(l);                                               
												int ID = voRater.getRaterLoginID();
												//String[] sD = User.getUserDetailWithRound(ID, 0);
												//int raterRound = Integer.parseInt(sD[14]);
												
												String name = voRater.getFullName();											
												raterID = QR.getRaterID();
					
												if (raterID != 0 && ID == raterID) {
								
    out.write(_jsp_string23, 0, _jsp_string23.length);
    out.print((ID));
    out.write(_jsp_string14, 0, _jsp_string14.length);
    out.print((name));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
									} else {
								
    out.write(_jsp_string23, 0, _jsp_string23.length);
    out.print((ID));
    out.write('>');
    out.print((name));
    out.write(_jsp_string22, 0, _jsp_string22.length);
    
									}
											}
										}
								
    out.write(_jsp_string48, 0, _jsp_string48.length);
     if(request.getParameter("chkReminder") != null) 
		{	System.out.println("Setting chkReminder to checked");
			
		
    out.write(_jsp_string49, 0, _jsp_string49.length);
    
		} 
		else 
		{ 
			
    out.write(_jsp_string50, 0, _jsp_string50.length);
    }
    out.write(_jsp_string51, 0, _jsp_string51.length);
    
		/*
		 * Change(s) : Shifted "Include Excel Questionnaire as Attachment" option to between "Is Reminder Emails" and 
		 * 				"Send Participants Emails to all Raters" options
		 * Reason(s) : Confusing for user if "Include Excel Questionnaire as Attachment" option is placed all the way at the bottom
		 * Previous : Added new checkbox input to allow user to have the option to include excel questionnaires as attachment, Sebastian 27 July 2010 
		 * Updated By: Desmond
		 * Updated On: 11 Aug 2010
		 */
		
    out.write(_jsp_string52, 0, _jsp_string52.length);
     if(request.getParameter("chkAttachment") != null) 
				{
					
				
    out.write(_jsp_string53, 0, _jsp_string53.length);
    
				} 
				else 
				{ 
					
    out.write(_jsp_string54, 0, _jsp_string54.length);
    }
    out.write(_jsp_string55, 0, _jsp_string55.length);
     
		/*
	 * Change(s) :Commented off to remove the radio buttons
	 * Reason(s) :The selection of emailing recipients is impelmented as dropboxes
	 * Updated By: Liu Taichen
	 * Updated On: 25 May 2012
	 */
	 
    out.write(_jsp_string56, 0, _jsp_string56.length);
    
   if(QR.getSurveyID() != 0){
	   enableBtnPreview = true;
   }
   
   if(anyRecord)
   	{
    out.write(_jsp_string2, 0, _jsp_string2.length);
     if((logchk.getCompany() != 2 || logchk.getUserType() == 1)&& enableBtnPreview) {//Added by ping yang on 30/7/08 to disable 'Preview" button when no supervisor

    out.write(_jsp_string57, 0, _jsp_string57.length);
     } else {

    out.write(_jsp_string58, 0, _jsp_string58.length);
    
} 
    out.write(_jsp_string59, 0, _jsp_string59.length);
    	}
    out.write(_jsp_string60, 0, _jsp_string60.length);
    		
    out.write(_jsp_string61, 0, _jsp_string61.length);
    // by lydia Date 05/09/2008 Fix jsp file to support Thai language 
    out.write(_jsp_string62, 0, _jsp_string62.length);
    
	Calendar c = Calendar.getInstance();
	int year = c.get(Calendar.YEAR);
<<<<<<< .mine

    out.write(_jsp_string63, 0, _jsp_string63.length);
     // Denise 05/01/2010 update new email address 
    out.write(_jsp_string64, 0, _jsp_string64.length);
    out.print((year));
    out.write(_jsp_string65, 0, _jsp_string65.length);
  }

  private com.caucho.make.DependencyContainer _caucho_depends
    = new com.caucho.make.DependencyContainer();

  public java.util.ArrayList<com.caucho.vfs.Dependency> _caucho_getDependList()
  {
    return _caucho_depends.getDependencies();
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    _caucho_depends.add(depend);
  }

  protected void _caucho_setNeverModified(boolean isNotModified)
  {
    _caucho_isNotModified = true;
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;

    if (_caucho_isNotModified)
      return false;

    if (com.caucho.server.util.CauchoSystem.getVersionId() != -7791540776389363938L)
      return true;

    return _caucho_depends.isModified();
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
    TagState tagState;
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("SendPartEmail.jsp"), -6857870595701014463L, false);
    _caucho_depends.add(depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("Footer.jsp"), -3074380813858324039L, false);
    _caucho_depends.add(depend);
  }

  final static class TagState {

    void release()
    {
    }
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void caucho_init(ServletConfig config)
  {
    try {
      com.caucho.server.webapp.WebApp webApp
        = (com.caucho.server.webapp.WebApp) config.getServletContext();
      init(config);
      if (com.caucho.jsp.JspManager.getCheckInterval() >= 0)
        _caucho_depends.setCheckInterval(com.caucho.jsp.JspManager.getCheckInterval());
      _jsp_pageManager = webApp.getJspApplicationContext().getPageManager();
      com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
      com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.InitPageContextImpl(webApp, this);
    } catch (Exception e) {
      throw com.caucho.config.ConfigException.create(e);
    }
  }

  private final static char []_jsp_string55;
  private final static char []_jsp_string41;
  private final static char []_jsp_string4;
  private final static char []_jsp_string46;
  private final static char []_jsp_string32;
  private final static char []_jsp_string42;
  private final static char []_jsp_string43;
  private final static char []_jsp_string44;
  private final static char []_jsp_string39;
  private final static char []_jsp_string49;
  private final static char []_jsp_string28;
  private final static char []_jsp_string30;
  private final static char []_jsp_string0;
  private final static char []_jsp_string10;
  private final static char []_jsp_string20;
  private final static char []_jsp_string15;
  private final static char []_jsp_string53;
  private final static char []_jsp_string11;
  private final static char []_jsp_string8;
  private final static char []_jsp_string33;
  private final static char []_jsp_string45;
  private final static char []_jsp_string40;
  private final static char []_jsp_string16;
  private final static char []_jsp_string6;
  private final static char []_jsp_string34;
  private final static char []_jsp_string12;
  private final static char []_jsp_string54;
  private final static char []_jsp_string52;
  private final static char []_jsp_string9;
  private final static char []_jsp_string50;
  private final static char []_jsp_string58;
  private final static char []_jsp_string13;
  private final static char []_jsp_string14;
  private final static char []_jsp_string56;
  private final static char []_jsp_string59;
  private final static char []_jsp_string51;
  private final static char []_jsp_string26;
  private final static char []_jsp_string37;
  private final static char []_jsp_string22;
  private final static char []_jsp_string47;
  private final static char []_jsp_string19;
  private final static char []_jsp_string21;
  private final static char []_jsp_string17;
  private final static char []_jsp_string36;
  private final static char []_jsp_string18;
  private final static char []_jsp_string27;
  private final static char []_jsp_string2;
  private final static char []_jsp_string48;
  private final static char []_jsp_string38;
  private final static char []_jsp_string23;
  private final static char []_jsp_string5;
  private final static char []_jsp_string1;
  private final static char []_jsp_string35;
  private final static char []_jsp_string31;
  private final static char []_jsp_string25;
  private final static char []_jsp_string7;
  private final static char []_jsp_string60;
  private final static char []_jsp_string3;
  private final static char []_jsp_string29;
  private final static char []_jsp_string57;
  private final static char []_jsp_string24;
  static {
    _jsp_string55 = "		\r\n		</td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"116\" align=\"center\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: solid; border-bottom-width: 1px\">&nbsp; </td>\r\n		<td width=\"228\" align=\"center\" style=\"border-left-style: none; border-left-width: medium; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: solid; border-bottom-width: 1px\">&nbsp; </td>\r\n		<td width=\"155\" align=\"center\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: solid; border-bottom-width: 1px\">&nbsp; </td>\r\n	</tr>\r\n</table>\r\n</form>\r\n".toCharArray();
    _jsp_string41 = "\r\n						\r\n				</select>\r\n				</td>\r\n			</tr>\r\n				\r\n				\r\n				<tr>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr> \r\n			<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string4 = "\r\n</head>\r\n<SCRIPT LANGUAGE=\"JavaScript\">\r\nfunction proceed(form,field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?proceed=\"+field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\nfunction updateCboSup(form)\r\n{\r\n	form.action=\"SendPartEmail.jsp\";\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\nfunction populateDivision(form,ID)\r\n{\r\n	form.action=\"SendPartEmail.jsp?surveyID=\" + ID;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}	\r\n\r\nfunction populateDept(form,field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?div=\"+field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}	\r\n\r\nfunction populateGrp(form,field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?dept=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\nfunction populateRater(form, field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?group=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n	}\r\n	\r\nfunction populateTarget(form, field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?target=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n	}\r\n	\r\nfunction setRound(form, field){\r\n	form.action=\"SendPartEmail.jsp?round=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}	\r\nfunction selectRater(form,field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?rater=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\n/*\r\n * Change(s) :Deleted the check on the radio buttons as they do not exist any more\r\n * Reason(s) : The radio buttons are deleted therfore the check is obsolete.\r\n * Updated By: Liu Taichen\r\n * Updated On: 25 May 2012\r\n */\r\nfunction preview(form, field)\r\n{\r\n	if(field.value != 0) {\r\n			\r\n			form.action=\"SendPartEmail.jsp?preview=\" + field.value;\r\n			form.method=\"post\";\r\n			form.submit();	\r\n	\r\n	} else {\r\n		alert(\"Please select Survey\");\r\n	}\r\n}\r\n</script>\r\n\r\n\r\n\r\n<body>\r\n".toCharArray();
    _jsp_string46 = "\r\n		\r\n		&nbsp;</font></b></td>\r\n		<td width=\"851\" height=\"25\" colspan=\"2\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> \r\n   \r\n    	<b><font face=\"Arial\" size=\"2\">Is Reminder Emails</font></b></td>\r\n		</tr>\r\n		".toCharArray();
    _jsp_string32 = " selected>  ".toCharArray();
    _jsp_string42 = "\r\n						:</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\"><select name=\"rater\"\r\n						onChange=\"selectRater(this.form,this.form.rater)\">\r\n							<option value=".toCharArray();
    _jsp_string43 = "\r\n							\r\n					</select>\r\n					</td>\r\n				</tr>\r\n		<tr>\r\n		<td width=\"117\" align=\"center\" height=\"25\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"851\" height=\"25\" colspan=\"2\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\">&nbsp; </td>\r\n		</tr>\r\n		<tr>\r\n		<td width=\"117\" align=\"center\" height=\"25\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\">\r\n		<b><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string44 = "\r\n			<input type=\"checkbox\" name=\"chkReminder\" value=\"1\" checked>\r\n		".toCharArray();
    _jsp_string39 = "\r\n						\r\n						<option value=".toCharArray();
    _jsp_string49 = "\r\n					\r\n					<input type=\"checkbox\" name=\"chkAttachment\" value=\"0\">\r\n				".toCharArray();
    _jsp_string28 = "\r\n							\r\n					</select>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr>\r\n				\r\n				".toCharArray();
    _jsp_string30 = "\r\n						:</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\"><select name=\"round\"\r\n						onChange=\"setRound(this.form, this.form.round)\">\r\n							<option value=".toCharArray();
    _jsp_string0 = "\r\n   \r\n".toCharArray();
    _jsp_string10 = ": </td>\r\n		  <td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n		<td width=\"228\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"left\">			\r\n\r\n".toCharArray();
    _jsp_string20 = "\r\n</select></td>\r\n	</tr>\r\n	<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr>\r\n				<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string15 = "</option>\r\n			".toCharArray();
    _jsp_string53 = "	\r\n		<input type=\"button\" value=\"Send Emails\" name=\"btnPreview\" onClick=\"preview(this.form, this.form.selSurvey)\" style=\"float: left\" disabled>\r\n".toCharArray();
    _jsp_string11 = "\r\n		<select size=\"1\" name=\"selOrg\" onchange=\"proceed(this.form,this.form.selOrg)\">\r\n		<option value=\"0\" selected>".toCharArray();
    _jsp_string8 = "Email sent! But error(s) occurred. Please refer to <a href='SentFailedEmail.jsp'>View Sent Failed Emails</a>".toCharArray();
    _jsp_string33 = "							    		\r\n							    		".toCharArray();
    _jsp_string45 = "\r\n			\r\n			<input type=\"checkbox\" name=\"chkReminder\" value=\"0\">\r\n		".toCharArray();
    _jsp_string40 = "\r\n							".toCharArray();
    _jsp_string16 = "\r\n		<select size=\"1\" name=\"selOrg\" onchange=\"proceed(this.form,this.form.selOrg)\">\r\n		<option value=".toCharArray();
    _jsp_string6 = " <script>alert('You need to create a participant notification template ".toCharArray();
    _jsp_string34 = "\r\n							    		".toCharArray();
    _jsp_string12 = "</option>\r\n	".toCharArray();
    _jsp_string54 = "		\r\n".toCharArray();
    _jsp_string52 = "	\r\n		<input type=\"button\" value=\"Send Emails\" name=\"btnPreview\" onClick=\"preview(this.form, this.form.selSurvey)\" style=\"float: left\">\r\n".toCharArray();
    _jsp_string9 = "\r\n<form name=\"SendPartEmail\" action=\"SendPartEmail.jsp\" method=\"post\">\r\n<table border=\"0\" width=\"483\" cellspacing=\"0\" cellpadding=\"0\">\r\n	<tr>\r\n		<td><b>\r\n		<font face=\"Arial\" size=\"2\" color=\"#000080\">Send Participants Emails</font></b></td>\r\n	</tr>\r\n	<tr>\r\n		<td>&nbsp;</td>\r\n	</tr>\r\n</table>\r\n<table border=\"2\" width=\"483\" cellspacing=\"0\" cellpadding=\"0\" bgcolor=\"#FFFFCC\" bordercolor=\"#3399FF\">\r\n		<tr>\r\n		<td width=\"117\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: solid; border-top-width: 1px; border-bottom-style: none; border-bottom-width: medium\">&nbsp;</td>\r\n		<td width=\"228\" style=\"border-left-style: none; border-left-width: medium; border-right-style: none; border-right-width: medium; border-top-style: solid; border-top-width: 1px; border-bottom-style: none; border-bottom-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"154\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: solid; border-top-width: 1px; border-bottom-style: none; border-bottom-width: medium\">&nbsp; </td>\r\n	</tr>\r\n		<tr>\r\n		<td style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium ; align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string50 = "\r\n				\r\n				&nbsp;</font></b>\r\n			</td>\r\n			<td width=\"851\" height=\"25\" colspan=\"2\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> \r\n				<b><font face=\"Arial\" size=\"2\">Include Excel Questionnaire as Attachment</font></b>\r\n	    	</td>\r\n		</tr>\r\n			".toCharArray();
    _jsp_string58 = "\r\n<script src=\"lib/js/bootstrap-button.js\"></script>\r\n<table border=\"0\" width=\"610\" height=\"26\" id=\"table1\">\r\n\r\n	<tr>\r\n		<font size=\"2\" face=\"Arial\" style=\"font-size: 14pt\" color=\"#000080\">\r\n		".toCharArray();
    _jsp_string13 = "\r\n				<option value=".toCharArray();
    _jsp_string14 = " selected>".toCharArray();
    _jsp_string56 = "\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string59 = "\r\n		<td align=\"center\" height=\"5\" valign=\"top\"><font size=\"1\" color=\"navy\" face=\"Arial\">&nbsp;&nbsp;<a style=\"TEXT-DECORATION: none; color:navy;\" href=\"Login.jsp\">Home</a>&nbsp;| <a color=\"navy\" face=\"Arial\">&nbsp;<a style=\"TEXT-DECORATION: none; color:navy;\" href=\"mailto:3SixtyAdmin@pcc.com.sg?subject=Regarding:\">Contact \r\n		Us</a><a color=\"navy\" face=\"Arial\" href=\"termofuse.jsp\" target=\"_blank\"><span style=\"color: #000080; text-decoration: none\"> | Terms of Use </span></a>| <span style=\"color: #000080; text-decoration: none\"><a style=\"TEXT-DECORATION: none; color:navy;\" href=\"http://www.pcc.com.sg/\" target=\"_blank\">PCC Website</a></span></font></td></tr><tr>\r\n		<font size=\"2\" face=\"Arial\" style=\"font-size: 14pt\" color=\"#000080\">\r\n   \r\n		<td align=\"center\" height=\"5\" valign=\"top\">\r\n		<font size=\"1\" color=\"navy\" face=\"Arial\">&nbsp;Copyright &copy; ".toCharArray();
    _jsp_string51 = "\r\n\r\n	<tr>\r\n		<td width=\"967\" align=\"center\" colspan=\"3\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\">&nbsp;\r\n		</td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"116\" align=\"center\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> <font size=\"2\">\r\n   \r\n		<p align=\"right\">\r\n		</td>\r\n		<td width=\"228\" align=\"center\" style=\"border-style: none; border-width: medium\"> <font size=\"2\">\r\n   \r\n		<p align=\"left\"> </td>\r\n		<td width=\"155\" align=\"center\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> <font size=\"2\">\r\n   ".toCharArray();
    _jsp_string26 = "\r\n							\r\n					</select>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr>\r\n				\r\n				<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string37 = "\r\n		           :</td>\r\n		       <td bordercolor = \"#FFFFCC\">&nbsp;</td>\r\n		       <td bordercolor=\"#FFFFCC\"><select name=\"target\"\r\n						onChange=\"selectRater(this.form,this.form.target)\">\r\n				         <option value=".toCharArray();
    _jsp_string22 = "\r\n								".toCharArray();
    _jsp_string47 = "\r\n		<tr>\r\n			<td width=\"117\" align=\"center\" height=\"25\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\">\r\n				<b><font face=\"Arial\" size=\"2\">\r\n				".toCharArray();
    _jsp_string19 = "</option>	\r\n		".toCharArray();
    _jsp_string21 = "\r\n						:</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\"><select name=\"division\"\r\n						onChange=\"populateDept(this.form, this.form.division)\">\r\n						\r\n							<option value=".toCharArray();
    _jsp_string17 = "\r\n</select><font size=\"2\"> </font>\r\n</td>\r\n		<td width=\"154\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> </td>\r\n	</tr>\r\n	<tr>\r\n		<td align=\"right\" bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n	</tr>\r\n	<tr>\r\n		\r\n		 <td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string36 = "\r\n		    <tr> \r\n		       <td align=\"right\" bordercolor = \"#FFFFCC\">".toCharArray();
    _jsp_string18 = ": </td>\r\n		    <td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n		<td width=\"851\" height=\"25\" colspan=\"2\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> <font size=\"2\">\r\n   \r\n    	<select size=\"1\" name=\"selSurvey\" onChange=\"populateDivision(this.form,this.form.selSurvey.options[selSurvey.selectedIndex].value)\">\r\n    	<option selected value=''>Please select a survey</option>\r\n".toCharArray();
    _jsp_string27 = "\r\n						:</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\"><select name=\"groupName\"\r\n						onChange=\"populateRater(this.form, this.form.groupName)\">\r\n							<option value=".toCharArray();
    _jsp_string2 = "\r\n".toCharArray();
    _jsp_string48 = "\r\n					<input type=\"checkbox\" name=\"chkAttachment\" value=\"1\" checked>\r\n				".toCharArray();
    _jsp_string38 = "\r\n				         \r\n				         ".toCharArray();
    _jsp_string23 = "\r\n							\r\n							<option value=".toCharArray();
    _jsp_string5 = " <font size=\"2\">\r\n   \r\n	<script>\r\n	parent.location.href = \"index.jsp\";\r\n	</script>\r\n".toCharArray();
    _jsp_string1 = "                   \r\n".toCharArray();
    _jsp_string35 = "\r\n							\r\n					</select>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr>\r\n				\r\n		   				\r\n				".toCharArray();
    _jsp_string31 = "\r\n							    		<option value=".toCharArray();
    _jsp_string25 = "\r\n						:</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\"><select name=\"department\"\r\n						onChange=\"populateGrp(this.form,this.form.department)\">\r\n							<option value=".toCharArray();
    _jsp_string7 = " before sending ')</script>  ".toCharArray();
    _jsp_string60 = " Pacific Century Consulting Pte Ltd. All Rights Reserved.\r\n		</font>\r\n		</td>\r\n		\r\n	</tr>\r\n		\r\n</table>\r\n\r\n\r\n</body>\r\n</html>".toCharArray();
    _jsp_string3 = "\r\n\r\n<html>\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html\">\r\n\r\n".toCharArray();
    _jsp_string29 = "\r\n				\r\n				<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string57 = "\r\n\r\n".toCharArray();
    _jsp_string24 = "\r\n					</select>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr>\r\n				<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
  }
}
=======

    out.write(_jsp_string58, 0, _jsp_string58.length);
     // Denise 05/01/2010 update new email address 
    out.write(_jsp_string59, 0, _jsp_string59.length);
    out.print((year));
    out.write(_jsp_string60, 0, _jsp_string60.length);
  }

  private com.caucho.make.DependencyContainer _caucho_depends
    = new com.caucho.make.DependencyContainer();

  public java.util.ArrayList<com.caucho.vfs.Dependency> _caucho_getDependList()
  {
    return _caucho_depends.getDependencies();
  }

  public void _caucho_addDepend(com.caucho.vfs.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    _caucho_depends.add(depend);
  }

  protected void _caucho_setNeverModified(boolean isNotModified)
  {
    _caucho_isNotModified = true;
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;

    if (_caucho_isNotModified)
      return false;

    if (com.caucho.server.util.CauchoSystem.getVersionId() != -7791540776389363938L)
      return true;

    return _caucho_depends.isModified();
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
    TagState tagState;
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.server.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("SendPartEmail.jsp"), 4615824945760036028L, false);
    _caucho_depends.add(depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("Footer.jsp"), -6500873733011061252L, false);
    _caucho_depends.add(depend);
  }

  final static class TagState {

    void release()
    {
    }
  }

  public java.util.HashMap<String,java.lang.reflect.Method> _caucho_getFunctionMap()
  {
    return _jsp_functionMap;
  }

  public void caucho_init(ServletConfig config)
  {
    try {
      com.caucho.server.webapp.WebApp webApp
        = (com.caucho.server.webapp.WebApp) config.getServletContext();
      init(config);
      if (com.caucho.jsp.JspManager.getCheckInterval() >= 0)
        _caucho_depends.setCheckInterval(com.caucho.jsp.JspManager.getCheckInterval());
      _jsp_pageManager = webApp.getJspApplicationContext().getPageManager();
      com.caucho.jsp.TaglibManager manager = webApp.getJspApplicationContext().getTaglibManager();
      com.caucho.jsp.PageContextImpl pageContext = new com.caucho.jsp.InitPageContextImpl(webApp, this);
    } catch (Exception e) {
      throw com.caucho.config.ConfigException.create(e);
    }
  }

  private final static char []_jsp_string60;
  private final static char []_jsp_string43;
  private final static char []_jsp_string51;
  private final static char []_jsp_string32;
  private final static char []_jsp_string47;
  private final static char []_jsp_string48;
  private final static char []_jsp_string49;
  private final static char []_jsp_string39;
  private final static char []_jsp_string41;
  private final static char []_jsp_string54;
  private final static char []_jsp_string28;
  private final static char []_jsp_string30;
  private final static char []_jsp_string0;
  private final static char []_jsp_string10;
  private final static char []_jsp_string20;
  private final static char []_jsp_string15;
  private final static char []_jsp_string58;
  private final static char []_jsp_string11;
  private final static char []_jsp_string8;
  private final static char []_jsp_string33;
  private final static char []_jsp_string50;
  private final static char []_jsp_string40;
  private final static char []_jsp_string16;
  private final static char []_jsp_string4;
  private final static char []_jsp_string6;
  private final static char []_jsp_string34;
  private final static char []_jsp_string45;
  private final static char []_jsp_string12;
  private final static char []_jsp_string59;
  private final static char []_jsp_string57;
  private final static char []_jsp_string9;
  private final static char []_jsp_string55;
  private final static char []_jsp_string13;
  private final static char []_jsp_string14;
  private final static char []_jsp_string61;
  private final static char []_jsp_string46;
  private final static char []_jsp_string64;
  private final static char []_jsp_string56;
  private final static char []_jsp_string26;
  private final static char []_jsp_string37;
  private final static char []_jsp_string22;
  private final static char []_jsp_string52;
  private final static char []_jsp_string19;
  private final static char []_jsp_string21;
  private final static char []_jsp_string63;
  private final static char []_jsp_string17;
  private final static char []_jsp_string36;
  private final static char []_jsp_string18;
  private final static char []_jsp_string27;
  private final static char []_jsp_string2;
  private final static char []_jsp_string53;
  private final static char []_jsp_string38;
  private final static char []_jsp_string23;
  private final static char []_jsp_string5;
  private final static char []_jsp_string1;
  private final static char []_jsp_string31;
  private final static char []_jsp_string25;
  private final static char []_jsp_string7;
  private final static char []_jsp_string35;
  private final static char []_jsp_string42;
  private final static char []_jsp_string44;
  private final static char []_jsp_string65;
  private final static char []_jsp_string3;
  private final static char []_jsp_string29;
  private final static char []_jsp_string62;
  private final static char []_jsp_string24;
  static {
    _jsp_string60 = "		\r\n		</td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"116\" align=\"center\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: solid; border-bottom-width: 1px\">&nbsp; </td>\r\n		<td width=\"228\" align=\"center\" style=\"border-left-style: none; border-left-width: medium; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: solid; border-bottom-width: 1px\">&nbsp; </td>\r\n		<td width=\"155\" align=\"center\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: solid; border-bottom-width: 1px\">&nbsp; </td>\r\n	</tr>\r\n</table>\r\n</form>\r\n".toCharArray();
    _jsp_string43 = "\r\n						    		<option value=".toCharArray();
    _jsp_string51 = "\r\n		\r\n		&nbsp;</font></b></td>\r\n		<td width=\"851\" height=\"25\" colspan=\"2\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> \r\n   \r\n    	<b><font face=\"Arial\" size=\"2\">Is Reminder Emails</font></b></td>\r\n		</tr>\r\n		".toCharArray();
    _jsp_string32 = " selected>  ".toCharArray();
    _jsp_string47 = "\r\n						:</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\"><select name=\"rater\"\r\n						onChange=\"selectRater(this.form,this.form.rater)\">\r\n							<option value=".toCharArray();
    _jsp_string48 = "\r\n							\r\n					</select>\r\n					</td>\r\n				</tr>\r\n		<tr>\r\n		<td width=\"117\" align=\"center\" height=\"25\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"851\" height=\"25\" colspan=\"2\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\">&nbsp; </td>\r\n		</tr>\r\n		<tr>\r\n		<td width=\"117\" align=\"center\" height=\"25\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\">\r\n		<b><font face=\"Arial\" size=\"2\">\r\n		".toCharArray();
    _jsp_string49 = "\r\n			<input type=\"checkbox\" name=\"chkReminder\" value=\"1\" checked>\r\n		".toCharArray();
    _jsp_string39 = "\r\n						\r\n						<option value=".toCharArray();
    _jsp_string41 = "\r\n						\r\n				</select>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n			</tr> \r\n			<tr>\r\n				<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string54 = "\r\n					\r\n					<input type=\"checkbox\" name=\"chkAttachment\" value=\"0\">\r\n				".toCharArray();
    _jsp_string28 = "\r\n							\r\n					</select>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr>\r\n				\r\n				".toCharArray();
    _jsp_string30 = "\r\n						:</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\"><select name=\"round\"\r\n						onChange=\"setRound(this.form, this.form.round)\">\r\n							<option value=".toCharArray();
    _jsp_string0 = "\r\n   \r\n".toCharArray();
    _jsp_string10 = ": </td>\r\n		  <td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n		<td width=\"228\" style=\"border-style: none; border-width: medium\">\r\n		<p align=\"left\">			\r\n\r\n".toCharArray();
    _jsp_string20 = "\r\n</select></td>\r\n	</tr>\r\n	<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr>\r\n				<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string15 = "</option>\r\n			".toCharArray();
    _jsp_string58 = "	\r\n		<input type=\"button\" value=\"Send Emails\" name=\"btnPreview\" onClick=\"preview(this.form, this.form.selSurvey)\" style=\"float: left\" disabled>\r\n".toCharArray();
    _jsp_string11 = "\r\n		<select size=\"1\" name=\"selOrg\" onchange=\"proceed(this.form,this.form.selOrg)\">\r\n		<option value=\"0\" selected>".toCharArray();
    _jsp_string8 = "Email sent! But error(s) occurred. Please refer to <a href='SentFailedEmail.jsp'>View Sent Failed Emails</a>".toCharArray();
    _jsp_string33 = "							    		\r\n							    		".toCharArray();
    _jsp_string50 = "\r\n			\r\n			<input type=\"checkbox\" name=\"chkReminder\" value=\"0\">\r\n		".toCharArray();
    _jsp_string40 = "\r\n							".toCharArray();
    _jsp_string16 = "\r\n		<select size=\"1\" name=\"selOrg\" onchange=\"proceed(this.form,this.form.selOrg)\">\r\n		<option value=".toCharArray();
    _jsp_string4 = "\r\n</head>\r\n<SCRIPT LANGUAGE=\"JavaScript\">\r\nfunction proceed(form,field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?proceed=\"+field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\nfunction updateCboSup(form)\r\n{\r\n	form.action=\"SendPartEmail.jsp\";\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\nfunction populateDivision(form,ID)\r\n{\r\n	form.action=\"SendPartEmail.jsp?surveyID=\" + ID;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}	\r\n\r\nfunction populateDept(form,field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?div=\"+field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}	\r\n\r\nfunction populateGrp(form,field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?dept=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\nfunction populateRater(form, field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?group=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n	}\r\n	\r\nfunction populateTarget(form, field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?target=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n	}\r\n	\r\nfunction setRound(form, field){\r\n	form.action=\"SendPartEmail.jsp?round=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}	\r\nfunction selectRater(form,field)\r\n{\r\n	form.action=\"SendPartEmail.jsp?rater=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\nfunction selectWave(form, field){\r\n	form.action=\"SendPartEmail.jsp?wave=\" + field.value;\r\n	form.method=\"post\";\r\n	form.submit();\r\n}\r\n\r\n/*\r\n * Change(s) :Deleted the check on the radio buttons as they do not exist any more\r\n * Reason(s) : The radio buttons are deleted therfore the check is obsolete.\r\n * Updated By: Liu Taichen\r\n * Updated On: 25 May 2012\r\n */\r\nfunction preview(form, field)\r\n{\r\n	if(field.value != 0) {\r\n			\r\n			form.action=\"SendPartEmail.jsp?preview=\" + field.value;\r\n			form.method=\"post\";\r\n			form.submit();	\r\n	\r\n	} else {\r\n		alert(\"Please select Survey\");\r\n	}\r\n}\r\n</script>\r\n\r\n\r\n\r\n<body>\r\n".toCharArray();
    _jsp_string6 = " <script>alert('You need to create a participant notification template ".toCharArray();
    _jsp_string34 = "\r\n							    		".toCharArray();
    _jsp_string45 = "\r\n						    		".toCharArray();
    _jsp_string12 = "</option>\r\n	".toCharArray();
    _jsp_string59 = "		\r\n".toCharArray();
    _jsp_string57 = "	\r\n		<input type=\"button\" value=\"Send Emails\" name=\"btnPreview\" onClick=\"preview(this.form, this.form.selSurvey)\" style=\"float: left\">\r\n".toCharArray();
    _jsp_string9 = "\r\n<form name=\"SendPartEmail\" action=\"SendPartEmail.jsp\" method=\"post\">\r\n<table border=\"0\" width=\"483\" cellspacing=\"0\" cellpadding=\"0\">\r\n	<tr>\r\n		<td><b>\r\n		<font face=\"Arial\" size=\"2\" color=\"#000080\">Send Participants Emails</font></b></td>\r\n	</tr>\r\n	<tr>\r\n		<td>&nbsp;</td>\r\n	</tr>\r\n</table>\r\n<table border=\"2\" width=\"483\" cellspacing=\"0\" cellpadding=\"0\" bgcolor=\"#FFFFCC\" bordercolor=\"#3399FF\">\r\n		<tr>\r\n		<td width=\"117\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: solid; border-top-width: 1px; border-bottom-style: none; border-bottom-width: medium\">&nbsp;</td>\r\n		<td width=\"228\" style=\"border-left-style: none; border-left-width: medium; border-right-style: none; border-right-width: medium; border-top-style: solid; border-top-width: 1px; border-bottom-style: none; border-bottom-width: medium\">&nbsp;\r\n		</td>\r\n		<td width=\"154\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: solid; border-top-width: 1px; border-bottom-style: none; border-bottom-width: medium\">&nbsp; </td>\r\n	</tr>\r\n		<tr>\r\n		<td style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium ; align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string55 = "\r\n				\r\n				&nbsp;</font></b>\r\n			</td>\r\n			<td width=\"851\" height=\"25\" colspan=\"2\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> \r\n				<b><font face=\"Arial\" size=\"2\">Include Excel Questionnaire as Attachment</font></b>\r\n	    	</td>\r\n		</tr>\r\n			".toCharArray();
    _jsp_string13 = "\r\n				<option value=".toCharArray();
    _jsp_string14 = " selected>".toCharArray();
    _jsp_string61 = "\r\n\r\n\r\n\r\n".toCharArray();
    _jsp_string46 = "\r\n						\r\n				</select>\r\n				</td>\r\n			</tr>\r\n	   		<tr>\r\n				<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n			</tr>\r\n			<tr>\r\n			\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string64 = "\r\n		<td align=\"center\" height=\"5\" valign=\"top\"><font size=\"1\" color=\"navy\" face=\"Arial\">&nbsp;&nbsp;<a style=\"TEXT-DECORATION: none; color:navy;\" href=\"Login.jsp\">Home</a>&nbsp;| <a color=\"navy\" face=\"Arial\">&nbsp;<a style=\"TEXT-DECORATION: none; color:navy;\" href=\"mailto:3SixtyAdmin@pcc.com.sg?subject=Regarding:\">Contact \r\n		Us</a><a color=\"navy\" face=\"Arial\" href=\"termofuse.jsp\" target=\"_blank\"><span style=\"color: #000080; text-decoration: none\"> | Terms of Use </span></a>| <span style=\"color: #000080; text-decoration: none\"><a style=\"TEXT-DECORATION: none; color:navy;\" href=\"http://www.pcc.com.sg/\" target=\"_blank\">PCC Website</a></span></font></td></tr><tr>\r\n		<font size=\"2\" face=\"Arial\" style=\"font-size: 14pt\" color=\"#000080\">\r\n   \r\n		<td align=\"center\" height=\"5\" valign=\"top\">\r\n		<font size=\"1\" color=\"navy\" face=\"Arial\">&nbsp;Copyright &copy; ".toCharArray();
    _jsp_string56 = "\r\n\r\n	<tr>\r\n		<td width=\"967\" align=\"center\" colspan=\"3\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\">&nbsp;\r\n		</td>\r\n	</tr>\r\n	<tr>\r\n		<td width=\"116\" align=\"center\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> <font size=\"2\">\r\n   \r\n		<p align=\"right\">\r\n		</td>\r\n		<td width=\"228\" align=\"center\" style=\"border-style: none; border-width: medium\"> <font size=\"2\">\r\n   \r\n		<p align=\"left\"> </td>\r\n		<td width=\"155\" align=\"center\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> <font size=\"2\">\r\n   ".toCharArray();
    _jsp_string26 = "\r\n							\r\n					</select>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr>\r\n				\r\n				<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string37 = "\r\n		           :</td>\r\n		       <td bordercolor = \"#FFFFCC\">&nbsp;</td>\r\n		       <td bordercolor=\"#FFFFCC\"><select name=\"target\"\r\n						onChange=\"selectRater(this.form,this.form.target)\">\r\n				         <option value=".toCharArray();
    _jsp_string22 = "\r\n								".toCharArray();
    _jsp_string52 = "\r\n		<tr>\r\n			<td width=\"117\" align=\"center\" height=\"25\" style=\"border-left-style: solid; border-left-width: 1px; border-right-style: none; border-right-width: medium; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\">\r\n				<b><font face=\"Arial\" size=\"2\">\r\n				".toCharArray();
    _jsp_string19 = "</option>	\r\n		".toCharArray();
    _jsp_string21 = "\r\n						:</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\"><select name=\"division\"\r\n						onChange=\"populateDept(this.form, this.form.division)\">\r\n						\r\n							<option value=".toCharArray();
    _jsp_string63 = "\r\n\r\n<table border=\"0\" width=\"610\" height=\"26\" id=\"table1\">\r\n\r\n	<tr>\r\n		<font size=\"2\" face=\"Arial\" style=\"font-size: 14pt\" color=\"#000080\">\r\n		".toCharArray();
    _jsp_string17 = "\r\n</select><font size=\"2\"> </font>\r\n</td>\r\n		<td width=\"154\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> </td>\r\n	</tr>\r\n	<tr>\r\n		<td align=\"right\" bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n	</tr>\r\n	<tr>\r\n		\r\n		 <td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string36 = "\r\n		    <tr> \r\n		       <td align=\"right\" bordercolor = \"#FFFFCC\">".toCharArray();
    _jsp_string18 = ": </td>\r\n		    <td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n		<td width=\"851\" height=\"25\" colspan=\"2\" style=\"border-left-style: none; border-left-width: medium; border-right-style: solid; border-right-width: 1px; border-top-style: none; border-top-width: medium; border-bottom-style: none; border-bottom-width: medium\"> <font size=\"2\">\r\n   \r\n    	<select size=\"1\" name=\"selSurvey\" onChange=\"populateDivision(this.form,this.form.selSurvey.options[selSurvey.selectedIndex].value)\">\r\n    	<option selected value=''>Please select a survey</option>\r\n".toCharArray();
    _jsp_string27 = "\r\n						:</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\"><select name=\"groupName\"\r\n						onChange=\"populateRater(this.form, this.form.groupName)\">\r\n							<option value=".toCharArray();
    _jsp_string2 = "\r\n".toCharArray();
    _jsp_string53 = "\r\n					<input type=\"checkbox\" name=\"chkAttachment\" value=\"1\" checked>\r\n				".toCharArray();
    _jsp_string38 = "\r\n				         \r\n				         ".toCharArray();
    _jsp_string23 = "\r\n							\r\n							<option value=".toCharArray();
    _jsp_string5 = " <font size=\"2\">\r\n   \r\n	<script>\r\n	parent.location.href = \"index.jsp\";\r\n	</script>\r\n".toCharArray();
    _jsp_string1 = "                   \r\n".toCharArray();
    _jsp_string31 = "\r\n							    		<option value=".toCharArray();
    _jsp_string25 = "\r\n						:</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\"><select name=\"department\"\r\n						onChange=\"populateGrp(this.form,this.form.department)\">\r\n							<option value=".toCharArray();
    _jsp_string7 = " before sending ')</script>  ".toCharArray();
    _jsp_string35 = "\r\n							\r\n					</select>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr>\r\n						\r\n				".toCharArray();
    _jsp_string42 = "\r\n					:</td>\r\n				<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				<td bordercolor=\"#FFFFCC\"><select name=\"wave\"\r\n					onChange=\"selectWave(this.form, this.form.wave)\">\r\n						<option value=".toCharArray();
    _jsp_string44 = "							    		\r\n						    		".toCharArray();
    _jsp_string65 = " Pacific Century Consulting Pte Ltd. All Rights Reserved.\r\n		</font>\r\n		</td>\r\n		\r\n	</tr>\r\n		\r\n</table>\r\n\r\n\r\n</body>\r\n</html>".toCharArray();
    _jsp_string3 = "\r\n\r\n<html>\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html\">\r\n\r\n".toCharArray();
    _jsp_string29 = "\r\n				\r\n				<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
    _jsp_string62 = "\r\n\r\n".toCharArray();
    _jsp_string24 = "\r\n					</select>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n					<td bordercolor=\"#FFFFCC\">&nbsp;</td>\r\n				</tr>\r\n				<tr>\r\n					<td align=\"right\" bordercolor=\"#FFFFCC\">".toCharArray();
  }
}
>>>>>>> .r1334
